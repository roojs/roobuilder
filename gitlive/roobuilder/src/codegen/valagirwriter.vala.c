/* valagirwriter.vala.c generated by valac, the Vala compiler
 * generated from valagirwriter.vala, do not modify */

/* valagirwriter.vala
 *
 * Copyright (C) 2008-2012  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include <vala.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <stdio.h>
#include <valagee.h>
#include <glib/gstdio.h>

#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define VALA_TYPE_GIR_WRITER (vala_gir_writer_get_type ())
#define VALA_GIR_WRITER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_GIR_WRITER, ValaGIRWriter))
#define VALA_GIR_WRITER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_GIR_WRITER, ValaGIRWriterClass))
#define VALA_IS_GIR_WRITER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_GIR_WRITER))
#define VALA_IS_GIR_WRITER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_GIR_WRITER))
#define VALA_GIR_WRITER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_GIR_WRITER, ValaGIRWriterClass))

typedef struct _ValaGIRWriter ValaGIRWriter;
typedef struct _ValaGIRWriterClass ValaGIRWriterClass;
typedef struct _ValaGIRWriterPrivate ValaGIRWriterPrivate;

#define VALA_GIR_WRITER_TYPE_GIR_NAMESPACE (vala_gir_writer_gir_namespace_get_type ())
typedef struct _ValaGIRWriterGIRNamespace ValaGIRWriterGIRNamespace;
#define _vala_code_context_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_context_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))
#define _fclose0(var) ((var == NULL) ? NULL : (var = (fclose (var), NULL)))
#define _vala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (vala_iterable_unref (var), NULL)))
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _vala_gir_writer_gir_namespace_free0(var) ((var == NULL) ? NULL : (var = (vala_gir_writer_gir_namespace_free (var), NULL)))
#define _vala_source_file_unref0(var) ((var == NULL) ? NULL : (var = (vala_source_file_unref (var), NULL)))
#define _g_mapped_file_unref0(var) ((var == NULL) ? NULL : (var = (g_mapped_file_unref (var), NULL)))
#define _vala_iterator_unref0(var) ((var == NULL) ? NULL : (var = (vala_iterator_unref (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _ValaGIRWriter {
	ValaCodeVisitor parent_instance;
	ValaGIRWriterPrivate * priv;
};

struct _ValaGIRWriterClass {
	ValaCodeVisitorClass parent_class;
	gchar* (*get_interface_comment) (ValaGIRWriter* self, ValaInterface* iface);
	gchar* (*get_struct_comment) (ValaGIRWriter* self, ValaStruct* st);
	gchar* (*get_enum_comment) (ValaGIRWriter* self, ValaEnum* en);
	gchar* (*get_class_comment) (ValaGIRWriter* self, ValaClass* c);
	gchar* (*get_error_code_comment) (ValaGIRWriter* self, ValaErrorCode* ecode);
	gchar* (*get_enum_value_comment) (ValaGIRWriter* self, ValaEnumValue* ev);
	gchar* (*get_constant_comment) (ValaGIRWriter* self, ValaConstant* c);
	gchar* (*get_error_domain_comment) (ValaGIRWriter* self, ValaErrorDomain* edomain);
	gchar* (*get_field_comment) (ValaGIRWriter* self, ValaField* f);
	gchar* (*get_delegate_comment) (ValaGIRWriter* self, ValaDelegate* cb);
	gchar* (*get_method_comment) (ValaGIRWriter* self, ValaMethod* m);
	gchar* (*get_property_comment) (ValaGIRWriter* self, ValaProperty* prop);
	gchar* (*get_delegate_return_comment) (ValaGIRWriter* self, ValaDelegate* cb);
	gchar* (*get_signal_return_comment) (ValaGIRWriter* self, ValaSignal* sig);
	gchar* (*get_method_return_comment) (ValaGIRWriter* self, ValaMethod* m);
	gchar* (*get_signal_comment) (ValaGIRWriter* self, ValaSignal* sig);
	gchar* (*get_parameter_comment) (ValaGIRWriter* self, ValaParameter* param);
};

struct _ValaGIRWriterGIRNamespace {
	gchar* ns;
	gchar* version;
};

struct _ValaGIRWriterPrivate {
	ValaCodeContext* context;
	gchar* directory;
	gchar* gir_namespace;
	gchar* gir_version;
	gchar* gir_shared_library;
	GString* buffer;
	FILE* stream;
	ValaHashSet* unannotated_namespaces;
	ValaHashSet* our_namespaces;
	ValaArrayList* hierarchy;
	ValaArrayList* deferred;
	gint indent;
	ValaTypeSymbol* gobject_type;
	ValaTypeSymbol* ginitiallyunowned_type;
	ValaTypeSymbol* gtypeinterface_type;
	ValaTypeSymbol* gtypeinstance_type;
	ValaTypeSymbol* gtype_type;
	ValaArrayList* externals;
	gint enum_value;
};

static gint ValaGIRWriter_private_offset;
static gpointer vala_gir_writer_parent_class = NULL;

VALA_EXTERN GType vala_gir_writer_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ValaGIRWriter, vala_code_visitor_unref)
static GType vala_gir_writer_gir_namespace_get_type (void) G_GNUC_CONST  G_GNUC_UNUSED ;
static ValaGIRWriterGIRNamespace* vala_gir_writer_gir_namespace_dup (const ValaGIRWriterGIRNamespace* self);
static void vala_gir_writer_gir_namespace_free (ValaGIRWriterGIRNamespace* self);
static void vala_gir_writer_gir_namespace_copy (const ValaGIRWriterGIRNamespace* self,
                                         ValaGIRWriterGIRNamespace* dest);
static void vala_gir_writer_gir_namespace_destroy (ValaGIRWriterGIRNamespace* self);
VALA_EXTERN gchar* vala_gir_writer_get_interface_comment (ValaGIRWriter* self,
                                              ValaInterface* iface);
VALA_EXTERN gchar* vala_gir_writer_get_struct_comment (ValaGIRWriter* self,
                                           ValaStruct* st);
VALA_EXTERN gchar* vala_gir_writer_get_enum_comment (ValaGIRWriter* self,
                                         ValaEnum* en);
VALA_EXTERN gchar* vala_gir_writer_get_class_comment (ValaGIRWriter* self,
                                          ValaClass* c);
VALA_EXTERN gchar* vala_gir_writer_get_error_code_comment (ValaGIRWriter* self,
                                               ValaErrorCode* ecode);
VALA_EXTERN gchar* vala_gir_writer_get_enum_value_comment (ValaGIRWriter* self,
                                               ValaEnumValue* ev);
VALA_EXTERN gchar* vala_gir_writer_get_constant_comment (ValaGIRWriter* self,
                                             ValaConstant* c);
VALA_EXTERN gchar* vala_gir_writer_get_error_domain_comment (ValaGIRWriter* self,
                                                 ValaErrorDomain* edomain);
VALA_EXTERN gchar* vala_gir_writer_get_field_comment (ValaGIRWriter* self,
                                          ValaField* f);
VALA_EXTERN gchar* vala_gir_writer_get_delegate_comment (ValaGIRWriter* self,
                                             ValaDelegate* cb);
VALA_EXTERN gchar* vala_gir_writer_get_method_comment (ValaGIRWriter* self,
                                           ValaMethod* m);
VALA_EXTERN gchar* vala_gir_writer_get_property_comment (ValaGIRWriter* self,
                                             ValaProperty* prop);
VALA_EXTERN gchar* vala_gir_writer_get_delegate_return_comment (ValaGIRWriter* self,
                                                    ValaDelegate* cb);
VALA_EXTERN gchar* vala_gir_writer_get_signal_return_comment (ValaGIRWriter* self,
                                                  ValaSignal* sig);
VALA_EXTERN gchar* vala_gir_writer_get_method_return_comment (ValaGIRWriter* self,
                                                  ValaMethod* m);
VALA_EXTERN gchar* vala_gir_writer_get_signal_comment (ValaGIRWriter* self,
                                           ValaSignal* sig);
VALA_EXTERN gchar* vala_gir_writer_get_parameter_comment (ValaGIRWriter* self,
                                              ValaParameter* param);
static gboolean vala_gir_writer_gir_namespace_equal (ValaGIRWriterGIRNamespace *self,
                                              ValaGIRWriterGIRNamespace* g);
static gchar* vala_gir_writer_real_get_interface_comment (ValaGIRWriter* self,
                                                   ValaInterface* iface);
static gchar* vala_gir_writer_real_get_struct_comment (ValaGIRWriter* self,
                                                ValaStruct* st);
static gchar* vala_gir_writer_real_get_enum_comment (ValaGIRWriter* self,
                                              ValaEnum* en);
static gchar* vala_gir_writer_real_get_class_comment (ValaGIRWriter* self,
                                               ValaClass* c);
static gchar* vala_gir_writer_real_get_error_code_comment (ValaGIRWriter* self,
                                                    ValaErrorCode* ecode);
static gchar* vala_gir_writer_real_get_enum_value_comment (ValaGIRWriter* self,
                                                    ValaEnumValue* ev);
static gchar* vala_gir_writer_real_get_constant_comment (ValaGIRWriter* self,
                                                  ValaConstant* c);
static gchar* vala_gir_writer_real_get_error_domain_comment (ValaGIRWriter* self,
                                                      ValaErrorDomain* edomain);
static gchar* vala_gir_writer_real_get_field_comment (ValaGIRWriter* self,
                                               ValaField* f);
static gchar* vala_gir_writer_real_get_delegate_comment (ValaGIRWriter* self,
                                                  ValaDelegate* cb);
static gchar* vala_gir_writer_real_get_method_comment (ValaGIRWriter* self,
                                                ValaMethod* m);
static gchar* vala_gir_writer_real_get_property_comment (ValaGIRWriter* self,
                                                  ValaProperty* prop);
static gchar* vala_gir_writer_real_get_delegate_return_comment (ValaGIRWriter* self,
                                                         ValaDelegate* cb);
static gchar* vala_gir_writer_real_get_signal_return_comment (ValaGIRWriter* self,
                                                       ValaSignal* sig);
static gchar* vala_gir_writer_real_get_method_return_comment (ValaGIRWriter* self,
                                                       ValaMethod* m);
static gchar* vala_gir_writer_real_get_signal_comment (ValaGIRWriter* self,
                                                ValaSignal* sig);
static gchar* vala_gir_writer_real_get_parameter_comment (ValaGIRWriter* self,
                                                   ValaParameter* param);
VALA_EXTERN void vala_gir_writer_write_includes (ValaGIRWriter* self);
static void vala_gir_writer_write_indent_stream (ValaGIRWriter* self);
VALA_EXTERN void vala_gir_writer_write_file (ValaGIRWriter* self,
                                 ValaCodeContext* context,
                                 const gchar* directory,
                                 const gchar* gir_filename,
                                 const gchar* gir_namespace,
                                 const gchar* gir_version,
                                 const gchar* package,
                                 const gchar* gir_shared_library);
static void vala_gir_writer_write_package (ValaGIRWriter* self,
                                    const gchar* package);
static void vala_gir_writer_write_doc (ValaGIRWriter* self,
                                const gchar* comment);
static void vala_gir_writer_write_indent (ValaGIRWriter* self);
static void vala_gir_writer_write_c_includes (ValaGIRWriter* self,
                                       ValaNamespace* ns);
VALA_EXTERN gchar* vala_get_ccode_header_filenames (ValaSymbol* sym);
static void vala_gir_writer_write_c_include (ValaGIRWriter* self,
                                      const gchar* name);
static void vala_gir_writer_real_visit_source_file (ValaCodeVisitor* base,
                                             ValaSourceFile* source_file);
static void vala_gir_writer_real_visit_namespace (ValaCodeVisitor* base,
                                           ValaNamespace* ns);
static gboolean vala_gir_writer_is_visibility (ValaGIRWriter* self,
                                        ValaSymbol* sym);
VALA_EXTERN gchar* vala_get_ccode_prefix (ValaSymbol* sym);
VALA_EXTERN gchar* vala_get_ccode_lower_case_suffix (ValaSymbol* sym);
static void vala_gir_writer_visit_deferred (ValaGIRWriter* self);
static void vala_gir_writer_write_symbol_attributes (ValaGIRWriter* self,
                                              ValaSymbol* symbol);
static gboolean vala_gir_writer_is_introspectable (ValaGIRWriter* self,
                                            ValaSymbol* sym);
static void vala_gir_writer_real_visit_class (ValaCodeVisitor* base,
                                       ValaClass* cl);
static gboolean vala_gir_writer_check_accessibility (ValaGIRWriter* self,
                                              ValaSymbol* sym);
static gboolean vala_gir_writer_has_namespace (ValaGIRWriter* self,
                                        ValaSymbol* sym);
static gchar* vala_gir_writer_get_gir_name (ValaGIRWriter* self,
                                     ValaSymbol* symbol);
static void vala_gir_writer_write_gtype_attributes (ValaGIRWriter* self,
                                             ValaTypeSymbol* symbol,
                                             gboolean symbol_prefix);
VALA_EXTERN gchar* vala_get_ccode_ref_function (ValaTypeSymbol* sym);
VALA_EXTERN gchar* vala_get_ccode_unref_function (ValaObjectTypeSymbol* sym);
VALA_EXTERN gchar* vala_get_ccode_set_value_function (ValaCodeNode* sym);
VALA_EXTERN gchar* vala_get_ccode_get_value_function (ValaCodeNode* sym);
static gchar* vala_gir_writer_gi_type_name (ValaGIRWriter* self,
                                     ValaTypeSymbol* type_symbol);
VALA_EXTERN gchar* vala_get_ccode_name (ValaCodeNode* node);
static void vala_gir_writer_write_type_parameter (ValaGIRWriter* self,
                                           ValaTypeParameter* type_parameter,
                                           const gchar* tag_type);
static void vala_gir_writer_write_ctype_attributes (ValaGIRWriter* self,
                                             ValaTypeSymbol* symbol,
                                             const gchar* suffix,
                                             gboolean symbol_prefix);
static void vala_gir_writer_do_write_signature (ValaGIRWriter* self,
                                         ValaMethod* m,
                                         const gchar* tag_name,
                                         gboolean instance,
                                         const gchar* name,
                                         const gchar* cname,
                                         ValaList* params,
                                         ValaDataType* return_type,
                                         gboolean can_fail,
                                         gboolean write_comment,
                                         gboolean write_attributes);
VALA_EXTERN gchar* vala_get_ccode_finish_name (ValaMethod* m);
VALA_EXTERN gchar* vala_get_ccode_lower_case_name (ValaCodeNode* node,
                                       const gchar* infix);
static void vala_gir_writer_write_signature (ValaGIRWriter* self,
                                      ValaMethod* m,
                                      const gchar* tag_name,
                                      gboolean write_doc,
                                      gboolean instance,
                                      gboolean write_attributes);
static void vala_gir_writer_real_visit_struct (ValaCodeVisitor* base,
                                        ValaStruct* st);
VALA_EXTERN gboolean vala_get_ccode_has_type_id (ValaTypeSymbol* sym);
static void vala_gir_writer_real_visit_interface (ValaCodeVisitor* base,
                                           ValaInterface* iface);
static void vala_gir_writer_real_visit_enum (ValaCodeVisitor* base,
                                      ValaEnum* en);
static void vala_gir_writer_real_visit_enum_value (ValaCodeVisitor* base,
                                            ValaEnumValue* ev);
static gchar* vala_gir_writer_literal_expression_to_value_string (ValaGIRWriter* self,
                                                           ValaExpression* literal);
static void vala_gir_writer_real_visit_error_domain (ValaCodeVisitor* base,
                                              ValaErrorDomain* edomain);
VALA_EXTERN gchar* vala_get_ccode_quark_name (ValaErrorDomain* edomain);
static void vala_gir_writer_real_visit_error_code (ValaCodeVisitor* base,
                                            ValaErrorCode* ecode);
static void vala_gir_writer_real_visit_constant (ValaCodeVisitor* base,
                                          ValaConstant* c);
static void vala_gir_writer_write_type (ValaGIRWriter* self,
                                 ValaDataType* type,
                                 gint index,
                                 ValaParameterDirection direction);
static void vala_gir_writer_real_visit_field (ValaCodeVisitor* base,
                                       ValaField* f);
VALA_EXTERN gboolean vala_get_ccode_array_length (ValaCodeNode* node);
VALA_EXTERN gchar* vala_get_ccode_delegate_target_name (ValaVariable* variable);
VALA_EXTERN gchar* vala_get_ccode_delegate_target_destroy_notify_name (ValaVariable* variable);
static void vala_gir_writer_write_implicit_params (ValaGIRWriter* self,
                                            ValaDataType* type,
                                            gint* index,
                                            gboolean has_array_length,
                                            const gchar* name,
                                            ValaParameterDirection direction);
static void vala_gir_writer_write_param_or_return (ValaGIRWriter* self,
                                            ValaDataType* type,
                                            const gchar* tag,
                                            gint* index,
                                            gboolean has_array_length,
                                            const gchar* name,
                                            const gchar* comment,
                                            ValaParameterDirection direction,
                                            gboolean constructor,
                                            gboolean caller_allocates,
                                            gboolean ellipsis);
static void vala_gir_writer_skip_implicit_params (ValaGIRWriter* self,
                                           ValaDataType* type,
                                           gint* index,
                                           gboolean has_array_length);
VALA_EXTERN gchar* vala_get_ccode_type_id (ValaCodeNode* node);
VALA_EXTERN gchar* vala_get_ccode_copy_function (ValaTypeSymbol* sym);
VALA_EXTERN gchar* vala_get_ccode_destroy_function (ValaTypeSymbol* sym);
static void vala_gir_writer_write_params_and_return (ValaGIRWriter* self,
                                              const gchar* tag_name,
                                              ValaList* params,
                                              ValaList* type_params,
                                              ValaDataType* return_type,
                                              gboolean return_array_length,
                                              const gchar* return_comment,
                                              gboolean constructor,
                                              ValaParameter* instance_param,
                                              gboolean user_data);
static void vala_gir_writer_real_visit_delegate (ValaCodeVisitor* base,
                                          ValaDelegate* cb);
static void vala_gir_writer_real_visit_method (ValaCodeVisitor* base,
                                        ValaMethod* m);
VALA_EXTERN gboolean vala_get_ccode_no_wrapper (ValaMethod* m);
static gboolean vala_gir_writer_is_type_introspectable (ValaGIRWriter* self,
                                                 ValaDataType* type);
static gboolean vala_gir_writer_is_method_introspectable (ValaGIRWriter* self,
                                                   ValaMethod* m);
VALA_EXTERN gchar* vala_get_ccode_lower_case_prefix (ValaSymbol* sym);
static void vala_gir_writer_real_visit_creation_method (ValaCodeVisitor* base,
                                                 ValaCreationMethod* m);
static void vala_gir_writer_real_visit_property (ValaCodeVisitor* base,
                                          ValaProperty* prop);
static void vala_gir_writer_real_visit_signal (ValaCodeVisitor* base,
                                        ValaSignal* sig);
static gchar* vala_gir_writer_get_full_gir_name (ValaGIRWriter* self,
                                          ValaSymbol* sym);
static void vala_gir_writer_gir_namespace_for_symbol (ValaSymbol* sym,
                                               ValaGIRWriterGIRNamespace* result);
static void vala_gir_writer_gir_namespace_init (ValaGIRWriterGIRNamespace *self,
                                         const gchar* ns,
                                         const gchar* version);
VALA_EXTERN ValaGIRWriter* vala_gir_writer_new (void);
VALA_EXTERN ValaGIRWriter* vala_gir_writer_construct (GType object_type);
static void vala_gir_writer_finalize (ValaCodeVisitor * obj);
static GType vala_gir_writer_get_type_once (void);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);
static gssize _vala_array_length (gpointer array);
static inline gpointer _vala_memdup2 (gconstpointer mem,
                        gsize byte_size);

static inline gpointer
vala_gir_writer_get_instance_private (ValaGIRWriter* self)
{
	return G_STRUCT_MEMBER_P (self, ValaGIRWriter_private_offset);
}

static gchar*
vala_gir_writer_real_get_interface_comment (ValaGIRWriter* self,
                                            ValaInterface* iface)
{
	gchar* result;
#line 36 "valagirwriter.vala"
	result = NULL;
#line 36 "valagirwriter.vala"
	return result;
#line 400 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_interface_comment (ValaGIRWriter* self,
                                       ValaInterface* iface)
{
	ValaGIRWriterClass* _klass_;
#line 35 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 35 "valagirwriter.vala"
	if (_klass_->get_interface_comment) {
#line 35 "valagirwriter.vala"
		return _klass_->get_interface_comment (self, iface);
#line 414 "valagirwriter.vala.c"
	}
#line 35 "valagirwriter.vala"
	return NULL;
#line 418 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_struct_comment (ValaGIRWriter* self,
                                         ValaStruct* st)
{
	gchar* result;
#line 40 "valagirwriter.vala"
	result = NULL;
#line 40 "valagirwriter.vala"
	return result;
#line 430 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_struct_comment (ValaGIRWriter* self,
                                    ValaStruct* st)
{
	ValaGIRWriterClass* _klass_;
#line 39 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 39 "valagirwriter.vala"
	if (_klass_->get_struct_comment) {
#line 39 "valagirwriter.vala"
		return _klass_->get_struct_comment (self, st);
#line 444 "valagirwriter.vala.c"
	}
#line 39 "valagirwriter.vala"
	return NULL;
#line 448 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_enum_comment (ValaGIRWriter* self,
                                       ValaEnum* en)
{
	gchar* result;
#line 44 "valagirwriter.vala"
	result = NULL;
#line 44 "valagirwriter.vala"
	return result;
#line 460 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_enum_comment (ValaGIRWriter* self,
                                  ValaEnum* en)
{
	ValaGIRWriterClass* _klass_;
#line 43 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 43 "valagirwriter.vala"
	if (_klass_->get_enum_comment) {
#line 43 "valagirwriter.vala"
		return _klass_->get_enum_comment (self, en);
#line 474 "valagirwriter.vala.c"
	}
#line 43 "valagirwriter.vala"
	return NULL;
#line 478 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_class_comment (ValaGIRWriter* self,
                                        ValaClass* c)
{
	gchar* result;
#line 48 "valagirwriter.vala"
	result = NULL;
#line 48 "valagirwriter.vala"
	return result;
#line 490 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_class_comment (ValaGIRWriter* self,
                                   ValaClass* c)
{
	ValaGIRWriterClass* _klass_;
#line 47 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 47 "valagirwriter.vala"
	if (_klass_->get_class_comment) {
#line 47 "valagirwriter.vala"
		return _klass_->get_class_comment (self, c);
#line 504 "valagirwriter.vala.c"
	}
#line 47 "valagirwriter.vala"
	return NULL;
#line 508 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_error_code_comment (ValaGIRWriter* self,
                                             ValaErrorCode* ecode)
{
	gchar* result;
#line 52 "valagirwriter.vala"
	result = NULL;
#line 52 "valagirwriter.vala"
	return result;
#line 520 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_error_code_comment (ValaGIRWriter* self,
                                        ValaErrorCode* ecode)
{
	ValaGIRWriterClass* _klass_;
#line 51 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 51 "valagirwriter.vala"
	if (_klass_->get_error_code_comment) {
#line 51 "valagirwriter.vala"
		return _klass_->get_error_code_comment (self, ecode);
#line 534 "valagirwriter.vala.c"
	}
#line 51 "valagirwriter.vala"
	return NULL;
#line 538 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_enum_value_comment (ValaGIRWriter* self,
                                             ValaEnumValue* ev)
{
	gchar* result;
#line 56 "valagirwriter.vala"
	result = NULL;
#line 56 "valagirwriter.vala"
	return result;
#line 550 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_enum_value_comment (ValaGIRWriter* self,
                                        ValaEnumValue* ev)
{
	ValaGIRWriterClass* _klass_;
#line 55 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 55 "valagirwriter.vala"
	if (_klass_->get_enum_value_comment) {
#line 55 "valagirwriter.vala"
		return _klass_->get_enum_value_comment (self, ev);
#line 564 "valagirwriter.vala.c"
	}
#line 55 "valagirwriter.vala"
	return NULL;
#line 568 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_constant_comment (ValaGIRWriter* self,
                                           ValaConstant* c)
{
	gchar* result;
#line 60 "valagirwriter.vala"
	result = NULL;
#line 60 "valagirwriter.vala"
	return result;
#line 580 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_constant_comment (ValaGIRWriter* self,
                                      ValaConstant* c)
{
	ValaGIRWriterClass* _klass_;
#line 59 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 59 "valagirwriter.vala"
	if (_klass_->get_constant_comment) {
#line 59 "valagirwriter.vala"
		return _klass_->get_constant_comment (self, c);
#line 594 "valagirwriter.vala.c"
	}
#line 59 "valagirwriter.vala"
	return NULL;
#line 598 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_error_domain_comment (ValaGIRWriter* self,
                                               ValaErrorDomain* edomain)
{
	gchar* result;
#line 64 "valagirwriter.vala"
	result = NULL;
#line 64 "valagirwriter.vala"
	return result;
#line 610 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_error_domain_comment (ValaGIRWriter* self,
                                          ValaErrorDomain* edomain)
{
	ValaGIRWriterClass* _klass_;
#line 63 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 63 "valagirwriter.vala"
	if (_klass_->get_error_domain_comment) {
#line 63 "valagirwriter.vala"
		return _klass_->get_error_domain_comment (self, edomain);
#line 624 "valagirwriter.vala.c"
	}
#line 63 "valagirwriter.vala"
	return NULL;
#line 628 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_field_comment (ValaGIRWriter* self,
                                        ValaField* f)
{
	gchar* result;
#line 68 "valagirwriter.vala"
	result = NULL;
#line 68 "valagirwriter.vala"
	return result;
#line 640 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_field_comment (ValaGIRWriter* self,
                                   ValaField* f)
{
	ValaGIRWriterClass* _klass_;
#line 67 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 67 "valagirwriter.vala"
	if (_klass_->get_field_comment) {
#line 67 "valagirwriter.vala"
		return _klass_->get_field_comment (self, f);
#line 654 "valagirwriter.vala.c"
	}
#line 67 "valagirwriter.vala"
	return NULL;
#line 658 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_delegate_comment (ValaGIRWriter* self,
                                           ValaDelegate* cb)
{
	gchar* result;
#line 72 "valagirwriter.vala"
	result = NULL;
#line 72 "valagirwriter.vala"
	return result;
#line 670 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_delegate_comment (ValaGIRWriter* self,
                                      ValaDelegate* cb)
{
	ValaGIRWriterClass* _klass_;
#line 71 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 71 "valagirwriter.vala"
	if (_klass_->get_delegate_comment) {
#line 71 "valagirwriter.vala"
		return _klass_->get_delegate_comment (self, cb);
#line 684 "valagirwriter.vala.c"
	}
#line 71 "valagirwriter.vala"
	return NULL;
#line 688 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_method_comment (ValaGIRWriter* self,
                                         ValaMethod* m)
{
	gchar* result;
#line 76 "valagirwriter.vala"
	result = NULL;
#line 76 "valagirwriter.vala"
	return result;
#line 700 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_method_comment (ValaGIRWriter* self,
                                    ValaMethod* m)
{
	ValaGIRWriterClass* _klass_;
#line 75 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 75 "valagirwriter.vala"
	if (_klass_->get_method_comment) {
#line 75 "valagirwriter.vala"
		return _klass_->get_method_comment (self, m);
#line 714 "valagirwriter.vala.c"
	}
#line 75 "valagirwriter.vala"
	return NULL;
#line 718 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_property_comment (ValaGIRWriter* self,
                                           ValaProperty* prop)
{
	gchar* result;
#line 80 "valagirwriter.vala"
	result = NULL;
#line 80 "valagirwriter.vala"
	return result;
#line 730 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_property_comment (ValaGIRWriter* self,
                                      ValaProperty* prop)
{
	ValaGIRWriterClass* _klass_;
#line 79 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 79 "valagirwriter.vala"
	if (_klass_->get_property_comment) {
#line 79 "valagirwriter.vala"
		return _klass_->get_property_comment (self, prop);
#line 744 "valagirwriter.vala.c"
	}
#line 79 "valagirwriter.vala"
	return NULL;
#line 748 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_delegate_return_comment (ValaGIRWriter* self,
                                                  ValaDelegate* cb)
{
	gchar* result;
#line 84 "valagirwriter.vala"
	result = NULL;
#line 84 "valagirwriter.vala"
	return result;
#line 760 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_delegate_return_comment (ValaGIRWriter* self,
                                             ValaDelegate* cb)
{
	ValaGIRWriterClass* _klass_;
#line 83 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 83 "valagirwriter.vala"
	if (_klass_->get_delegate_return_comment) {
#line 83 "valagirwriter.vala"
		return _klass_->get_delegate_return_comment (self, cb);
#line 774 "valagirwriter.vala.c"
	}
#line 83 "valagirwriter.vala"
	return NULL;
#line 778 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_signal_return_comment (ValaGIRWriter* self,
                                                ValaSignal* sig)
{
	gchar* result;
#line 88 "valagirwriter.vala"
	result = NULL;
#line 88 "valagirwriter.vala"
	return result;
#line 790 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_signal_return_comment (ValaGIRWriter* self,
                                           ValaSignal* sig)
{
	ValaGIRWriterClass* _klass_;
#line 87 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 87 "valagirwriter.vala"
	if (_klass_->get_signal_return_comment) {
#line 87 "valagirwriter.vala"
		return _klass_->get_signal_return_comment (self, sig);
#line 804 "valagirwriter.vala.c"
	}
#line 87 "valagirwriter.vala"
	return NULL;
#line 808 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_method_return_comment (ValaGIRWriter* self,
                                                ValaMethod* m)
{
	gchar* result;
#line 92 "valagirwriter.vala"
	result = NULL;
#line 92 "valagirwriter.vala"
	return result;
#line 820 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_method_return_comment (ValaGIRWriter* self,
                                           ValaMethod* m)
{
	ValaGIRWriterClass* _klass_;
#line 91 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 91 "valagirwriter.vala"
	if (_klass_->get_method_return_comment) {
#line 91 "valagirwriter.vala"
		return _klass_->get_method_return_comment (self, m);
#line 834 "valagirwriter.vala.c"
	}
#line 91 "valagirwriter.vala"
	return NULL;
#line 838 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_signal_comment (ValaGIRWriter* self,
                                         ValaSignal* sig)
{
	gchar* result;
#line 96 "valagirwriter.vala"
	result = NULL;
#line 96 "valagirwriter.vala"
	return result;
#line 850 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_signal_comment (ValaGIRWriter* self,
                                    ValaSignal* sig)
{
	ValaGIRWriterClass* _klass_;
#line 95 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 95 "valagirwriter.vala"
	if (_klass_->get_signal_comment) {
#line 95 "valagirwriter.vala"
		return _klass_->get_signal_comment (self, sig);
#line 864 "valagirwriter.vala.c"
	}
#line 95 "valagirwriter.vala"
	return NULL;
#line 868 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_real_get_parameter_comment (ValaGIRWriter* self,
                                            ValaParameter* param)
{
	gchar* result;
#line 100 "valagirwriter.vala"
	result = NULL;
#line 100 "valagirwriter.vala"
	return result;
#line 880 "valagirwriter.vala.c"
}

gchar*
vala_gir_writer_get_parameter_comment (ValaGIRWriter* self,
                                       ValaParameter* param)
{
	ValaGIRWriterClass* _klass_;
#line 99 "valagirwriter.vala"
	_klass_ = VALA_GIR_WRITER_GET_CLASS (self);
#line 99 "valagirwriter.vala"
	if (_klass_->get_parameter_comment) {
#line 99 "valagirwriter.vala"
		return _klass_->get_parameter_comment (self, param);
#line 894 "valagirwriter.vala.c"
	}
#line 99 "valagirwriter.vala"
	return NULL;
#line 898 "valagirwriter.vala.c"
}

void
vala_gir_writer_write_includes (ValaGIRWriter* self)
{
	{
		ValaArrayList* _i_list = NULL;
		ValaArrayList* _tmp0_;
		gint _i_size = 0;
		ValaArrayList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _i_index = 0;
#line 142 "valagirwriter.vala"
		_tmp0_ = self->priv->externals;
#line 142 "valagirwriter.vala"
		_i_list = _tmp0_;
#line 142 "valagirwriter.vala"
		_tmp1_ = _i_list;
#line 142 "valagirwriter.vala"
		_tmp2_ = vala_collection_get_size ((ValaCollection*) _tmp1_);
#line 142 "valagirwriter.vala"
		_tmp3_ = _tmp2_;
#line 142 "valagirwriter.vala"
		_i_size = _tmp3_;
#line 142 "valagirwriter.vala"
		_i_index = -1;
#line 142 "valagirwriter.vala"
		while (TRUE) {
#line 928 "valagirwriter.vala.c"
			gint _tmp4_;
			gint _tmp5_;
			ValaGIRWriterGIRNamespace* i = NULL;
			ValaArrayList* _tmp6_;
			gpointer _tmp7_;
			ValaGIRWriterGIRNamespace* _tmp8_;
			const gchar* _tmp9_;
			const gchar* _tmp10_;
#line 142 "valagirwriter.vala"
			_i_index = _i_index + 1;
#line 142 "valagirwriter.vala"
			_tmp4_ = _i_index;
#line 142 "valagirwriter.vala"
			_tmp5_ = _i_size;
#line 142 "valagirwriter.vala"
			if (!(_tmp4_ < _tmp5_)) {
#line 142 "valagirwriter.vala"
				break;
#line 947 "valagirwriter.vala.c"
			}
#line 142 "valagirwriter.vala"
			_tmp6_ = _i_list;
#line 142 "valagirwriter.vala"
			_tmp7_ = vala_list_get ((ValaList*) _tmp6_, _i_index);
#line 142 "valagirwriter.vala"
			i = (ValaGIRWriterGIRNamespace*) _tmp7_;
#line 143 "valagirwriter.vala"
			_tmp8_ = i;
#line 143 "valagirwriter.vala"
			_tmp9_ = (*_tmp8_).ns;
#line 143 "valagirwriter.vala"
			_tmp10_ = self->priv->gir_namespace;
#line 143 "valagirwriter.vala"
			if (g_strcmp0 (_tmp9_, _tmp10_) != 0) {
#line 963 "valagirwriter.vala.c"
				FILE* _tmp11_;
				ValaGIRWriterGIRNamespace* _tmp12_;
				const gchar* _tmp13_;
				ValaGIRWriterGIRNamespace* _tmp14_;
				const gchar* _tmp15_;
#line 144 "valagirwriter.vala"
				vala_gir_writer_write_indent_stream (self);
#line 145 "valagirwriter.vala"
				_tmp11_ = self->priv->stream;
#line 145 "valagirwriter.vala"
				_tmp12_ = i;
#line 145 "valagirwriter.vala"
				_tmp13_ = (*_tmp12_).ns;
#line 145 "valagirwriter.vala"
				_tmp14_ = i;
#line 145 "valagirwriter.vala"
				_tmp15_ = (*_tmp14_).version;
#line 145 "valagirwriter.vala"
				fprintf (_tmp11_, "<include name=\"%s\" version=\"%s\"/>\n", _tmp13_, _tmp15_);
#line 983 "valagirwriter.vala.c"
			}
#line 142 "valagirwriter.vala"
			_vala_gir_writer_gir_namespace_free0 (i);
#line 987 "valagirwriter.vala.c"
		}
	}
}

/**
 * Writes the public interface of the specified code context into the
 * specified file.
 *
 * @param context      a code context
 * @param gir_filename a relative or absolute filename
 */
static gpointer
_vala_code_context_ref0 (gpointer self)
{
#line 159 "valagirwriter.vala"
	return self ? vala_code_context_ref (self) : NULL;
#line 1004 "valagirwriter.vala.c"
}

static gpointer
_vala_code_node_ref0 (gpointer self)
{
#line 165 "valagirwriter.vala"
	return self ? vala_code_node_ref (self) : NULL;
#line 1012 "valagirwriter.vala.c"
}

void
vala_gir_writer_write_file (ValaGIRWriter* self,
                            ValaCodeContext* context,
                            const gchar* directory,
                            const gchar* gir_filename,
                            const gchar* gir_namespace,
                            const gchar* gir_version,
                            const gchar* package,
                            const gchar* gir_shared_library)
{
	ValaCodeContext* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	ValaNamespace* root_symbol = NULL;
	ValaNamespace* _tmp5_;
	ValaNamespace* _tmp6_;
	ValaNamespace* _tmp7_;
	ValaSymbol* glib_ns = NULL;
	ValaNamespace* _tmp8_;
	ValaScope* _tmp9_;
	ValaScope* _tmp10_;
	ValaSymbol* _tmp11_;
	ValaSymbol* _tmp12_;
	ValaScope* _tmp13_;
	ValaScope* _tmp14_;
	ValaSymbol* _tmp15_;
	ValaSymbol* _tmp16_;
	ValaScope* _tmp17_;
	ValaScope* _tmp18_;
	ValaSymbol* _tmp19_;
	ValaSymbol* _tmp20_;
	ValaScope* _tmp21_;
	ValaScope* _tmp22_;
	ValaSymbol* _tmp23_;
	ValaSymbol* _tmp24_;
	ValaScope* _tmp25_;
	ValaScope* _tmp26_;
	ValaSymbol* _tmp27_;
	ValaSymbol* _tmp28_;
	ValaScope* _tmp29_;
	ValaScope* _tmp30_;
	ValaSymbol* _tmp31_;
	gint _tmp41_;
	GString* _tmp42_;
	gchar* filename = NULL;
	gchar* _tmp43_;
	gboolean file_exists = FALSE;
	const gchar* _tmp44_;
	gchar* temp_filename = NULL;
	const gchar* _tmp45_;
	gchar* _tmp46_;
	FILE* _tmp51_;
	FILE* _tmp53_;
	gchar* _tmp54_ = NULL;
	gboolean _tmp55_;
	gboolean _tmp56_;
	gchar* header = NULL;
	gchar* _tmp67_;
	FILE* _tmp68_;
	const gchar* _tmp69_;
	FILE* _tmp70_;
	FILE* _tmp71_;
	FILE* _tmp72_;
	FILE* _tmp73_;
	FILE* _tmp74_;
	gint _tmp75_;
	gint _tmp76_;
	FILE* _tmp77_;
	GString* _tmp78_;
	const gchar* _tmp79_;
	ValaHashSet* _tmp121_;
	gint _tmp122_;
	gint _tmp123_;
	GError* _inner_error0_ = NULL;
#line 159 "valagirwriter.vala"
	_tmp0_ = _vala_code_context_ref0 (context);
#line 159 "valagirwriter.vala"
	_vala_code_context_unref0 (self->priv->context);
#line 159 "valagirwriter.vala"
	self->priv->context = _tmp0_;
#line 160 "valagirwriter.vala"
	_tmp1_ = g_strdup (directory);
#line 160 "valagirwriter.vala"
	_g_free0 (self->priv->directory);
#line 160 "valagirwriter.vala"
	self->priv->directory = _tmp1_;
#line 161 "valagirwriter.vala"
	_tmp2_ = g_strdup (gir_namespace);
#line 161 "valagirwriter.vala"
	_g_free0 (self->priv->gir_namespace);
#line 161 "valagirwriter.vala"
	self->priv->gir_namespace = _tmp2_;
#line 162 "valagirwriter.vala"
	_tmp3_ = g_strdup (gir_version);
#line 162 "valagirwriter.vala"
	_g_free0 (self->priv->gir_version);
#line 162 "valagirwriter.vala"
	self->priv->gir_version = _tmp3_;
#line 163 "valagirwriter.vala"
	_tmp4_ = g_strdup (gir_shared_library);
#line 163 "valagirwriter.vala"
	_g_free0 (self->priv->gir_shared_library);
#line 163 "valagirwriter.vala"
	self->priv->gir_shared_library = _tmp4_;
#line 165 "valagirwriter.vala"
	_tmp5_ = vala_code_context_get_root (context);
#line 165 "valagirwriter.vala"
	_tmp6_ = _tmp5_;
#line 165 "valagirwriter.vala"
	_tmp7_ = _vala_code_node_ref0 (_tmp6_);
#line 165 "valagirwriter.vala"
	root_symbol = _tmp7_;
#line 166 "valagirwriter.vala"
	_tmp8_ = root_symbol;
#line 166 "valagirwriter.vala"
	_tmp9_ = vala_symbol_get_scope ((ValaSymbol*) _tmp8_);
#line 166 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 166 "valagirwriter.vala"
	_tmp11_ = vala_scope_lookup (_tmp10_, "GLib");
#line 166 "valagirwriter.vala"
	glib_ns = _tmp11_;
#line 167 "valagirwriter.vala"
	_tmp12_ = glib_ns;
#line 167 "valagirwriter.vala"
	_tmp13_ = vala_symbol_get_scope (_tmp12_);
#line 167 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 167 "valagirwriter.vala"
	_tmp15_ = vala_scope_lookup (_tmp14_, "Object");
#line 167 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gobject_type);
#line 167 "valagirwriter.vala"
	self->priv->gobject_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp15_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol);
#line 168 "valagirwriter.vala"
	_tmp16_ = glib_ns;
#line 168 "valagirwriter.vala"
	_tmp17_ = vala_symbol_get_scope (_tmp16_);
#line 168 "valagirwriter.vala"
	_tmp18_ = _tmp17_;
#line 168 "valagirwriter.vala"
	_tmp19_ = vala_scope_lookup (_tmp18_, "InitiallyUnowned");
#line 168 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->ginitiallyunowned_type);
#line 168 "valagirwriter.vala"
	self->priv->ginitiallyunowned_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol);
#line 169 "valagirwriter.vala"
	_tmp20_ = glib_ns;
#line 169 "valagirwriter.vala"
	_tmp21_ = vala_symbol_get_scope (_tmp20_);
#line 169 "valagirwriter.vala"
	_tmp22_ = _tmp21_;
#line 169 "valagirwriter.vala"
	_tmp23_ = vala_scope_lookup (_tmp22_, "TypeInterface");
#line 169 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtypeinterface_type);
#line 169 "valagirwriter.vala"
	self->priv->gtypeinterface_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp23_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol);
#line 170 "valagirwriter.vala"
	_tmp24_ = glib_ns;
#line 170 "valagirwriter.vala"
	_tmp25_ = vala_symbol_get_scope (_tmp24_);
#line 170 "valagirwriter.vala"
	_tmp26_ = _tmp25_;
#line 170 "valagirwriter.vala"
	_tmp27_ = vala_scope_lookup (_tmp26_, "TypeInstance");
#line 170 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtypeinstance_type);
#line 170 "valagirwriter.vala"
	self->priv->gtypeinstance_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol);
#line 171 "valagirwriter.vala"
	_tmp28_ = glib_ns;
#line 171 "valagirwriter.vala"
	_tmp29_ = vala_symbol_get_scope (_tmp28_);
#line 171 "valagirwriter.vala"
	_tmp30_ = _tmp29_;
#line 171 "valagirwriter.vala"
	_tmp31_ = vala_scope_lookup (_tmp30_, "Type");
#line 171 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtype_type);
#line 171 "valagirwriter.vala"
	self->priv->gtype_type = G_TYPE_CHECK_INSTANCE_CAST (_tmp31_, VALA_TYPE_TYPESYMBOL, ValaTypeSymbol);
#line 173 "valagirwriter.vala"
	vala_gir_writer_write_package (self, package);
#line 1201 "valagirwriter.vala.c"
	{
		ValaList* _file_list = NULL;
		ValaList* _tmp32_;
		gint _file_size = 0;
		ValaList* _tmp33_;
		gint _tmp34_;
		gint _tmp35_;
		gint _file_index = 0;
#line 176 "valagirwriter.vala"
		_tmp32_ = vala_code_context_get_source_files (context);
#line 176 "valagirwriter.vala"
		_file_list = _tmp32_;
#line 176 "valagirwriter.vala"
		_tmp33_ = _file_list;
#line 176 "valagirwriter.vala"
		_tmp34_ = vala_collection_get_size ((ValaCollection*) _tmp33_);
#line 176 "valagirwriter.vala"
		_tmp35_ = _tmp34_;
#line 176 "valagirwriter.vala"
		_file_size = _tmp35_;
#line 176 "valagirwriter.vala"
		_file_index = -1;
#line 176 "valagirwriter.vala"
		while (TRUE) {
#line 1226 "valagirwriter.vala.c"
			gint _tmp36_;
			gint _tmp37_;
			ValaSourceFile* file = NULL;
			ValaList* _tmp38_;
			gpointer _tmp39_;
			ValaSourceFile* _tmp40_;
#line 176 "valagirwriter.vala"
			_file_index = _file_index + 1;
#line 176 "valagirwriter.vala"
			_tmp36_ = _file_index;
#line 176 "valagirwriter.vala"
			_tmp37_ = _file_size;
#line 176 "valagirwriter.vala"
			if (!(_tmp36_ < _tmp37_)) {
#line 176 "valagirwriter.vala"
				break;
#line 1243 "valagirwriter.vala.c"
			}
#line 176 "valagirwriter.vala"
			_tmp38_ = _file_list;
#line 176 "valagirwriter.vala"
			_tmp39_ = vala_list_get (_tmp38_, _file_index);
#line 176 "valagirwriter.vala"
			file = (ValaSourceFile*) _tmp39_;
#line 177 "valagirwriter.vala"
			_tmp40_ = file;
#line 177 "valagirwriter.vala"
			vala_source_file_accept (_tmp40_, (ValaCodeVisitor*) self);
#line 176 "valagirwriter.vala"
			_vala_source_file_unref0 (file);
#line 1257 "valagirwriter.vala.c"
		}
	}
#line 180 "valagirwriter.vala"
	vala_code_context_accept (context, (ValaCodeVisitor*) self);
#line 182 "valagirwriter.vala"
	_tmp41_ = self->priv->indent;
#line 182 "valagirwriter.vala"
	self->priv->indent = _tmp41_ - 1;
#line 183 "valagirwriter.vala"
	_tmp42_ = self->priv->buffer;
#line 183 "valagirwriter.vala"
	g_string_append_printf (_tmp42_, "</repository>\n");
#line 185 "valagirwriter.vala"
	_tmp43_ = g_strdup_printf ("%s%c%s", directory, (gint) G_DIR_SEPARATOR, gir_filename);
#line 185 "valagirwriter.vala"
	filename = _tmp43_;
#line 186 "valagirwriter.vala"
	_tmp44_ = filename;
#line 186 "valagirwriter.vala"
	file_exists = g_file_test (_tmp44_, G_FILE_TEST_EXISTS);
#line 187 "valagirwriter.vala"
	_tmp45_ = filename;
#line 187 "valagirwriter.vala"
	_tmp46_ = g_strdup_printf ("%s.valatmp", _tmp45_);
#line 187 "valagirwriter.vala"
	temp_filename = _tmp46_;
#line 189 "valagirwriter.vala"
	if (file_exists) {
#line 1286 "valagirwriter.vala.c"
		const gchar* _tmp47_;
		FILE* _tmp48_;
#line 190 "valagirwriter.vala"
		_tmp47_ = temp_filename;
#line 190 "valagirwriter.vala"
		_tmp48_ = g_fopen (_tmp47_, "w");
#line 190 "valagirwriter.vala"
		_fclose0 (self->priv->stream);
#line 190 "valagirwriter.vala"
		self->priv->stream = _tmp48_;
#line 1297 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp49_;
		FILE* _tmp50_;
#line 192 "valagirwriter.vala"
		_tmp49_ = filename;
#line 192 "valagirwriter.vala"
		_tmp50_ = g_fopen (_tmp49_, "w");
#line 192 "valagirwriter.vala"
		_fclose0 (self->priv->stream);
#line 192 "valagirwriter.vala"
		self->priv->stream = _tmp50_;
#line 1309 "valagirwriter.vala.c"
	}
#line 195 "valagirwriter.vala"
	_tmp51_ = self->priv->stream;
#line 195 "valagirwriter.vala"
	if (_tmp51_ == NULL) {
#line 1315 "valagirwriter.vala.c"
		const gchar* _tmp52_;
#line 196 "valagirwriter.vala"
		_tmp52_ = filename;
#line 196 "valagirwriter.vala"
		vala_report_error (NULL, "unable to open `%s' for writing", _tmp52_);
#line 197 "valagirwriter.vala"
		_vala_code_context_unref0 (self->priv->context);
#line 197 "valagirwriter.vala"
		self->priv->context = NULL;
#line 198 "valagirwriter.vala"
		_g_free0 (temp_filename);
#line 198 "valagirwriter.vala"
		_g_free0 (filename);
#line 198 "valagirwriter.vala"
		_vala_code_node_unref0 (glib_ns);
#line 198 "valagirwriter.vala"
		_vala_code_node_unref0 (root_symbol);
#line 198 "valagirwriter.vala"
		return;
#line 1335 "valagirwriter.vala.c"
	}
#line 201 "valagirwriter.vala"
	_tmp53_ = self->priv->stream;
#line 201 "valagirwriter.vala"
	fprintf (_tmp53_, "<?xml version=\"1.0\"?>\n");
#line 203 "valagirwriter.vala"
	_tmp55_ = vala_code_context_get_version_header (context);
#line 203 "valagirwriter.vala"
	_tmp56_ = _tmp55_;
#line 203 "valagirwriter.vala"
	if (_tmp56_) {
#line 1347 "valagirwriter.vala.c"
		const gchar* _tmp57_;
		gchar* _tmp58_;
		gchar* _tmp59_;
		const gchar* _tmp60_;
		gchar* _tmp61_;
#line 204 "valagirwriter.vala"
		_tmp57_ = filename;
#line 204 "valagirwriter.vala"
		_tmp58_ = g_path_get_basename (_tmp57_);
#line 204 "valagirwriter.vala"
		_tmp59_ = _tmp58_;
#line 204 "valagirwriter.vala"
		_tmp60_ = g_get_prgname ();
#line 204 "valagirwriter.vala"
		_tmp61_ = g_strdup_printf ("<!-- %s generated by %s %s, do not modify. -->", _tmp59_, _tmp60_, VALA_BUILD_VERSION);
#line 204 "valagirwriter.vala"
		_g_free0 (_tmp54_);
#line 204 "valagirwriter.vala"
		_tmp54_ = _tmp61_;
#line 204 "valagirwriter.vala"
		_g_free0 (_tmp59_);
#line 1369 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp62_;
		gchar* _tmp63_;
		gchar* _tmp64_;
		const gchar* _tmp65_;
		gchar* _tmp66_;
#line 205 "valagirwriter.vala"
		_tmp62_ = filename;
#line 205 "valagirwriter.vala"
		_tmp63_ = g_path_get_basename (_tmp62_);
#line 205 "valagirwriter.vala"
		_tmp64_ = _tmp63_;
#line 205 "valagirwriter.vala"
		_tmp65_ = g_get_prgname ();
#line 205 "valagirwriter.vala"
		_tmp66_ = g_strdup_printf ("<!-- %s generated by %s, do not modify. -->", _tmp64_, _tmp65_);
#line 205 "valagirwriter.vala"
		_g_free0 (_tmp54_);
#line 205 "valagirwriter.vala"
		_tmp54_ = _tmp66_;
#line 205 "valagirwriter.vala"
		_g_free0 (_tmp64_);
#line 1392 "valagirwriter.vala.c"
	}
#line 203 "valagirwriter.vala"
	_tmp67_ = g_strdup (_tmp54_);
#line 203 "valagirwriter.vala"
	header = _tmp67_;
#line 206 "valagirwriter.vala"
	_tmp68_ = self->priv->stream;
#line 206 "valagirwriter.vala"
	_tmp69_ = header;
#line 206 "valagirwriter.vala"
	fprintf (_tmp68_, "%s\n", _tmp69_);
#line 208 "valagirwriter.vala"
	_tmp70_ = self->priv->stream;
#line 208 "valagirwriter.vala"
	fprintf (_tmp70_, "<repository version=\"1.2\"");
#line 209 "valagirwriter.vala"
	_tmp71_ = self->priv->stream;
#line 209 "valagirwriter.vala"
	fprintf (_tmp71_, " xmlns=\"http://www.gtk.org/introspection/core/1.0\"");
#line 210 "valagirwriter.vala"
	_tmp72_ = self->priv->stream;
#line 210 "valagirwriter.vala"
	fprintf (_tmp72_, " xmlns:c=\"http://www.gtk.org/introspection/c/1.0\"");
#line 211 "valagirwriter.vala"
	_tmp73_ = self->priv->stream;
#line 211 "valagirwriter.vala"
	fprintf (_tmp73_, " xmlns:glib=\"http://www.gtk.org/introspection/glib/1.0\"");
#line 212 "valagirwriter.vala"
	_tmp74_ = self->priv->stream;
#line 212 "valagirwriter.vala"
	fprintf (_tmp74_, ">\n");
#line 213 "valagirwriter.vala"
	_tmp75_ = self->priv->indent;
#line 213 "valagirwriter.vala"
	self->priv->indent = _tmp75_ + 1;
#line 215 "valagirwriter.vala"
	vala_gir_writer_write_includes (self);
#line 216 "valagirwriter.vala"
	_tmp76_ = self->priv->indent;
#line 216 "valagirwriter.vala"
	self->priv->indent = _tmp76_ - 1;
#line 218 "valagirwriter.vala"
	_tmp77_ = self->priv->stream;
#line 218 "valagirwriter.vala"
	_tmp78_ = self->priv->buffer;
#line 218 "valagirwriter.vala"
	_tmp79_ = _tmp78_->str;
#line 218 "valagirwriter.vala"
	fputs (_tmp79_, _tmp77_);
#line 219 "valagirwriter.vala"
	_fclose0 (self->priv->stream);
#line 219 "valagirwriter.vala"
	self->priv->stream = NULL;
#line 221 "valagirwriter.vala"
	if (file_exists) {
#line 1448 "valagirwriter.vala.c"
		gboolean changed = FALSE;
#line 222 "valagirwriter.vala"
		changed = TRUE;
#line 1452 "valagirwriter.vala.c"
		{
			GMappedFile* old_file = NULL;
			const gchar* _tmp80_;
			GMappedFile* _tmp81_;
			GMappedFile* new_file = NULL;
			const gchar* _tmp82_;
			GMappedFile* _tmp83_;
			gsize len = 0UL;
			GMappedFile* _tmp84_;
			GMappedFile* _tmp85_;
#line 225 "valagirwriter.vala"
			_tmp80_ = filename;
#line 225 "valagirwriter.vala"
			_tmp81_ = g_mapped_file_new (_tmp80_, FALSE, &_inner_error0_);
#line 225 "valagirwriter.vala"
			old_file = _tmp81_;
#line 225 "valagirwriter.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 225 "valagirwriter.vala"
				if (_inner_error0_->domain == G_FILE_ERROR) {
#line 1473 "valagirwriter.vala.c"
					goto __catch0_g_file_error;
				}
#line 225 "valagirwriter.vala"
				_g_free0 (header);
#line 225 "valagirwriter.vala"
				_g_free0 (_tmp54_);
#line 225 "valagirwriter.vala"
				_g_free0 (temp_filename);
#line 225 "valagirwriter.vala"
				_g_free0 (filename);
#line 225 "valagirwriter.vala"
				_vala_code_node_unref0 (glib_ns);
#line 225 "valagirwriter.vala"
				_vala_code_node_unref0 (root_symbol);
#line 225 "valagirwriter.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 225 "valagirwriter.vala"
				g_clear_error (&_inner_error0_);
#line 225 "valagirwriter.vala"
				return;
#line 1494 "valagirwriter.vala.c"
			}
#line 226 "valagirwriter.vala"
			_tmp82_ = temp_filename;
#line 226 "valagirwriter.vala"
			_tmp83_ = g_mapped_file_new (_tmp82_, FALSE, &_inner_error0_);
#line 226 "valagirwriter.vala"
			new_file = _tmp83_;
#line 226 "valagirwriter.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 226 "valagirwriter.vala"
				_g_mapped_file_unref0 (old_file);
#line 226 "valagirwriter.vala"
				if (_inner_error0_->domain == G_FILE_ERROR) {
#line 1508 "valagirwriter.vala.c"
					goto __catch0_g_file_error;
				}
#line 226 "valagirwriter.vala"
				_g_free0 (header);
#line 226 "valagirwriter.vala"
				_g_free0 (_tmp54_);
#line 226 "valagirwriter.vala"
				_g_free0 (temp_filename);
#line 226 "valagirwriter.vala"
				_g_free0 (filename);
#line 226 "valagirwriter.vala"
				_vala_code_node_unref0 (glib_ns);
#line 226 "valagirwriter.vala"
				_vala_code_node_unref0 (root_symbol);
#line 226 "valagirwriter.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 226 "valagirwriter.vala"
				g_clear_error (&_inner_error0_);
#line 226 "valagirwriter.vala"
				return;
#line 1529 "valagirwriter.vala.c"
			}
#line 227 "valagirwriter.vala"
			_tmp84_ = old_file;
#line 227 "valagirwriter.vala"
			len = g_mapped_file_get_length (_tmp84_);
#line 228 "valagirwriter.vala"
			_tmp85_ = new_file;
#line 228 "valagirwriter.vala"
			if (len == g_mapped_file_get_length (_tmp85_)) {
#line 1539 "valagirwriter.vala.c"
				GMappedFile* _tmp86_;
				gchar* _tmp87_;
				GMappedFile* _tmp88_;
				gchar* _tmp89_;
#line 229 "valagirwriter.vala"
				_tmp86_ = old_file;
#line 229 "valagirwriter.vala"
				_tmp87_ = g_mapped_file_get_contents (_tmp86_);
#line 229 "valagirwriter.vala"
				_tmp88_ = new_file;
#line 229 "valagirwriter.vala"
				_tmp89_ = g_mapped_file_get_contents (_tmp88_);
#line 229 "valagirwriter.vala"
				if (memcmp (_tmp87_, _tmp89_, len) == 0) {
#line 230 "valagirwriter.vala"
					changed = FALSE;
#line 1556 "valagirwriter.vala.c"
				}
			}
#line 233 "valagirwriter.vala"
			_g_mapped_file_unref0 (old_file);
#line 233 "valagirwriter.vala"
			old_file = NULL;
#line 234 "valagirwriter.vala"
			_g_mapped_file_unref0 (new_file);
#line 234 "valagirwriter.vala"
			new_file = NULL;
#line 224 "valagirwriter.vala"
			_g_mapped_file_unref0 (new_file);
#line 224 "valagirwriter.vala"
			_g_mapped_file_unref0 (old_file);
#line 1571 "valagirwriter.vala.c"
		}
		goto __finally0;
		__catch0_g_file_error:
		{
#line 224 "valagirwriter.vala"
			g_clear_error (&_inner_error0_);
#line 1578 "valagirwriter.vala.c"
		}
		__finally0:
#line 224 "valagirwriter.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 224 "valagirwriter.vala"
			_g_free0 (header);
#line 224 "valagirwriter.vala"
			_g_free0 (_tmp54_);
#line 224 "valagirwriter.vala"
			_g_free0 (temp_filename);
#line 224 "valagirwriter.vala"
			_g_free0 (filename);
#line 224 "valagirwriter.vala"
			_vala_code_node_unref0 (glib_ns);
#line 224 "valagirwriter.vala"
			_vala_code_node_unref0 (root_symbol);
#line 224 "valagirwriter.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 224 "valagirwriter.vala"
			g_clear_error (&_inner_error0_);
#line 224 "valagirwriter.vala"
			return;
#line 1601 "valagirwriter.vala.c"
		}
#line 239 "valagirwriter.vala"
		if (changed) {
#line 1605 "valagirwriter.vala.c"
			const gchar* _tmp90_;
			const gchar* _tmp91_;
#line 240 "valagirwriter.vala"
			_tmp90_ = temp_filename;
#line 240 "valagirwriter.vala"
			_tmp91_ = filename;
#line 240 "valagirwriter.vala"
			g_rename (_tmp90_, _tmp91_);
#line 1614 "valagirwriter.vala.c"
		} else {
			const gchar* _tmp92_;
#line 242 "valagirwriter.vala"
			_tmp92_ = temp_filename;
#line 242 "valagirwriter.vala"
			g_unlink (_tmp92_);
#line 1621 "valagirwriter.vala.c"
		}
	}
	{
		ValaIterator* _ns_it = NULL;
		ValaHashSet* _tmp93_;
		ValaIterator* _tmp94_;
#line 246 "valagirwriter.vala"
		_tmp93_ = self->priv->unannotated_namespaces;
#line 246 "valagirwriter.vala"
		_tmp94_ = vala_iterable_iterator ((ValaIterable*) _tmp93_);
#line 246 "valagirwriter.vala"
		_ns_it = _tmp94_;
#line 246 "valagirwriter.vala"
		while (TRUE) {
#line 1636 "valagirwriter.vala.c"
			ValaIterator* _tmp95_;
			ValaNamespace* ns = NULL;
			ValaIterator* _tmp96_;
			gpointer _tmp97_;
			ValaHashSet* _tmp98_;
			ValaNamespace* _tmp99_;
#line 246 "valagirwriter.vala"
			_tmp95_ = _ns_it;
#line 246 "valagirwriter.vala"
			if (!vala_iterator_next (_tmp95_)) {
#line 246 "valagirwriter.vala"
				break;
#line 1649 "valagirwriter.vala.c"
			}
#line 246 "valagirwriter.vala"
			_tmp96_ = _ns_it;
#line 246 "valagirwriter.vala"
			_tmp97_ = vala_iterator_get (_tmp96_);
#line 246 "valagirwriter.vala"
			ns = (ValaNamespace*) _tmp97_;
#line 247 "valagirwriter.vala"
			_tmp98_ = self->priv->our_namespaces;
#line 247 "valagirwriter.vala"
			_tmp99_ = ns;
#line 247 "valagirwriter.vala"
			if (!vala_collection_contains ((ValaCollection*) _tmp98_, _tmp99_)) {
#line 1663 "valagirwriter.vala.c"
				ValaNamespace* _tmp100_;
				ValaSourceReference* _tmp101_;
				ValaSourceReference* _tmp102_;
				ValaNamespace* _tmp103_;
				const gchar* _tmp104_;
				const gchar* _tmp105_;
#line 248 "valagirwriter.vala"
				_tmp100_ = ns;
#line 248 "valagirwriter.vala"
				_tmp101_ = vala_code_node_get_source_reference ((ValaCodeNode*) _tmp100_);
#line 248 "valagirwriter.vala"
				_tmp102_ = _tmp101_;
#line 248 "valagirwriter.vala"
				_tmp103_ = ns;
#line 248 "valagirwriter.vala"
				_tmp104_ = vala_symbol_get_name ((ValaSymbol*) _tmp103_);
#line 248 "valagirwriter.vala"
				_tmp105_ = _tmp104_;
#line 248 "valagirwriter.vala"
				vala_report_warning (_tmp102_, "Namespace `%s' does not have a GIR namespace and version annotation", _tmp105_);
#line 1684 "valagirwriter.vala.c"
			}
#line 246 "valagirwriter.vala"
			_vala_code_node_unref0 (ns);
#line 1688 "valagirwriter.vala.c"
		}
#line 246 "valagirwriter.vala"
		_vala_iterator_unref0 (_ns_it);
#line 1692 "valagirwriter.vala.c"
	}
	{
		ValaIterator* _ns_it = NULL;
		ValaHashSet* _tmp106_;
		ValaIterator* _tmp107_;
#line 251 "valagirwriter.vala"
		_tmp106_ = self->priv->our_namespaces;
#line 251 "valagirwriter.vala"
		_tmp107_ = vala_iterable_iterator ((ValaIterable*) _tmp106_);
#line 251 "valagirwriter.vala"
		_ns_it = _tmp107_;
#line 251 "valagirwriter.vala"
		while (TRUE) {
#line 1706 "valagirwriter.vala.c"
			ValaIterator* _tmp108_;
			ValaNamespace* ns = NULL;
			ValaIterator* _tmp109_;
			gpointer _tmp110_;
			ValaNamespace* _tmp111_;
			ValaSourceReference* _tmp112_;
			ValaSourceReference* _tmp113_;
			ValaSourceFile* _tmp114_;
			ValaSourceFile* _tmp115_;
			ValaNamespace* _tmp116_;
			ValaSourceReference* _tmp117_;
			ValaSourceReference* _tmp118_;
			ValaSourceFile* _tmp119_;
			ValaSourceFile* _tmp120_;
#line 251 "valagirwriter.vala"
			_tmp108_ = _ns_it;
#line 251 "valagirwriter.vala"
			if (!vala_iterator_next (_tmp108_)) {
#line 251 "valagirwriter.vala"
				break;
#line 1727 "valagirwriter.vala.c"
			}
#line 251 "valagirwriter.vala"
			_tmp109_ = _ns_it;
#line 251 "valagirwriter.vala"
			_tmp110_ = vala_iterator_get (_tmp109_);
#line 251 "valagirwriter.vala"
			ns = (ValaNamespace*) _tmp110_;
#line 252 "valagirwriter.vala"
			_tmp111_ = ns;
#line 252 "valagirwriter.vala"
			_tmp112_ = vala_code_node_get_source_reference ((ValaCodeNode*) _tmp111_);
#line 252 "valagirwriter.vala"
			_tmp113_ = _tmp112_;
#line 252 "valagirwriter.vala"
			_tmp114_ = vala_source_reference_get_file (_tmp113_);
#line 252 "valagirwriter.vala"
			_tmp115_ = _tmp114_;
#line 252 "valagirwriter.vala"
			vala_source_file_set_gir_namespace (_tmp115_, gir_namespace);
#line 253 "valagirwriter.vala"
			_tmp116_ = ns;
#line 253 "valagirwriter.vala"
			_tmp117_ = vala_code_node_get_source_reference ((ValaCodeNode*) _tmp116_);
#line 253 "valagirwriter.vala"
			_tmp118_ = _tmp117_;
#line 253 "valagirwriter.vala"
			_tmp119_ = vala_source_reference_get_file (_tmp118_);
#line 253 "valagirwriter.vala"
			_tmp120_ = _tmp119_;
#line 253 "valagirwriter.vala"
			vala_source_file_set_gir_version (_tmp120_, gir_version);
#line 251 "valagirwriter.vala"
			_vala_code_node_unref0 (ns);
#line 1761 "valagirwriter.vala.c"
		}
#line 251 "valagirwriter.vala"
		_vala_iterator_unref0 (_ns_it);
#line 1765 "valagirwriter.vala.c"
	}
#line 256 "valagirwriter.vala"
	_tmp121_ = self->priv->our_namespaces;
#line 256 "valagirwriter.vala"
	_tmp122_ = vala_collection_get_size ((ValaCollection*) _tmp121_);
#line 256 "valagirwriter.vala"
	_tmp123_ = _tmp122_;
#line 256 "valagirwriter.vala"
	if (_tmp123_ == 0) {
#line 257 "valagirwriter.vala"
		vala_report_error (NULL, "No suitable namespace found to export for GIR");
#line 1777 "valagirwriter.vala.c"
	}
#line 260 "valagirwriter.vala"
	_vala_code_context_unref0 (self->priv->context);
#line 260 "valagirwriter.vala"
	self->priv->context = NULL;
#line 158 "valagirwriter.vala"
	_g_free0 (header);
#line 158 "valagirwriter.vala"
	_g_free0 (_tmp54_);
#line 158 "valagirwriter.vala"
	_g_free0 (temp_filename);
#line 158 "valagirwriter.vala"
	_g_free0 (filename);
#line 158 "valagirwriter.vala"
	_vala_code_node_unref0 (glib_ns);
#line 158 "valagirwriter.vala"
	_vala_code_node_unref0 (root_symbol);
#line 1795 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_doc (ValaGIRWriter* self,
                           const gchar* comment)
{
#line 264 "valagirwriter.vala"
	if (comment != NULL) {
#line 1804 "valagirwriter.vala.c"
		GString* _tmp0_;
		GString* _tmp1_;
		GString* _tmp2_;
#line 265 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 266 "valagirwriter.vala"
		_tmp0_ = self->priv->buffer;
#line 266 "valagirwriter.vala"
		g_string_append (_tmp0_, "<doc xml:whitespace=\"preserve\">");
#line 267 "valagirwriter.vala"
		_tmp1_ = self->priv->buffer;
#line 267 "valagirwriter.vala"
		g_string_append (_tmp1_, comment);
#line 268 "valagirwriter.vala"
		_tmp2_ = self->priv->buffer;
#line 268 "valagirwriter.vala"
		g_string_append (_tmp2_, "</doc>\n");
#line 1822 "valagirwriter.vala.c"
	}
}

static void
vala_gir_writer_write_package (ValaGIRWriter* self,
                               const gchar* package)
{
	GString* _tmp0_;
#line 273 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 274 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 274 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, "<package name=\"%s\"/>\n", package);
#line 1837 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_c_includes (ValaGIRWriter* self,
                                  ValaNamespace* ns)
{
	ValaSet* header_filenames = NULL;
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	ValaHashSet* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar** _tmp5_;
	gchar** _tmp6_;
	gchar** _tmp7_;
	gint _tmp7__length1;
#line 279 "valagirwriter.vala"
	_tmp0_ = g_str_hash;
#line 279 "valagirwriter.vala"
	_tmp1_ = g_str_equal;
#line 279 "valagirwriter.vala"
	_tmp2_ = vala_hash_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp0_, _tmp1_);
#line 279 "valagirwriter.vala"
	header_filenames = (ValaSet*) _tmp2_;
#line 280 "valagirwriter.vala"
	_tmp3_ = vala_get_ccode_header_filenames ((ValaSymbol*) ns);
#line 280 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 280 "valagirwriter.vala"
	_tmp6_ = _tmp5_ = g_strsplit (_tmp4_, ",", 0);
#line 280 "valagirwriter.vala"
	_tmp7_ = _tmp6_;
#line 280 "valagirwriter.vala"
	_tmp7__length1 = _vala_array_length (_tmp5_);
#line 280 "valagirwriter.vala"
	_g_free0 (_tmp4_);
#line 1874 "valagirwriter.vala.c"
	{
		gchar** c_header_filename_collection = NULL;
		gint c_header_filename_collection_length1 = 0;
		gint _c_header_filename_collection_size_ = 0;
		gint c_header_filename_it = 0;
#line 280 "valagirwriter.vala"
		c_header_filename_collection = _tmp7_;
#line 280 "valagirwriter.vala"
		c_header_filename_collection_length1 = _tmp7__length1;
#line 280 "valagirwriter.vala"
		for (c_header_filename_it = 0; c_header_filename_it < c_header_filename_collection_length1; c_header_filename_it = c_header_filename_it + 1) {
#line 1886 "valagirwriter.vala.c"
			const gchar* c_header_filename = NULL;
#line 280 "valagirwriter.vala"
			c_header_filename = c_header_filename_collection[c_header_filename_it];
#line 1890 "valagirwriter.vala.c"
			{
				ValaSet* _tmp8_;
				const gchar* _tmp9_;
#line 281 "valagirwriter.vala"
				_tmp8_ = header_filenames;
#line 281 "valagirwriter.vala"
				_tmp9_ = c_header_filename;
#line 281 "valagirwriter.vala"
				vala_collection_add ((ValaCollection*) _tmp8_, _tmp9_);
#line 1900 "valagirwriter.vala.c"
			}
		}
#line 280 "valagirwriter.vala"
		c_header_filename_collection = (_vala_array_free (c_header_filename_collection, c_header_filename_collection_length1, (GDestroyNotify) g_free), NULL);
#line 1905 "valagirwriter.vala.c"
	}
	{
		ValaIterator* _symbol_it = NULL;
		ValaScope* _tmp10_;
		ValaScope* _tmp11_;
		ValaMap* _tmp12_;
		ValaCollection* _tmp13_;
		ValaCollection* _tmp14_;
		ValaIterator* _tmp15_;
		ValaIterator* _tmp16_;
#line 283 "valagirwriter.vala"
		_tmp10_ = vala_symbol_get_scope ((ValaSymbol*) ns);
#line 283 "valagirwriter.vala"
		_tmp11_ = _tmp10_;
#line 283 "valagirwriter.vala"
		_tmp12_ = vala_scope_get_symbol_table (_tmp11_);
#line 283 "valagirwriter.vala"
		_tmp13_ = vala_map_get_values (_tmp12_);
#line 283 "valagirwriter.vala"
		_tmp14_ = _tmp13_;
#line 283 "valagirwriter.vala"
		_tmp15_ = vala_iterable_iterator ((ValaIterable*) _tmp14_);
#line 283 "valagirwriter.vala"
		_tmp16_ = _tmp15_;
#line 283 "valagirwriter.vala"
		_vala_iterable_unref0 (_tmp14_);
#line 283 "valagirwriter.vala"
		_symbol_it = _tmp16_;
#line 283 "valagirwriter.vala"
		while (TRUE) {
#line 1936 "valagirwriter.vala.c"
			ValaIterator* _tmp17_;
			ValaSymbol* symbol = NULL;
			ValaIterator* _tmp18_;
			gpointer _tmp19_;
			ValaSymbol* _tmp20_;
			gboolean _tmp21_;
			gboolean _tmp22_;
			ValaSymbol* _tmp23_;
			gchar* _tmp24_;
			gchar* _tmp25_;
			gchar** _tmp26_;
			gchar** _tmp27_;
			gchar** _tmp28_;
			gint _tmp28__length1;
#line 283 "valagirwriter.vala"
			_tmp17_ = _symbol_it;
#line 283 "valagirwriter.vala"
			if (!vala_iterator_next (_tmp17_)) {
#line 283 "valagirwriter.vala"
				break;
#line 1957 "valagirwriter.vala.c"
			}
#line 283 "valagirwriter.vala"
			_tmp18_ = _symbol_it;
#line 283 "valagirwriter.vala"
			_tmp19_ = vala_iterator_get (_tmp18_);
#line 283 "valagirwriter.vala"
			symbol = (ValaSymbol*) _tmp19_;
#line 284 "valagirwriter.vala"
			_tmp20_ = symbol;
#line 284 "valagirwriter.vala"
			_tmp21_ = vala_symbol_get_external_package (_tmp20_);
#line 284 "valagirwriter.vala"
			_tmp22_ = _tmp21_;
#line 284 "valagirwriter.vala"
			if (_tmp22_) {
#line 285 "valagirwriter.vala"
				_vala_code_node_unref0 (symbol);
#line 285 "valagirwriter.vala"
				continue;
#line 1977 "valagirwriter.vala.c"
			}
#line 287 "valagirwriter.vala"
			_tmp23_ = symbol;
#line 287 "valagirwriter.vala"
			_tmp24_ = vala_get_ccode_header_filenames (_tmp23_);
#line 287 "valagirwriter.vala"
			_tmp25_ = _tmp24_;
#line 287 "valagirwriter.vala"
			_tmp27_ = _tmp26_ = g_strsplit (_tmp25_, ",", 0);
#line 287 "valagirwriter.vala"
			_tmp28_ = _tmp27_;
#line 287 "valagirwriter.vala"
			_tmp28__length1 = _vala_array_length (_tmp26_);
#line 287 "valagirwriter.vala"
			_g_free0 (_tmp25_);
#line 1993 "valagirwriter.vala.c"
			{
				gchar** c_header_filename_collection = NULL;
				gint c_header_filename_collection_length1 = 0;
				gint _c_header_filename_collection_size_ = 0;
				gint c_header_filename_it = 0;
#line 287 "valagirwriter.vala"
				c_header_filename_collection = _tmp28_;
#line 287 "valagirwriter.vala"
				c_header_filename_collection_length1 = _tmp28__length1;
#line 287 "valagirwriter.vala"
				for (c_header_filename_it = 0; c_header_filename_it < c_header_filename_collection_length1; c_header_filename_it = c_header_filename_it + 1) {
#line 2005 "valagirwriter.vala.c"
					const gchar* c_header_filename = NULL;
#line 287 "valagirwriter.vala"
					c_header_filename = c_header_filename_collection[c_header_filename_it];
#line 2009 "valagirwriter.vala.c"
					{
						ValaSet* _tmp29_;
						const gchar* _tmp30_;
#line 288 "valagirwriter.vala"
						_tmp29_ = header_filenames;
#line 288 "valagirwriter.vala"
						_tmp30_ = c_header_filename;
#line 288 "valagirwriter.vala"
						vala_collection_add ((ValaCollection*) _tmp29_, _tmp30_);
#line 2019 "valagirwriter.vala.c"
					}
				}
#line 287 "valagirwriter.vala"
				c_header_filename_collection = (_vala_array_free (c_header_filename_collection, c_header_filename_collection_length1, (GDestroyNotify) g_free), NULL);
#line 2024 "valagirwriter.vala.c"
			}
#line 283 "valagirwriter.vala"
			_vala_code_node_unref0 (symbol);
#line 2028 "valagirwriter.vala.c"
		}
#line 283 "valagirwriter.vala"
		_vala_iterator_unref0 (_symbol_it);
#line 2032 "valagirwriter.vala.c"
	}
	{
		ValaIterator* _c_header_filename_it = NULL;
		ValaSet* _tmp31_;
		ValaIterator* _tmp32_;
#line 293 "valagirwriter.vala"
		_tmp31_ = header_filenames;
#line 293 "valagirwriter.vala"
		_tmp32_ = vala_iterable_iterator ((ValaIterable*) _tmp31_);
#line 293 "valagirwriter.vala"
		_c_header_filename_it = _tmp32_;
#line 293 "valagirwriter.vala"
		while (TRUE) {
#line 2046 "valagirwriter.vala.c"
			ValaIterator* _tmp33_;
			gchar* c_header_filename = NULL;
			ValaIterator* _tmp34_;
			gpointer _tmp35_;
			const gchar* _tmp36_;
#line 293 "valagirwriter.vala"
			_tmp33_ = _c_header_filename_it;
#line 293 "valagirwriter.vala"
			if (!vala_iterator_next (_tmp33_)) {
#line 293 "valagirwriter.vala"
				break;
#line 2058 "valagirwriter.vala.c"
			}
#line 293 "valagirwriter.vala"
			_tmp34_ = _c_header_filename_it;
#line 293 "valagirwriter.vala"
			_tmp35_ = vala_iterator_get (_tmp34_);
#line 293 "valagirwriter.vala"
			c_header_filename = (gchar*) _tmp35_;
#line 294 "valagirwriter.vala"
			_tmp36_ = c_header_filename;
#line 294 "valagirwriter.vala"
			vala_gir_writer_write_c_include (self, _tmp36_);
#line 293 "valagirwriter.vala"
			_g_free0 (c_header_filename);
#line 2072 "valagirwriter.vala.c"
		}
#line 293 "valagirwriter.vala"
		_vala_iterator_unref0 (_c_header_filename_it);
#line 2076 "valagirwriter.vala.c"
	}
#line 277 "valagirwriter.vala"
	_vala_iterable_unref0 (header_filenames);
#line 2080 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_c_include (ValaGIRWriter* self,
                                 const gchar* name)
{
	GString* _tmp0_;
#line 299 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 300 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 300 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, "<c:include name=\"%s\"/>\n", name);
#line 2094 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_source_file (ValaCodeVisitor* base,
                                        ValaSourceFile* source_file)
{
	ValaGIRWriter * self;
	ValaSourceFileType _tmp0_;
	ValaSourceFileType _tmp1_;
#line 303 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 304 "valagirwriter.vala"
	_tmp0_ = vala_source_file_get_file_type (source_file);
#line 304 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 304 "valagirwriter.vala"
	if (_tmp1_ != VALA_SOURCE_FILE_TYPE_PACKAGE) {
#line 305 "valagirwriter.vala"
		return;
#line 2114 "valagirwriter.vala.c"
	}
	{
		ValaList* _node_list = NULL;
		ValaList* _tmp2_;
		gint _node_size = 0;
		ValaList* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		gint _node_index = 0;
#line 309 "valagirwriter.vala"
		_tmp2_ = vala_source_file_get_nodes (source_file);
#line 309 "valagirwriter.vala"
		_node_list = _tmp2_;
#line 309 "valagirwriter.vala"
		_tmp3_ = _node_list;
#line 309 "valagirwriter.vala"
		_tmp4_ = vala_collection_get_size ((ValaCollection*) _tmp3_);
#line 309 "valagirwriter.vala"
		_tmp5_ = _tmp4_;
#line 309 "valagirwriter.vala"
		_node_size = _tmp5_;
#line 309 "valagirwriter.vala"
		_node_index = -1;
#line 309 "valagirwriter.vala"
		while (TRUE) {
#line 2140 "valagirwriter.vala.c"
			gint _tmp6_;
			gint _tmp7_;
			ValaCodeNode* node = NULL;
			ValaList* _tmp8_;
			gpointer _tmp9_;
			gboolean _tmp10_ = FALSE;
			ValaCodeNode* _tmp11_;
#line 309 "valagirwriter.vala"
			_node_index = _node_index + 1;
#line 309 "valagirwriter.vala"
			_tmp6_ = _node_index;
#line 309 "valagirwriter.vala"
			_tmp7_ = _node_size;
#line 309 "valagirwriter.vala"
			if (!(_tmp6_ < _tmp7_)) {
#line 309 "valagirwriter.vala"
				break;
#line 2158 "valagirwriter.vala.c"
			}
#line 309 "valagirwriter.vala"
			_tmp8_ = _node_list;
#line 309 "valagirwriter.vala"
			_tmp9_ = vala_list_get (_tmp8_, _node_index);
#line 309 "valagirwriter.vala"
			node = (ValaCodeNode*) _tmp9_;
#line 310 "valagirwriter.vala"
			_tmp11_ = node;
#line 310 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, VALA_TYPE_NAMESPACE)) {
#line 2170 "valagirwriter.vala.c"
				ValaCodeNode* _tmp12_;
				ValaSymbol* _tmp13_;
				ValaSymbol* _tmp14_;
				ValaCodeContext* _tmp15_;
				ValaNamespace* _tmp16_;
				ValaNamespace* _tmp17_;
#line 310 "valagirwriter.vala"
				_tmp12_ = node;
#line 310 "valagirwriter.vala"
				_tmp13_ = vala_symbol_get_parent_symbol ((ValaSymbol*) G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, VALA_TYPE_NAMESPACE, ValaNamespace));
#line 310 "valagirwriter.vala"
				_tmp14_ = _tmp13_;
#line 310 "valagirwriter.vala"
				_tmp15_ = self->priv->context;
#line 310 "valagirwriter.vala"
				_tmp16_ = vala_code_context_get_root (_tmp15_);
#line 310 "valagirwriter.vala"
				_tmp17_ = _tmp16_;
#line 310 "valagirwriter.vala"
				_tmp10_ = _tmp14_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp17_, VALA_TYPE_SYMBOL, ValaSymbol);
#line 2191 "valagirwriter.vala.c"
			} else {
#line 310 "valagirwriter.vala"
				_tmp10_ = FALSE;
#line 2195 "valagirwriter.vala.c"
			}
#line 310 "valagirwriter.vala"
			if (_tmp10_) {
#line 2199 "valagirwriter.vala.c"
				ValaAttribute* a = NULL;
				ValaCodeNode* _tmp18_;
				ValaAttribute* _tmp19_;
				ValaAttribute* _tmp20_;
				gboolean _tmp21_ = FALSE;
				ValaAttribute* _tmp22_;
				gboolean _tmp34_ = FALSE;
				ValaAttribute* _tmp35_;
#line 311 "valagirwriter.vala"
				_tmp18_ = node;
#line 311 "valagirwriter.vala"
				_tmp19_ = vala_code_node_get_attribute (_tmp18_, "CCode");
#line 311 "valagirwriter.vala"
				_tmp20_ = _vala_code_node_ref0 (_tmp19_);
#line 311 "valagirwriter.vala"
				a = _tmp20_;
#line 312 "valagirwriter.vala"
				_tmp22_ = a;
#line 312 "valagirwriter.vala"
				if (_tmp22_ != NULL) {
#line 2220 "valagirwriter.vala.c"
					ValaAttribute* _tmp23_;
#line 312 "valagirwriter.vala"
					_tmp23_ = a;
#line 312 "valagirwriter.vala"
					_tmp21_ = vala_attribute_has_argument (_tmp23_, "gir_namespace");
#line 2226 "valagirwriter.vala.c"
				} else {
#line 312 "valagirwriter.vala"
					_tmp21_ = FALSE;
#line 2230 "valagirwriter.vala.c"
				}
#line 312 "valagirwriter.vala"
				if (_tmp21_) {
#line 2234 "valagirwriter.vala.c"
					gchar* new_gir = NULL;
					ValaAttribute* _tmp24_;
					gchar* _tmp25_;
					gchar* old_gir = NULL;
					const gchar* _tmp26_;
					const gchar* _tmp27_;
					gchar* _tmp28_;
					gboolean _tmp29_ = FALSE;
					const gchar* _tmp30_;
					const gchar* _tmp33_;
#line 313 "valagirwriter.vala"
					_tmp24_ = a;
#line 313 "valagirwriter.vala"
					_tmp25_ = vala_attribute_get_string (_tmp24_, "gir_namespace", NULL);
#line 313 "valagirwriter.vala"
					new_gir = _tmp25_;
#line 314 "valagirwriter.vala"
					_tmp26_ = vala_source_file_get_gir_namespace (source_file);
#line 314 "valagirwriter.vala"
					_tmp27_ = _tmp26_;
#line 314 "valagirwriter.vala"
					_tmp28_ = g_strdup (_tmp27_);
#line 314 "valagirwriter.vala"
					old_gir = _tmp28_;
#line 315 "valagirwriter.vala"
					_tmp30_ = old_gir;
#line 315 "valagirwriter.vala"
					if (_tmp30_ != NULL) {
#line 2263 "valagirwriter.vala.c"
						const gchar* _tmp31_;
						const gchar* _tmp32_;
#line 315 "valagirwriter.vala"
						_tmp31_ = old_gir;
#line 315 "valagirwriter.vala"
						_tmp32_ = new_gir;
#line 315 "valagirwriter.vala"
						_tmp29_ = g_strcmp0 (_tmp31_, _tmp32_) != 0;
#line 2272 "valagirwriter.vala.c"
					} else {
#line 315 "valagirwriter.vala"
						_tmp29_ = FALSE;
#line 2276 "valagirwriter.vala.c"
					}
#line 315 "valagirwriter.vala"
					if (_tmp29_) {
#line 316 "valagirwriter.vala"
						vala_source_file_set_gir_ambiguous (source_file, TRUE);
#line 2282 "valagirwriter.vala.c"
					}
#line 318 "valagirwriter.vala"
					_tmp33_ = new_gir;
#line 318 "valagirwriter.vala"
					vala_source_file_set_gir_namespace (source_file, _tmp33_);
#line 312 "valagirwriter.vala"
					_g_free0 (old_gir);
#line 312 "valagirwriter.vala"
					_g_free0 (new_gir);
#line 2292 "valagirwriter.vala.c"
				}
#line 320 "valagirwriter.vala"
				_tmp35_ = a;
#line 320 "valagirwriter.vala"
				if (_tmp35_ != NULL) {
#line 2298 "valagirwriter.vala.c"
					ValaAttribute* _tmp36_;
#line 320 "valagirwriter.vala"
					_tmp36_ = a;
#line 320 "valagirwriter.vala"
					_tmp34_ = vala_attribute_has_argument (_tmp36_, "gir_version");
#line 2304 "valagirwriter.vala.c"
				} else {
#line 320 "valagirwriter.vala"
					_tmp34_ = FALSE;
#line 2308 "valagirwriter.vala.c"
				}
#line 320 "valagirwriter.vala"
				if (_tmp34_) {
#line 2312 "valagirwriter.vala.c"
					ValaAttribute* _tmp37_;
					gchar* _tmp38_;
					gchar* _tmp39_;
#line 321 "valagirwriter.vala"
					_tmp37_ = a;
#line 321 "valagirwriter.vala"
					_tmp38_ = vala_attribute_get_string (_tmp37_, "gir_version", NULL);
#line 321 "valagirwriter.vala"
					_tmp39_ = _tmp38_;
#line 321 "valagirwriter.vala"
					vala_source_file_set_gir_version (source_file, _tmp39_);
#line 321 "valagirwriter.vala"
					_g_free0 (_tmp39_);
#line 2326 "valagirwriter.vala.c"
				}
#line 323 "valagirwriter.vala"
				_vala_code_node_unref0 (a);
#line 323 "valagirwriter.vala"
				_vala_code_node_unref0 (node);
#line 323 "valagirwriter.vala"
				break;
#line 2334 "valagirwriter.vala.c"
			}
#line 309 "valagirwriter.vala"
			_vala_code_node_unref0 (node);
#line 2338 "valagirwriter.vala.c"
		}
	}
}

static void
vala_gir_writer_real_visit_namespace (ValaCodeVisitor* base,
                                      ValaNamespace* ns)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	ValaSymbol* _tmp8_;
	ValaSymbol* _tmp9_;
	const gchar* _tmp10_;
	const gchar* _tmp11_;
	ValaHashSet* _tmp12_;
	gint _tmp13_;
	gint _tmp14_;
	gchar* old_gir_namespace = NULL;
	gchar* _tmp19_;
	gchar* old_gir_version = NULL;
	gchar* _tmp20_;
	gboolean _tmp21_ = FALSE;
	gboolean _tmp22_ = FALSE;
	const gchar* _tmp23_;
	const gchar* _tmp36_;
	const gchar* _tmp37_;
	GString* _tmp38_;
	const gchar* _tmp39_;
	const gchar* _tmp40_;
	gchar* cprefix = NULL;
	gchar* _tmp41_;
	const gchar* _tmp42_;
	const gchar* _tmp45_;
	gchar* csymbol_prefix = NULL;
	gchar* _tmp50_;
	const gchar* _tmp51_;
	GString* _tmp54_;
	gint _tmp55_;
	ValaArrayList* _tmp56_;
	ValaArrayList* _tmp57_;
	gpointer _tmp58_;
	ValaSymbol* _tmp59_;
	gint _tmp60_;
	GString* _tmp61_;
	ValaHashSet* _tmp62_;
#line 328 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 329 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) ns);
#line 329 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 329 "valagirwriter.vala"
	if (_tmp1_) {
#line 330 "valagirwriter.vala"
		return;
#line 2397 "valagirwriter.vala.c"
	}
#line 333 "valagirwriter.vala"
	if (!vala_gir_writer_is_visibility (self, (ValaSymbol*) ns)) {
#line 334 "valagirwriter.vala"
		return;
#line 2403 "valagirwriter.vala.c"
	}
#line 337 "valagirwriter.vala"
	_tmp2_ = vala_symbol_get_name ((ValaSymbol*) ns);
#line 337 "valagirwriter.vala"
	_tmp3_ = _tmp2_;
#line 337 "valagirwriter.vala"
	if (_tmp3_ == NULL) {
#line 2411 "valagirwriter.vala.c"
		ValaArrayList* _tmp4_;
		ValaArrayList* _tmp5_;
		gpointer _tmp6_;
		ValaSymbol* _tmp7_;
#line 339 "valagirwriter.vala"
		_tmp4_ = self->priv->hierarchy;
#line 339 "valagirwriter.vala"
		vala_list_insert ((ValaList*) _tmp4_, 0, (ValaSymbol*) ns);
#line 340 "valagirwriter.vala"
		vala_code_node_accept_children ((ValaCodeNode*) ns, (ValaCodeVisitor*) self);
#line 341 "valagirwriter.vala"
		_tmp5_ = self->priv->hierarchy;
#line 341 "valagirwriter.vala"
		_tmp6_ = vala_list_remove_at ((ValaList*) _tmp5_, 0);
#line 341 "valagirwriter.vala"
		_tmp7_ = (ValaSymbol*) _tmp6_;
#line 341 "valagirwriter.vala"
		_vala_code_node_unref0 (_tmp7_);
#line 342 "valagirwriter.vala"
		return;
#line 2432 "valagirwriter.vala.c"
	}
#line 345 "valagirwriter.vala"
	_tmp8_ = vala_symbol_get_parent_symbol ((ValaSymbol*) ns);
#line 345 "valagirwriter.vala"
	_tmp9_ = _tmp8_;
#line 345 "valagirwriter.vala"
	_tmp10_ = vala_symbol_get_name (_tmp9_);
#line 345 "valagirwriter.vala"
	_tmp11_ = _tmp10_;
#line 345 "valagirwriter.vala"
	if (_tmp11_ != NULL) {
#line 346 "valagirwriter.vala"
		vala_code_node_accept_children ((ValaCodeNode*) ns, (ValaCodeVisitor*) self);
#line 347 "valagirwriter.vala"
		return;
#line 2448 "valagirwriter.vala.c"
	}
#line 350 "valagirwriter.vala"
	_tmp12_ = self->priv->our_namespaces;
#line 350 "valagirwriter.vala"
	_tmp13_ = vala_collection_get_size ((ValaCollection*) _tmp12_);
#line 350 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 350 "valagirwriter.vala"
	if (_tmp14_ > 0) {
#line 2458 "valagirwriter.vala.c"
		ValaSourceReference* _tmp15_;
		ValaSourceReference* _tmp16_;
		const gchar* _tmp17_;
		const gchar* _tmp18_;
#line 351 "valagirwriter.vala"
		_tmp15_ = vala_code_node_get_source_reference ((ValaCodeNode*) ns);
#line 351 "valagirwriter.vala"
		_tmp16_ = _tmp15_;
#line 351 "valagirwriter.vala"
		_tmp17_ = vala_symbol_get_name ((ValaSymbol*) ns);
#line 351 "valagirwriter.vala"
		_tmp18_ = _tmp17_;
#line 351 "valagirwriter.vala"
		vala_report_error (_tmp16_, "Secondary top-level namespace `%s' is not supported by GIR format", _tmp18_);
#line 352 "valagirwriter.vala"
		return;
#line 2475 "valagirwriter.vala.c"
	}
#line 356 "valagirwriter.vala"
	_tmp19_ = vala_code_node_get_attribute_string ((ValaCodeNode*) ns, "CCode", "gir_namespace", NULL);
#line 356 "valagirwriter.vala"
	old_gir_namespace = _tmp19_;
#line 357 "valagirwriter.vala"
	_tmp20_ = vala_code_node_get_attribute_string ((ValaCodeNode*) ns, "CCode", "gir_version", NULL);
#line 357 "valagirwriter.vala"
	old_gir_version = _tmp20_;
#line 358 "valagirwriter.vala"
	_tmp23_ = old_gir_namespace;
#line 358 "valagirwriter.vala"
	if (_tmp23_ != NULL) {
#line 2489 "valagirwriter.vala.c"
		const gchar* _tmp24_;
		const gchar* _tmp25_;
#line 358 "valagirwriter.vala"
		_tmp24_ = old_gir_namespace;
#line 358 "valagirwriter.vala"
		_tmp25_ = self->priv->gir_namespace;
#line 358 "valagirwriter.vala"
		_tmp22_ = g_strcmp0 (_tmp24_, _tmp25_) != 0;
#line 2498 "valagirwriter.vala.c"
	} else {
#line 358 "valagirwriter.vala"
		_tmp22_ = FALSE;
#line 2502 "valagirwriter.vala.c"
	}
#line 358 "valagirwriter.vala"
	if (_tmp22_) {
#line 358 "valagirwriter.vala"
		_tmp21_ = TRUE;
#line 2508 "valagirwriter.vala.c"
	} else {
		gboolean _tmp26_ = FALSE;
		const gchar* _tmp27_;
#line 359 "valagirwriter.vala"
		_tmp27_ = old_gir_version;
#line 359 "valagirwriter.vala"
		if (_tmp27_ != NULL) {
#line 2516 "valagirwriter.vala.c"
			const gchar* _tmp28_;
			const gchar* _tmp29_;
#line 359 "valagirwriter.vala"
			_tmp28_ = old_gir_version;
#line 359 "valagirwriter.vala"
			_tmp29_ = self->priv->gir_version;
#line 359 "valagirwriter.vala"
			_tmp26_ = g_strcmp0 (_tmp28_, _tmp29_) != 0;
#line 2525 "valagirwriter.vala.c"
		} else {
#line 359 "valagirwriter.vala"
			_tmp26_ = FALSE;
#line 2529 "valagirwriter.vala.c"
		}
#line 359 "valagirwriter.vala"
		_tmp21_ = _tmp26_;
#line 2533 "valagirwriter.vala.c"
	}
#line 358 "valagirwriter.vala"
	if (_tmp21_) {
#line 2537 "valagirwriter.vala.c"
		ValaSourceReference* _tmp30_;
		ValaSourceReference* _tmp31_;
		const gchar* _tmp32_;
		const gchar* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
#line 360 "valagirwriter.vala"
		_tmp30_ = vala_code_node_get_source_reference ((ValaCodeNode*) ns);
#line 360 "valagirwriter.vala"
		_tmp31_ = _tmp30_;
#line 360 "valagirwriter.vala"
		_tmp32_ = vala_symbol_get_name ((ValaSymbol*) ns);
#line 360 "valagirwriter.vala"
		_tmp33_ = _tmp32_;
#line 360 "valagirwriter.vala"
		_tmp34_ = g_strdup_printf ("Replace conflicting CCode.gir_* attributes for namespace `%s'", _tmp33_);
#line 360 "valagirwriter.vala"
		_tmp35_ = _tmp34_;
#line 360 "valagirwriter.vala"
		vala_report_warning (_tmp31_, "%s", _tmp35_);
#line 360 "valagirwriter.vala"
		_g_free0 (_tmp35_);
#line 2560 "valagirwriter.vala.c"
	}
#line 362 "valagirwriter.vala"
	_tmp36_ = self->priv->gir_namespace;
#line 362 "valagirwriter.vala"
	vala_code_node_set_attribute_string ((ValaCodeNode*) ns, "CCode", "gir_namespace", _tmp36_, NULL);
#line 363 "valagirwriter.vala"
	_tmp37_ = self->priv->gir_version;
#line 363 "valagirwriter.vala"
	vala_code_node_set_attribute_string ((ValaCodeNode*) ns, "CCode", "gir_version", _tmp37_, NULL);
#line 365 "valagirwriter.vala"
	vala_gir_writer_write_c_includes (self, ns);
#line 367 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 368 "valagirwriter.vala"
	_tmp38_ = self->priv->buffer;
#line 368 "valagirwriter.vala"
	_tmp39_ = self->priv->gir_namespace;
#line 368 "valagirwriter.vala"
	_tmp40_ = self->priv->gir_version;
#line 368 "valagirwriter.vala"
	g_string_append_printf (_tmp38_, "<namespace name=\"%s\" version=\"%s\"", _tmp39_, _tmp40_);
#line 369 "valagirwriter.vala"
	_tmp41_ = vala_get_ccode_prefix ((ValaSymbol*) ns);
#line 369 "valagirwriter.vala"
	cprefix = _tmp41_;
#line 370 "valagirwriter.vala"
	_tmp42_ = self->priv->gir_shared_library;
#line 370 "valagirwriter.vala"
	if (_tmp42_ != NULL) {
#line 2590 "valagirwriter.vala.c"
		GString* _tmp43_;
		const gchar* _tmp44_;
#line 371 "valagirwriter.vala"
		_tmp43_ = self->priv->buffer;
#line 371 "valagirwriter.vala"
		_tmp44_ = self->priv->gir_shared_library;
#line 371 "valagirwriter.vala"
		g_string_append_printf (_tmp43_, " shared-library=\"%s\"", _tmp44_);
#line 2599 "valagirwriter.vala.c"
	}
#line 373 "valagirwriter.vala"
	_tmp45_ = cprefix;
#line 373 "valagirwriter.vala"
	if (_tmp45_ != NULL) {
#line 2605 "valagirwriter.vala.c"
		GString* _tmp46_;
		const gchar* _tmp47_;
		GString* _tmp48_;
		const gchar* _tmp49_;
#line 374 "valagirwriter.vala"
		_tmp46_ = self->priv->buffer;
#line 374 "valagirwriter.vala"
		_tmp47_ = cprefix;
#line 374 "valagirwriter.vala"
		g_string_append_printf (_tmp46_, " c:prefix=\"%s\"", _tmp47_);
#line 375 "valagirwriter.vala"
		_tmp48_ = self->priv->buffer;
#line 375 "valagirwriter.vala"
		_tmp49_ = cprefix;
#line 375 "valagirwriter.vala"
		g_string_append_printf (_tmp48_, " c:identifier-prefixes=\"%s\"", _tmp49_);
#line 2622 "valagirwriter.vala.c"
	}
#line 377 "valagirwriter.vala"
	_tmp50_ = vala_get_ccode_lower_case_suffix ((ValaSymbol*) ns);
#line 377 "valagirwriter.vala"
	csymbol_prefix = _tmp50_;
#line 378 "valagirwriter.vala"
	_tmp51_ = csymbol_prefix;
#line 378 "valagirwriter.vala"
	if (_tmp51_ != NULL) {
#line 2632 "valagirwriter.vala.c"
		GString* _tmp52_;
		const gchar* _tmp53_;
#line 379 "valagirwriter.vala"
		_tmp52_ = self->priv->buffer;
#line 379 "valagirwriter.vala"
		_tmp53_ = csymbol_prefix;
#line 379 "valagirwriter.vala"
		g_string_append_printf (_tmp52_, " c:symbol-prefixes=\"%s\"", _tmp53_);
#line 2641 "valagirwriter.vala.c"
	}
#line 381 "valagirwriter.vala"
	_tmp54_ = self->priv->buffer;
#line 381 "valagirwriter.vala"
	g_string_append_printf (_tmp54_, ">\n");
#line 382 "valagirwriter.vala"
	_tmp55_ = self->priv->indent;
#line 382 "valagirwriter.vala"
	self->priv->indent = _tmp55_ + 1;
#line 384 "valagirwriter.vala"
	_tmp56_ = self->priv->hierarchy;
#line 384 "valagirwriter.vala"
	vala_list_insert ((ValaList*) _tmp56_, 0, (ValaSymbol*) ns);
#line 385 "valagirwriter.vala"
	vala_code_node_accept_children ((ValaCodeNode*) ns, (ValaCodeVisitor*) self);
#line 386 "valagirwriter.vala"
	_tmp57_ = self->priv->hierarchy;
#line 386 "valagirwriter.vala"
	_tmp58_ = vala_list_remove_at ((ValaList*) _tmp57_, 0);
#line 386 "valagirwriter.vala"
	_tmp59_ = (ValaSymbol*) _tmp58_;
#line 386 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp59_);
#line 388 "valagirwriter.vala"
	_tmp60_ = self->priv->indent;
#line 388 "valagirwriter.vala"
	self->priv->indent = _tmp60_ - 1;
#line 389 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 390 "valagirwriter.vala"
	_tmp61_ = self->priv->buffer;
#line 390 "valagirwriter.vala"
	g_string_append_printf (_tmp61_, "</namespace>\n");
#line 391 "valagirwriter.vala"
	_tmp62_ = self->priv->our_namespaces;
#line 391 "valagirwriter.vala"
	vala_collection_add ((ValaCollection*) _tmp62_, ns);
#line 393 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 328 "valagirwriter.vala"
	_g_free0 (csymbol_prefix);
#line 328 "valagirwriter.vala"
	_g_free0 (cprefix);
#line 328 "valagirwriter.vala"
	_g_free0 (old_gir_version);
#line 328 "valagirwriter.vala"
	_g_free0 (old_gir_namespace);
#line 2689 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_symbol_attributes (ValaGIRWriter* self,
                                         ValaSymbol* symbol)
{
	ValaVersionAttribute* _tmp1_;
	ValaVersionAttribute* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	ValaVersionAttribute* _tmp18_;
	ValaVersionAttribute* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gboolean _tmp23_;
#line 397 "valagirwriter.vala"
	if (!vala_gir_writer_is_introspectable (self, symbol)) {
#line 2708 "valagirwriter.vala.c"
		GString* _tmp0_;
#line 398 "valagirwriter.vala"
		_tmp0_ = self->priv->buffer;
#line 398 "valagirwriter.vala"
		g_string_append_printf (_tmp0_, " introspectable=\"0\"");
#line 2714 "valagirwriter.vala.c"
	}
#line 400 "valagirwriter.vala"
	_tmp1_ = vala_symbol_get_version (symbol);
#line 400 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 400 "valagirwriter.vala"
	_tmp3_ = vala_version_attribute_get_deprecated (_tmp2_);
#line 400 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 400 "valagirwriter.vala"
	if (_tmp4_) {
#line 2726 "valagirwriter.vala.c"
		GString* _tmp5_;
		ValaVersionAttribute* _tmp6_;
		ValaVersionAttribute* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		gboolean _tmp11_;
#line 401 "valagirwriter.vala"
		_tmp5_ = self->priv->buffer;
#line 401 "valagirwriter.vala"
		g_string_append_printf (_tmp5_, " deprecated=\"1\"");
#line 402 "valagirwriter.vala"
		_tmp6_ = vala_symbol_get_version (symbol);
#line 402 "valagirwriter.vala"
		_tmp7_ = _tmp6_;
#line 402 "valagirwriter.vala"
		_tmp8_ = vala_version_attribute_get_deprecated_since (_tmp7_);
#line 402 "valagirwriter.vala"
		_tmp9_ = _tmp8_;
#line 402 "valagirwriter.vala"
		_tmp10_ = _tmp9_;
#line 402 "valagirwriter.vala"
		_tmp11_ = _tmp10_ != NULL;
#line 402 "valagirwriter.vala"
		_g_free0 (_tmp10_);
#line 402 "valagirwriter.vala"
		if (_tmp11_) {
#line 2754 "valagirwriter.vala.c"
			GString* _tmp12_;
			ValaVersionAttribute* _tmp13_;
			ValaVersionAttribute* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			gchar* _tmp17_;
#line 403 "valagirwriter.vala"
			_tmp12_ = self->priv->buffer;
#line 403 "valagirwriter.vala"
			_tmp13_ = vala_symbol_get_version (symbol);
#line 403 "valagirwriter.vala"
			_tmp14_ = _tmp13_;
#line 403 "valagirwriter.vala"
			_tmp15_ = vala_version_attribute_get_deprecated_since (_tmp14_);
#line 403 "valagirwriter.vala"
			_tmp16_ = _tmp15_;
#line 403 "valagirwriter.vala"
			_tmp17_ = _tmp16_;
#line 403 "valagirwriter.vala"
			g_string_append_printf (_tmp12_, " deprecated-version=\"%s\"", _tmp17_);
#line 403 "valagirwriter.vala"
			_g_free0 (_tmp17_);
#line 2777 "valagirwriter.vala.c"
		}
	}
#line 406 "valagirwriter.vala"
	_tmp18_ = vala_symbol_get_version (symbol);
#line 406 "valagirwriter.vala"
	_tmp19_ = _tmp18_;
#line 406 "valagirwriter.vala"
	_tmp20_ = vala_version_attribute_get_since (_tmp19_);
#line 406 "valagirwriter.vala"
	_tmp21_ = _tmp20_;
#line 406 "valagirwriter.vala"
	_tmp22_ = _tmp21_;
#line 406 "valagirwriter.vala"
	_tmp23_ = _tmp22_ != NULL;
#line 406 "valagirwriter.vala"
	_g_free0 (_tmp22_);
#line 406 "valagirwriter.vala"
	if (_tmp23_) {
#line 2796 "valagirwriter.vala.c"
		GString* _tmp24_;
		ValaVersionAttribute* _tmp25_;
		ValaVersionAttribute* _tmp26_;
		gchar* _tmp27_;
		gchar* _tmp28_;
		gchar* _tmp29_;
#line 407 "valagirwriter.vala"
		_tmp24_ = self->priv->buffer;
#line 407 "valagirwriter.vala"
		_tmp25_ = vala_symbol_get_version (symbol);
#line 407 "valagirwriter.vala"
		_tmp26_ = _tmp25_;
#line 407 "valagirwriter.vala"
		_tmp27_ = vala_version_attribute_get_since (_tmp26_);
#line 407 "valagirwriter.vala"
		_tmp28_ = _tmp27_;
#line 407 "valagirwriter.vala"
		_tmp29_ = _tmp28_;
#line 407 "valagirwriter.vala"
		g_string_append_printf (_tmp24_, " version=\"%s\"", _tmp29_);
#line 407 "valagirwriter.vala"
		_g_free0 (_tmp29_);
#line 2819 "valagirwriter.vala.c"
	}
}

static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	glong result;
#line 1455 "glib-2.0.vapi"
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
#line 1455 "glib-2.0.vapi"
	end = _tmp0_;
#line 1456 "glib-2.0.vapi"
	_tmp1_ = end;
#line 1456 "glib-2.0.vapi"
	if (_tmp1_ == NULL) {
#line 1457 "glib-2.0.vapi"
		result = maxlen;
#line 1457 "glib-2.0.vapi"
		return result;
#line 2843 "valagirwriter.vala.c"
	} else {
		gchar* _tmp2_;
#line 1459 "glib-2.0.vapi"
		_tmp2_ = end;
#line 1459 "glib-2.0.vapi"
		result = (glong) (_tmp2_ - str);
#line 1459 "glib-2.0.vapi"
		return result;
#line 2852 "valagirwriter.vala.c"
	}
}

static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	gchar* _tmp3_;
	gchar* result;
#line 1468 "glib-2.0.vapi"
	if (offset >= ((glong) 0)) {
#line 1468 "glib-2.0.vapi"
		_tmp0_ = len >= ((glong) 0);
#line 2869 "valagirwriter.vala.c"
	} else {
#line 1468 "glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 2873 "valagirwriter.vala.c"
	}
#line 1468 "glib-2.0.vapi"
	if (_tmp0_) {
#line 1470 "glib-2.0.vapi"
		string_length = string_strnlen ((gchar*) self, offset + len);
#line 2879 "valagirwriter.vala.c"
	} else {
		gint _tmp1_;
		gint _tmp2_;
#line 1472 "glib-2.0.vapi"
		_tmp1_ = strlen (self);
#line 1472 "glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1472 "glib-2.0.vapi"
		string_length = (glong) _tmp2_;
#line 2889 "valagirwriter.vala.c"
	}
#line 1475 "glib-2.0.vapi"
	if (offset < ((glong) 0)) {
#line 1476 "glib-2.0.vapi"
		offset = string_length + offset;
#line 1477 "glib-2.0.vapi"
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
#line 2897 "valagirwriter.vala.c"
	} else {
#line 1479 "glib-2.0.vapi"
		g_return_val_if_fail (offset <= string_length, NULL);
#line 2901 "valagirwriter.vala.c"
	}
#line 1481 "glib-2.0.vapi"
	if (len < ((glong) 0)) {
#line 1482 "glib-2.0.vapi"
		len = string_length - offset;
#line 2907 "valagirwriter.vala.c"
	}
#line 1484 "glib-2.0.vapi"
	g_return_val_if_fail ((offset + len) <= string_length, NULL);
#line 1485 "glib-2.0.vapi"
	_tmp3_ = g_strndup (((gchar*) self) + offset, (gsize) len);
#line 1485 "glib-2.0.vapi"
	result = _tmp3_;
#line 1485 "glib-2.0.vapi"
	return result;
#line 2917 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_class (ValaCodeVisitor* base,
                                  ValaClass* cl)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	ValaArrayList* _tmp2_;
	gpointer _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp7_;
	gboolean _tmp8_;
#line 411 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 412 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) cl);
#line 412 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 412 "valagirwriter.vala"
	if (_tmp1_) {
#line 413 "valagirwriter.vala"
		return;
#line 2943 "valagirwriter.vala.c"
	}
#line 416 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) cl)) {
#line 417 "valagirwriter.vala"
		return;
#line 2949 "valagirwriter.vala.c"
	}
#line 420 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) cl)) {
#line 421 "valagirwriter.vala"
		return;
#line 2955 "valagirwriter.vala.c"
	}
#line 424 "valagirwriter.vala"
	_tmp2_ = self->priv->hierarchy;
#line 424 "valagirwriter.vala"
	_tmp3_ = vala_list_get ((ValaList*) _tmp2_, 0);
#line 424 "valagirwriter.vala"
	_tmp4_ = (ValaSymbol*) _tmp3_;
#line 424 "valagirwriter.vala"
	_tmp5_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_NAMESPACE);
#line 424 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp4_);
#line 424 "valagirwriter.vala"
	if (_tmp5_) {
#line 2969 "valagirwriter.vala.c"
		ValaArrayList* _tmp6_;
#line 425 "valagirwriter.vala"
		_tmp6_ = self->priv->deferred;
#line 425 "valagirwriter.vala"
		vala_collection_add ((ValaCollection*) _tmp6_, (ValaCodeNode*) cl);
#line 426 "valagirwriter.vala"
		return;
#line 2977 "valagirwriter.vala.c"
	}
#line 429 "valagirwriter.vala"
	_tmp7_ = vala_class_get_is_compact (cl);
#line 429 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 429 "valagirwriter.vala"
	if (!_tmp8_) {
#line 2985 "valagirwriter.vala.c"
		gchar* gtype_struct_name = NULL;
		gchar* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		GString* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		GString* _tmp16_;
		const gchar* _tmp17_;
		ValaClass* _tmp18_;
		ValaClass* _tmp19_;
		gboolean _tmp38_;
		gboolean _tmp39_;
		gboolean _tmp41_;
		gboolean _tmp42_;
		GString* _tmp44_;
		gint _tmp45_;
		gchar* _tmp46_;
		gchar* _tmp47_;
		GString* _tmp67_;
		gint _tmp68_;
		ValaClass* _tmp69_;
		ValaClass* _tmp70_;
		gint _tmp87_;
		GString* _tmp88_;
		ValaClass* _tmp89_;
		ValaClass* _tmp90_;
		ValaCodeContext* _tmp96_;
		gboolean _tmp97_;
		gboolean _tmp98_;
		gboolean _tmp108_ = FALSE;
		ValaClass* _tmp109_;
		ValaClass* _tmp110_;
		ValaArrayList* _tmp123_;
		ValaArrayList* _tmp124_;
		gpointer _tmp125_;
		ValaSymbol* _tmp126_;
		ValaCodeContext* _tmp127_;
		gboolean _tmp128_;
		gboolean _tmp129_;
		gint _tmp139_;
		GString* _tmp140_;
		GString* _tmp141_;
		const gchar* _tmp142_;
		GString* _tmp143_;
		gchar* _tmp144_;
		gchar* _tmp145_;
		GString* _tmp146_;
		gint _tmp147_;
		GString* _tmp148_;
		gint _tmp149_;
		ValaClass* _tmp150_;
		ValaClass* _tmp151_;
		gint _tmp165_;
		GString* _tmp166_;
		gint _tmp286_;
		GString* _tmp287_;
		GString* _tmp288_;
		gchar* _tmp289_;
		gchar* _tmp290_;
		gchar* _tmp291_;
		gchar* _tmp292_;
#line 430 "valagirwriter.vala"
		_tmp9_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 430 "valagirwriter.vala"
		_tmp10_ = _tmp9_;
#line 430 "valagirwriter.vala"
		_tmp11_ = g_strconcat (_tmp10_, "Class", NULL);
#line 430 "valagirwriter.vala"
		_tmp12_ = _tmp11_;
#line 430 "valagirwriter.vala"
		_g_free0 (_tmp10_);
#line 430 "valagirwriter.vala"
		gtype_struct_name = _tmp12_;
#line 432 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 433 "valagirwriter.vala"
		_tmp13_ = self->priv->buffer;
#line 433 "valagirwriter.vala"
		_tmp14_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 433 "valagirwriter.vala"
		_tmp15_ = _tmp14_;
#line 433 "valagirwriter.vala"
		g_string_append_printf (_tmp13_, "<class name=\"%s\"", _tmp15_);
#line 433 "valagirwriter.vala"
		_g_free0 (_tmp15_);
#line 434 "valagirwriter.vala"
		vala_gir_writer_write_gtype_attributes (self, (ValaTypeSymbol*) cl, TRUE);
#line 435 "valagirwriter.vala"
		_tmp16_ = self->priv->buffer;
#line 435 "valagirwriter.vala"
		_tmp17_ = gtype_struct_name;
#line 435 "valagirwriter.vala"
		g_string_append_printf (_tmp16_, " glib:type-struct=\"%s\"", _tmp17_);
#line 436 "valagirwriter.vala"
		_tmp18_ = vala_class_get_base_class (cl);
#line 436 "valagirwriter.vala"
		_tmp19_ = _tmp18_;
#line 436 "valagirwriter.vala"
		if (_tmp19_ == NULL) {
#line 3087 "valagirwriter.vala.c"
			GString* _tmp20_;
			GString* _tmp21_;
			gchar* _tmp22_;
			gchar* _tmp23_;
			GString* _tmp24_;
			gchar* _tmp25_;
			gchar* _tmp26_;
			GString* _tmp27_;
			gchar* _tmp28_;
			gchar* _tmp29_;
			GString* _tmp30_;
			gchar* _tmp31_;
			gchar* _tmp32_;
#line 437 "valagirwriter.vala"
			_tmp20_ = self->priv->buffer;
#line 437 "valagirwriter.vala"
			g_string_append_printf (_tmp20_, " glib:fundamental=\"1\"");
#line 438 "valagirwriter.vala"
			_tmp21_ = self->priv->buffer;
#line 438 "valagirwriter.vala"
			_tmp22_ = vala_get_ccode_ref_function ((ValaTypeSymbol*) cl);
#line 438 "valagirwriter.vala"
			_tmp23_ = _tmp22_;
#line 438 "valagirwriter.vala"
			g_string_append_printf (_tmp21_, " glib:ref-func=\"%s\"", _tmp23_);
#line 438 "valagirwriter.vala"
			_g_free0 (_tmp23_);
#line 439 "valagirwriter.vala"
			_tmp24_ = self->priv->buffer;
#line 439 "valagirwriter.vala"
			_tmp25_ = vala_get_ccode_unref_function ((ValaObjectTypeSymbol*) cl);
#line 439 "valagirwriter.vala"
			_tmp26_ = _tmp25_;
#line 439 "valagirwriter.vala"
			g_string_append_printf (_tmp24_, " glib:unref-func=\"%s\"", _tmp26_);
#line 439 "valagirwriter.vala"
			_g_free0 (_tmp26_);
#line 440 "valagirwriter.vala"
			_tmp27_ = self->priv->buffer;
#line 440 "valagirwriter.vala"
			_tmp28_ = vala_get_ccode_set_value_function ((ValaCodeNode*) cl);
#line 440 "valagirwriter.vala"
			_tmp29_ = _tmp28_;
#line 440 "valagirwriter.vala"
			g_string_append_printf (_tmp27_, " glib:set-value-func=\"%s\"", _tmp29_);
#line 440 "valagirwriter.vala"
			_g_free0 (_tmp29_);
#line 441 "valagirwriter.vala"
			_tmp30_ = self->priv->buffer;
#line 441 "valagirwriter.vala"
			_tmp31_ = vala_get_ccode_get_value_function ((ValaCodeNode*) cl);
#line 441 "valagirwriter.vala"
			_tmp32_ = _tmp31_;
#line 441 "valagirwriter.vala"
			g_string_append_printf (_tmp30_, " glib:get-value-func=\"%s\"", _tmp32_);
#line 441 "valagirwriter.vala"
			_g_free0 (_tmp32_);
#line 3145 "valagirwriter.vala.c"
		} else {
			GString* _tmp33_;
			ValaClass* _tmp34_;
			ValaClass* _tmp35_;
			gchar* _tmp36_;
			gchar* _tmp37_;
#line 443 "valagirwriter.vala"
			_tmp33_ = self->priv->buffer;
#line 443 "valagirwriter.vala"
			_tmp34_ = vala_class_get_base_class (cl);
#line 443 "valagirwriter.vala"
			_tmp35_ = _tmp34_;
#line 443 "valagirwriter.vala"
			_tmp36_ = vala_gir_writer_gi_type_name (self, (ValaTypeSymbol*) _tmp35_);
#line 443 "valagirwriter.vala"
			_tmp37_ = _tmp36_;
#line 443 "valagirwriter.vala"
			g_string_append_printf (_tmp33_, " parent=\"%s\"", _tmp37_);
#line 443 "valagirwriter.vala"
			_g_free0 (_tmp37_);
#line 3166 "valagirwriter.vala.c"
		}
#line 445 "valagirwriter.vala"
		_tmp38_ = vala_class_get_is_abstract (cl);
#line 445 "valagirwriter.vala"
		_tmp39_ = _tmp38_;
#line 445 "valagirwriter.vala"
		if (_tmp39_) {
#line 3174 "valagirwriter.vala.c"
			GString* _tmp40_;
#line 446 "valagirwriter.vala"
			_tmp40_ = self->priv->buffer;
#line 446 "valagirwriter.vala"
			g_string_append_printf (_tmp40_, " abstract=\"1\"");
#line 3180 "valagirwriter.vala.c"
		}
#line 448 "valagirwriter.vala"
		_tmp41_ = vala_class_get_is_sealed (cl);
#line 448 "valagirwriter.vala"
		_tmp42_ = _tmp41_;
#line 448 "valagirwriter.vala"
		if (_tmp42_) {
#line 3188 "valagirwriter.vala.c"
			GString* _tmp43_;
#line 449 "valagirwriter.vala"
			_tmp43_ = self->priv->buffer;
#line 449 "valagirwriter.vala"
			g_string_append_printf (_tmp43_, " final=\"1\"");
#line 3194 "valagirwriter.vala.c"
		}
#line 451 "valagirwriter.vala"
		vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) cl);
#line 452 "valagirwriter.vala"
		_tmp44_ = self->priv->buffer;
#line 452 "valagirwriter.vala"
		g_string_append_printf (_tmp44_, ">\n");
#line 453 "valagirwriter.vala"
		_tmp45_ = self->priv->indent;
#line 453 "valagirwriter.vala"
		self->priv->indent = _tmp45_ + 1;
#line 455 "valagirwriter.vala"
		_tmp46_ = vala_gir_writer_get_class_comment (self, cl);
#line 455 "valagirwriter.vala"
		_tmp47_ = _tmp46_;
#line 455 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp47_);
#line 455 "valagirwriter.vala"
		_g_free0 (_tmp47_);
#line 3214 "valagirwriter.vala.c"
		{
			ValaList* _base_type_list = NULL;
			ValaList* _tmp48_;
			gint _base_type_size = 0;
			ValaList* _tmp49_;
			gint _tmp50_;
			gint _tmp51_;
			gint _base_type_index = 0;
#line 458 "valagirwriter.vala"
			_tmp48_ = vala_class_get_base_types (cl);
#line 458 "valagirwriter.vala"
			_base_type_list = _tmp48_;
#line 458 "valagirwriter.vala"
			_tmp49_ = _base_type_list;
#line 458 "valagirwriter.vala"
			_tmp50_ = vala_collection_get_size ((ValaCollection*) _tmp49_);
#line 458 "valagirwriter.vala"
			_tmp51_ = _tmp50_;
#line 458 "valagirwriter.vala"
			_base_type_size = _tmp51_;
#line 458 "valagirwriter.vala"
			_base_type_index = -1;
#line 458 "valagirwriter.vala"
			while (TRUE) {
#line 3239 "valagirwriter.vala.c"
				gint _tmp52_;
				gint _tmp53_;
				ValaDataType* base_type = NULL;
				ValaList* _tmp54_;
				gpointer _tmp55_;
				ValaObjectType* object_type = NULL;
				ValaDataType* _tmp56_;
				ValaObjectType* _tmp57_;
				ValaObjectType* _tmp58_;
				ValaTypeSymbol* _tmp59_;
				ValaTypeSymbol* _tmp60_;
#line 458 "valagirwriter.vala"
				_base_type_index = _base_type_index + 1;
#line 458 "valagirwriter.vala"
				_tmp52_ = _base_type_index;
#line 458 "valagirwriter.vala"
				_tmp53_ = _base_type_size;
#line 458 "valagirwriter.vala"
				if (!(_tmp52_ < _tmp53_)) {
#line 458 "valagirwriter.vala"
					break;
#line 3261 "valagirwriter.vala.c"
				}
#line 458 "valagirwriter.vala"
				_tmp54_ = _base_type_list;
#line 458 "valagirwriter.vala"
				_tmp55_ = vala_list_get (_tmp54_, _base_type_index);
#line 458 "valagirwriter.vala"
				base_type = (ValaDataType*) _tmp55_;
#line 459 "valagirwriter.vala"
				_tmp56_ = base_type;
#line 459 "valagirwriter.vala"
				_tmp57_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp56_, VALA_TYPE_OBJECT_TYPE, ValaObjectType));
#line 459 "valagirwriter.vala"
				object_type = _tmp57_;
#line 460 "valagirwriter.vala"
				_tmp58_ = object_type;
#line 460 "valagirwriter.vala"
				_tmp59_ = vala_data_type_get_type_symbol ((ValaDataType*) _tmp58_);
#line 460 "valagirwriter.vala"
				_tmp60_ = _tmp59_;
#line 460 "valagirwriter.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp60_, VALA_TYPE_INTERFACE)) {
#line 3283 "valagirwriter.vala.c"
					GString* _tmp61_;
					ValaObjectType* _tmp62_;
					ValaTypeSymbol* _tmp63_;
					ValaTypeSymbol* _tmp64_;
					gchar* _tmp65_;
					gchar* _tmp66_;
#line 461 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 462 "valagirwriter.vala"
					_tmp61_ = self->priv->buffer;
#line 462 "valagirwriter.vala"
					_tmp62_ = object_type;
#line 462 "valagirwriter.vala"
					_tmp63_ = vala_data_type_get_type_symbol ((ValaDataType*) _tmp62_);
#line 462 "valagirwriter.vala"
					_tmp64_ = _tmp63_;
#line 462 "valagirwriter.vala"
					_tmp65_ = vala_gir_writer_gi_type_name (self, _tmp64_);
#line 462 "valagirwriter.vala"
					_tmp66_ = _tmp65_;
#line 462 "valagirwriter.vala"
					g_string_append_printf (_tmp61_, "<implements name=\"%s\"/>\n", _tmp66_);
#line 462 "valagirwriter.vala"
					_g_free0 (_tmp66_);
#line 3308 "valagirwriter.vala.c"
				}
#line 458 "valagirwriter.vala"
				_vala_code_node_unref0 (object_type);
#line 458 "valagirwriter.vala"
				_vala_code_node_unref0 (base_type);
#line 3314 "valagirwriter.vala.c"
			}
		}
#line 466 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 467 "valagirwriter.vala"
		_tmp67_ = self->priv->buffer;
#line 467 "valagirwriter.vala"
		g_string_append_printf (_tmp67_, "<field name=\"parent_instance\" readable=\"0\" private=\"1\">\n");
#line 468 "valagirwriter.vala"
		_tmp68_ = self->priv->indent;
#line 468 "valagirwriter.vala"
		self->priv->indent = _tmp68_ + 1;
#line 469 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 470 "valagirwriter.vala"
		_tmp69_ = vala_class_get_base_class (cl);
#line 470 "valagirwriter.vala"
		_tmp70_ = _tmp69_;
#line 470 "valagirwriter.vala"
		if (_tmp70_ == NULL) {
#line 3335 "valagirwriter.vala.c"
			GString* _tmp71_;
			ValaTypeSymbol* _tmp72_;
			gchar* _tmp73_;
			gchar* _tmp74_;
			ValaTypeSymbol* _tmp75_;
			gchar* _tmp76_;
			gchar* _tmp77_;
#line 471 "valagirwriter.vala"
			_tmp71_ = self->priv->buffer;
#line 471 "valagirwriter.vala"
			_tmp72_ = self->priv->gtypeinstance_type;
#line 471 "valagirwriter.vala"
			_tmp73_ = vala_gir_writer_gi_type_name (self, _tmp72_);
#line 471 "valagirwriter.vala"
			_tmp74_ = _tmp73_;
#line 471 "valagirwriter.vala"
			_tmp75_ = self->priv->gtypeinstance_type;
#line 471 "valagirwriter.vala"
			_tmp76_ = vala_get_ccode_name ((ValaCodeNode*) _tmp75_);
#line 471 "valagirwriter.vala"
			_tmp77_ = _tmp76_;
#line 471 "valagirwriter.vala"
			g_string_append_printf (_tmp71_, "<type name=\"%s\" c:type=\"%s\"/>\n", _tmp74_, _tmp77_);
#line 471 "valagirwriter.vala"
			_g_free0 (_tmp77_);
#line 471 "valagirwriter.vala"
			_g_free0 (_tmp74_);
#line 3363 "valagirwriter.vala.c"
		} else {
			GString* _tmp78_;
			ValaClass* _tmp79_;
			ValaClass* _tmp80_;
			gchar* _tmp81_;
			gchar* _tmp82_;
			ValaClass* _tmp83_;
			ValaClass* _tmp84_;
			gchar* _tmp85_;
			gchar* _tmp86_;
#line 473 "valagirwriter.vala"
			_tmp78_ = self->priv->buffer;
#line 473 "valagirwriter.vala"
			_tmp79_ = vala_class_get_base_class (cl);
#line 473 "valagirwriter.vala"
			_tmp80_ = _tmp79_;
#line 473 "valagirwriter.vala"
			_tmp81_ = vala_gir_writer_gi_type_name (self, (ValaTypeSymbol*) _tmp80_);
#line 473 "valagirwriter.vala"
			_tmp82_ = _tmp81_;
#line 473 "valagirwriter.vala"
			_tmp83_ = vala_class_get_base_class (cl);
#line 473 "valagirwriter.vala"
			_tmp84_ = _tmp83_;
#line 473 "valagirwriter.vala"
			_tmp85_ = vala_get_ccode_name ((ValaCodeNode*) _tmp84_);
#line 473 "valagirwriter.vala"
			_tmp86_ = _tmp85_;
#line 473 "valagirwriter.vala"
			g_string_append_printf (_tmp78_, "<type name=\"%s\" c:type=\"%s\"/>\n", _tmp82_, _tmp86_);
#line 473 "valagirwriter.vala"
			_g_free0 (_tmp86_);
#line 473 "valagirwriter.vala"
			_g_free0 (_tmp82_);
#line 3398 "valagirwriter.vala.c"
		}
#line 475 "valagirwriter.vala"
		_tmp87_ = self->priv->indent;
#line 475 "valagirwriter.vala"
		self->priv->indent = _tmp87_ - 1;
#line 476 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 477 "valagirwriter.vala"
		_tmp88_ = self->priv->buffer;
#line 477 "valagirwriter.vala"
		g_string_append_printf (_tmp88_, "</field>\n");
#line 479 "valagirwriter.vala"
		_tmp89_ = vala_class_get_base_class (cl);
#line 479 "valagirwriter.vala"
		_tmp90_ = _tmp89_;
#line 479 "valagirwriter.vala"
		if (_tmp90_ == NULL) {
#line 3416 "valagirwriter.vala.c"
			GString* _tmp91_;
			gint _tmp92_;
			GString* _tmp93_;
			gint _tmp94_;
			GString* _tmp95_;
#line 480 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 481 "valagirwriter.vala"
			_tmp91_ = self->priv->buffer;
#line 481 "valagirwriter.vala"
			g_string_append_printf (_tmp91_, "<field name=\"ref_count\">\n");
#line 482 "valagirwriter.vala"
			_tmp92_ = self->priv->indent;
#line 482 "valagirwriter.vala"
			self->priv->indent = _tmp92_ + 1;
#line 483 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 484 "valagirwriter.vala"
			_tmp93_ = self->priv->buffer;
#line 484 "valagirwriter.vala"
			g_string_append_printf (_tmp93_, "<type name=\"gint\" c:type=\"volatile int\"/>\n");
#line 485 "valagirwriter.vala"
			_tmp94_ = self->priv->indent;
#line 485 "valagirwriter.vala"
			self->priv->indent = _tmp94_ - 1;
#line 486 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 487 "valagirwriter.vala"
			_tmp95_ = self->priv->buffer;
#line 487 "valagirwriter.vala"
			g_string_append_printf (_tmp95_, "</field>\n");
#line 3448 "valagirwriter.vala.c"
		}
#line 490 "valagirwriter.vala"
		_tmp96_ = self->priv->context;
#line 490 "valagirwriter.vala"
		_tmp97_ = vala_code_context_get_abi_stability (_tmp96_);
#line 490 "valagirwriter.vala"
		_tmp98_ = _tmp97_;
#line 490 "valagirwriter.vala"
		if (!_tmp98_) {
#line 3458 "valagirwriter.vala.c"
			GString* _tmp99_;
			gint _tmp100_;
			GString* _tmp101_;
			gchar* _tmp102_;
			gchar* _tmp103_;
			gchar* _tmp104_;
			gchar* _tmp105_;
			gint _tmp106_;
			GString* _tmp107_;
#line 491 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 492 "valagirwriter.vala"
			_tmp99_ = self->priv->buffer;
#line 492 "valagirwriter.vala"
			g_string_append_printf (_tmp99_, "<field name=\"priv\" readable=\"0\" private=\"1\">\n");
#line 493 "valagirwriter.vala"
			_tmp100_ = self->priv->indent;
#line 493 "valagirwriter.vala"
			self->priv->indent = _tmp100_ + 1;
#line 494 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 495 "valagirwriter.vala"
			_tmp101_ = self->priv->buffer;
#line 495 "valagirwriter.vala"
			_tmp102_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 495 "valagirwriter.vala"
			_tmp103_ = _tmp102_;
#line 495 "valagirwriter.vala"
			_tmp104_ = vala_get_ccode_name ((ValaCodeNode*) cl);
#line 495 "valagirwriter.vala"
			_tmp105_ = _tmp104_;
#line 495 "valagirwriter.vala"
			g_string_append_printf (_tmp101_, "<type name=\"%sPrivate\" c:type=\"%sPrivate*\"/>\n", _tmp103_, _tmp105_);
#line 495 "valagirwriter.vala"
			_g_free0 (_tmp105_);
#line 495 "valagirwriter.vala"
			_g_free0 (_tmp103_);
#line 496 "valagirwriter.vala"
			_tmp106_ = self->priv->indent;
#line 496 "valagirwriter.vala"
			self->priv->indent = _tmp106_ - 1;
#line 497 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 498 "valagirwriter.vala"
			_tmp107_ = self->priv->buffer;
#line 498 "valagirwriter.vala"
			g_string_append_printf (_tmp107_, "</field>\n");
#line 3506 "valagirwriter.vala.c"
		}
#line 501 "valagirwriter.vala"
		_tmp109_ = vala_class_get_base_class (cl);
#line 501 "valagirwriter.vala"
		_tmp110_ = _tmp109_;
#line 501 "valagirwriter.vala"
		if (_tmp110_ != NULL) {
#line 3514 "valagirwriter.vala.c"
			ValaClass* _tmp111_;
			ValaClass* _tmp112_;
			ValaTypeSymbol* _tmp113_;
#line 501 "valagirwriter.vala"
			_tmp111_ = vala_class_get_base_class (cl);
#line 501 "valagirwriter.vala"
			_tmp112_ = _tmp111_;
#line 501 "valagirwriter.vala"
			_tmp113_ = self->priv->gobject_type;
#line 501 "valagirwriter.vala"
			_tmp108_ = vala_typesymbol_is_subtype_of ((ValaTypeSymbol*) _tmp112_, _tmp113_);
#line 3526 "valagirwriter.vala.c"
		} else {
#line 501 "valagirwriter.vala"
			_tmp108_ = FALSE;
#line 3530 "valagirwriter.vala.c"
		}
#line 501 "valagirwriter.vala"
		if (_tmp108_) {
#line 3534 "valagirwriter.vala.c"
			{
				ValaList* _p_list = NULL;
				ValaList* _tmp114_;
				gint _p_size = 0;
				ValaList* _tmp115_;
				gint _tmp116_;
				gint _tmp117_;
				gint _p_index = 0;
#line 502 "valagirwriter.vala"
				_tmp114_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) cl);
#line 502 "valagirwriter.vala"
				_p_list = _tmp114_;
#line 502 "valagirwriter.vala"
				_tmp115_ = _p_list;
#line 502 "valagirwriter.vala"
				_tmp116_ = vala_collection_get_size ((ValaCollection*) _tmp115_);
#line 502 "valagirwriter.vala"
				_tmp117_ = _tmp116_;
#line 502 "valagirwriter.vala"
				_p_size = _tmp117_;
#line 502 "valagirwriter.vala"
				_p_index = -1;
#line 502 "valagirwriter.vala"
				while (TRUE) {
#line 3559 "valagirwriter.vala.c"
					gint _tmp118_;
					gint _tmp119_;
					ValaTypeParameter* p = NULL;
					ValaList* _tmp120_;
					gpointer _tmp121_;
					ValaTypeParameter* _tmp122_;
#line 502 "valagirwriter.vala"
					_p_index = _p_index + 1;
#line 502 "valagirwriter.vala"
					_tmp118_ = _p_index;
#line 502 "valagirwriter.vala"
					_tmp119_ = _p_size;
#line 502 "valagirwriter.vala"
					if (!(_tmp118_ < _tmp119_)) {
#line 502 "valagirwriter.vala"
						break;
#line 3576 "valagirwriter.vala.c"
					}
#line 502 "valagirwriter.vala"
					_tmp120_ = _p_list;
#line 502 "valagirwriter.vala"
					_tmp121_ = vala_list_get (_tmp120_, _p_index);
#line 502 "valagirwriter.vala"
					p = (ValaTypeParameter*) _tmp121_;
#line 503 "valagirwriter.vala"
					_tmp122_ = p;
#line 503 "valagirwriter.vala"
					vala_gir_writer_write_type_parameter (self, _tmp122_, "property");
#line 502 "valagirwriter.vala"
					_vala_code_node_unref0 (p);
#line 3590 "valagirwriter.vala.c"
				}
			}
		}
#line 507 "valagirwriter.vala"
		_tmp123_ = self->priv->hierarchy;
#line 507 "valagirwriter.vala"
		vala_list_insert ((ValaList*) _tmp123_, 0, (ValaSymbol*) cl);
#line 508 "valagirwriter.vala"
		vala_code_node_accept_children ((ValaCodeNode*) cl, (ValaCodeVisitor*) self);
#line 509 "valagirwriter.vala"
		_tmp124_ = self->priv->hierarchy;
#line 509 "valagirwriter.vala"
		_tmp125_ = vala_list_remove_at ((ValaList*) _tmp124_, 0);
#line 509 "valagirwriter.vala"
		_tmp126_ = (ValaSymbol*) _tmp125_;
#line 509 "valagirwriter.vala"
		_vala_code_node_unref0 (_tmp126_);
#line 511 "valagirwriter.vala"
		_tmp127_ = self->priv->context;
#line 511 "valagirwriter.vala"
		_tmp128_ = vala_code_context_get_abi_stability (_tmp127_);
#line 511 "valagirwriter.vala"
		_tmp129_ = _tmp128_;
#line 511 "valagirwriter.vala"
		if (_tmp129_) {
#line 3616 "valagirwriter.vala.c"
			GString* _tmp130_;
			gint _tmp131_;
			GString* _tmp132_;
			gchar* _tmp133_;
			gchar* _tmp134_;
			gchar* _tmp135_;
			gchar* _tmp136_;
			gint _tmp137_;
			GString* _tmp138_;
#line 512 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 513 "valagirwriter.vala"
			_tmp130_ = self->priv->buffer;
#line 513 "valagirwriter.vala"
			g_string_append_printf (_tmp130_, "<field name=\"priv\" readable=\"0\" private=\"1\">\n");
#line 514 "valagirwriter.vala"
			_tmp131_ = self->priv->indent;
#line 514 "valagirwriter.vala"
			self->priv->indent = _tmp131_ + 1;
#line 515 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 516 "valagirwriter.vala"
			_tmp132_ = self->priv->buffer;
#line 516 "valagirwriter.vala"
			_tmp133_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 516 "valagirwriter.vala"
			_tmp134_ = _tmp133_;
#line 516 "valagirwriter.vala"
			_tmp135_ = vala_get_ccode_name ((ValaCodeNode*) cl);
#line 516 "valagirwriter.vala"
			_tmp136_ = _tmp135_;
#line 516 "valagirwriter.vala"
			g_string_append_printf (_tmp132_, "<type name=\"%sPrivate\" c:type=\"%sPrivate*\"/>\n", _tmp134_, _tmp136_);
#line 516 "valagirwriter.vala"
			_g_free0 (_tmp136_);
#line 516 "valagirwriter.vala"
			_g_free0 (_tmp134_);
#line 517 "valagirwriter.vala"
			_tmp137_ = self->priv->indent;
#line 517 "valagirwriter.vala"
			self->priv->indent = _tmp137_ - 1;
#line 518 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 519 "valagirwriter.vala"
			_tmp138_ = self->priv->buffer;
#line 519 "valagirwriter.vala"
			g_string_append_printf (_tmp138_, "</field>\n");
#line 3664 "valagirwriter.vala.c"
		}
#line 522 "valagirwriter.vala"
		_tmp139_ = self->priv->indent;
#line 522 "valagirwriter.vala"
		self->priv->indent = _tmp139_ - 1;
#line 523 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 524 "valagirwriter.vala"
		_tmp140_ = self->priv->buffer;
#line 524 "valagirwriter.vala"
		g_string_append_printf (_tmp140_, "</class>\n");
#line 526 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 527 "valagirwriter.vala"
		_tmp141_ = self->priv->buffer;
#line 527 "valagirwriter.vala"
		_tmp142_ = gtype_struct_name;
#line 527 "valagirwriter.vala"
		g_string_append_printf (_tmp141_, "<record name=\"%s\"", _tmp142_);
#line 528 "valagirwriter.vala"
		vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) cl, "Class", FALSE);
#line 529 "valagirwriter.vala"
		_tmp143_ = self->priv->buffer;
#line 529 "valagirwriter.vala"
		_tmp144_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 529 "valagirwriter.vala"
		_tmp145_ = _tmp144_;
#line 529 "valagirwriter.vala"
		g_string_append_printf (_tmp143_, " glib:is-gtype-struct-for=\"%s\"", _tmp145_);
#line 529 "valagirwriter.vala"
		_g_free0 (_tmp145_);
#line 530 "valagirwriter.vala"
		_tmp146_ = self->priv->buffer;
#line 530 "valagirwriter.vala"
		g_string_append_printf (_tmp146_, ">\n");
#line 531 "valagirwriter.vala"
		_tmp147_ = self->priv->indent;
#line 531 "valagirwriter.vala"
		self->priv->indent = _tmp147_ + 1;
#line 533 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 534 "valagirwriter.vala"
		_tmp148_ = self->priv->buffer;
#line 534 "valagirwriter.vala"
		g_string_append_printf (_tmp148_, "<field name=\"parent_class\" readable=\"0\" private=\"1\">\n");
#line 535 "valagirwriter.vala"
		_tmp149_ = self->priv->indent;
#line 535 "valagirwriter.vala"
		self->priv->indent = _tmp149_ + 1;
#line 536 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 537 "valagirwriter.vala"
		_tmp150_ = vala_class_get_base_class (cl);
#line 537 "valagirwriter.vala"
		_tmp151_ = _tmp150_;
#line 537 "valagirwriter.vala"
		if (_tmp151_ == NULL) {
#line 3722 "valagirwriter.vala.c"
			GString* _tmp152_;
			ValaTypeSymbol* _tmp153_;
			gchar* _tmp154_;
			gchar* _tmp155_;
#line 539 "valagirwriter.vala"
			_tmp152_ = self->priv->buffer;
#line 539 "valagirwriter.vala"
			_tmp153_ = self->priv->gtype_type;
#line 539 "valagirwriter.vala"
			_tmp154_ = vala_get_ccode_name ((ValaCodeNode*) _tmp153_);
#line 539 "valagirwriter.vala"
			_tmp155_ = _tmp154_;
#line 539 "valagirwriter.vala"
			g_string_append_printf (_tmp152_, "<type name=\"%sClass\" c:type=\"%sClass\"/>\n", "GObject.Type", _tmp155_);
#line 539 "valagirwriter.vala"
			_g_free0 (_tmp155_);
#line 3739 "valagirwriter.vala.c"
		} else {
			GString* _tmp156_;
			ValaClass* _tmp157_;
			ValaClass* _tmp158_;
			gchar* _tmp159_;
			gchar* _tmp160_;
			ValaClass* _tmp161_;
			ValaClass* _tmp162_;
			gchar* _tmp163_;
			gchar* _tmp164_;
#line 541 "valagirwriter.vala"
			_tmp156_ = self->priv->buffer;
#line 541 "valagirwriter.vala"
			_tmp157_ = vala_class_get_base_class (cl);
#line 541 "valagirwriter.vala"
			_tmp158_ = _tmp157_;
#line 541 "valagirwriter.vala"
			_tmp159_ = vala_gir_writer_gi_type_name (self, (ValaTypeSymbol*) _tmp158_);
#line 541 "valagirwriter.vala"
			_tmp160_ = _tmp159_;
#line 541 "valagirwriter.vala"
			_tmp161_ = vala_class_get_base_class (cl);
#line 541 "valagirwriter.vala"
			_tmp162_ = _tmp161_;
#line 541 "valagirwriter.vala"
			_tmp163_ = vala_get_ccode_name ((ValaCodeNode*) _tmp162_);
#line 541 "valagirwriter.vala"
			_tmp164_ = _tmp163_;
#line 541 "valagirwriter.vala"
			g_string_append_printf (_tmp156_, "<type name=\"%sClass\" c:type=\"%sClass\"/>\n", _tmp160_, _tmp164_);
#line 541 "valagirwriter.vala"
			_g_free0 (_tmp164_);
#line 541 "valagirwriter.vala"
			_g_free0 (_tmp160_);
#line 3774 "valagirwriter.vala.c"
		}
#line 543 "valagirwriter.vala"
		_tmp165_ = self->priv->indent;
#line 543 "valagirwriter.vala"
		self->priv->indent = _tmp165_ - 1;
#line 544 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 545 "valagirwriter.vala"
		_tmp166_ = self->priv->buffer;
#line 545 "valagirwriter.vala"
		g_string_append_printf (_tmp166_, "</field>\n");
#line 3786 "valagirwriter.vala.c"
		{
			ValaList* _m_list = NULL;
			ValaList* _tmp167_;
			gint _m_size = 0;
			ValaList* _tmp168_;
			gint _tmp169_;
			gint _tmp170_;
			gint _m_index = 0;
#line 547 "valagirwriter.vala"
			_tmp167_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) cl);
#line 547 "valagirwriter.vala"
			_m_list = _tmp167_;
#line 547 "valagirwriter.vala"
			_tmp168_ = _m_list;
#line 547 "valagirwriter.vala"
			_tmp169_ = vala_collection_get_size ((ValaCollection*) _tmp168_);
#line 547 "valagirwriter.vala"
			_tmp170_ = _tmp169_;
#line 547 "valagirwriter.vala"
			_m_size = _tmp170_;
#line 547 "valagirwriter.vala"
			_m_index = -1;
#line 547 "valagirwriter.vala"
			while (TRUE) {
#line 3811 "valagirwriter.vala.c"
				gint _tmp171_;
				gint _tmp172_;
				ValaMethod* m = NULL;
				ValaList* _tmp173_;
				gpointer _tmp174_;
				gboolean _tmp175_ = FALSE;
				ValaMethod* _tmp176_;
				gboolean _tmp177_;
				gboolean _tmp178_;
#line 547 "valagirwriter.vala"
				_m_index = _m_index + 1;
#line 547 "valagirwriter.vala"
				_tmp171_ = _m_index;
#line 547 "valagirwriter.vala"
				_tmp172_ = _m_size;
#line 547 "valagirwriter.vala"
				if (!(_tmp171_ < _tmp172_)) {
#line 547 "valagirwriter.vala"
					break;
#line 3831 "valagirwriter.vala.c"
				}
#line 547 "valagirwriter.vala"
				_tmp173_ = _m_list;
#line 547 "valagirwriter.vala"
				_tmp174_ = vala_list_get (_tmp173_, _m_index);
#line 547 "valagirwriter.vala"
				m = (ValaMethod*) _tmp174_;
#line 548 "valagirwriter.vala"
				_tmp176_ = m;
#line 548 "valagirwriter.vala"
				_tmp177_ = vala_method_get_is_abstract (_tmp176_);
#line 548 "valagirwriter.vala"
				_tmp178_ = _tmp177_;
#line 548 "valagirwriter.vala"
				if (_tmp178_) {
#line 548 "valagirwriter.vala"
					_tmp175_ = TRUE;
#line 3849 "valagirwriter.vala.c"
				} else {
					ValaMethod* _tmp179_;
					gboolean _tmp180_;
					gboolean _tmp181_;
#line 548 "valagirwriter.vala"
					_tmp179_ = m;
#line 548 "valagirwriter.vala"
					_tmp180_ = vala_method_get_is_virtual (_tmp179_);
#line 548 "valagirwriter.vala"
					_tmp181_ = _tmp180_;
#line 548 "valagirwriter.vala"
					_tmp175_ = _tmp181_;
#line 3862 "valagirwriter.vala.c"
				}
#line 548 "valagirwriter.vala"
				if (_tmp175_) {
#line 3866 "valagirwriter.vala.c"
					ValaMethod* _tmp182_;
					gboolean _tmp183_;
					gboolean _tmp184_;
#line 549 "valagirwriter.vala"
					_tmp182_ = m;
#line 549 "valagirwriter.vala"
					_tmp183_ = vala_method_get_coroutine (_tmp182_);
#line 549 "valagirwriter.vala"
					_tmp184_ = _tmp183_;
#line 549 "valagirwriter.vala"
					if (_tmp184_) {
#line 3878 "valagirwriter.vala.c"
						gchar* finish_name = NULL;
						ValaMethod* _tmp185_;
						const gchar* _tmp186_;
						const gchar* _tmp187_;
						gchar* _tmp188_;
						const gchar* _tmp189_;
						const gchar* _tmp197_;
						gchar* _tmp198_;
						GString* _tmp199_;
						ValaMethod* _tmp200_;
						const gchar* _tmp201_;
						const gchar* _tmp202_;
						ValaMethod* _tmp203_;
						GString* _tmp204_;
						gint _tmp205_;
						ValaMethod* _tmp206_;
						ValaMethod* _tmp207_;
						const gchar* _tmp208_;
						const gchar* _tmp209_;
						ValaMethod* _tmp210_;
						gchar* _tmp211_;
						gchar* _tmp212_;
						ValaMethod* _tmp213_;
						ValaList* _tmp214_;
						ValaVoidType* _tmp215_;
						ValaVoidType* _tmp216_;
						gint _tmp217_;
						GString* _tmp218_;
						GString* _tmp219_;
						const gchar* _tmp220_;
						ValaMethod* _tmp221_;
						GString* _tmp222_;
						gint _tmp223_;
						ValaMethod* _tmp224_;
						const gchar* _tmp225_;
						ValaMethod* _tmp226_;
						gchar* _tmp227_;
						gchar* _tmp228_;
						ValaMethod* _tmp229_;
						ValaList* _tmp230_;
						ValaMethod* _tmp231_;
						ValaDataType* _tmp232_;
						ValaDataType* _tmp233_;
						ValaMethod* _tmp234_;
						gboolean _tmp235_;
						gboolean _tmp236_;
						gint _tmp237_;
						GString* _tmp238_;
#line 550 "valagirwriter.vala"
						_tmp185_ = m;
#line 550 "valagirwriter.vala"
						_tmp186_ = vala_symbol_get_name ((ValaSymbol*) _tmp185_);
#line 550 "valagirwriter.vala"
						_tmp187_ = _tmp186_;
#line 550 "valagirwriter.vala"
						_tmp188_ = g_strdup (_tmp187_);
#line 550 "valagirwriter.vala"
						finish_name = _tmp188_;
#line 551 "valagirwriter.vala"
						_tmp189_ = finish_name;
#line 551 "valagirwriter.vala"
						if (g_str_has_suffix (_tmp189_, "_async")) {
#line 3941 "valagirwriter.vala.c"
							const gchar* _tmp190_;
							const gchar* _tmp191_;
							gint _tmp192_;
							gint _tmp193_;
							gint _tmp194_;
							gint _tmp195_;
							gchar* _tmp196_;
#line 552 "valagirwriter.vala"
							_tmp190_ = finish_name;
#line 552 "valagirwriter.vala"
							_tmp191_ = finish_name;
#line 552 "valagirwriter.vala"
							_tmp192_ = strlen (_tmp191_);
#line 552 "valagirwriter.vala"
							_tmp193_ = _tmp192_;
#line 552 "valagirwriter.vala"
							_tmp194_ = strlen ("_async");
#line 552 "valagirwriter.vala"
							_tmp195_ = _tmp194_;
#line 552 "valagirwriter.vala"
							_tmp196_ = string_substring (_tmp190_, (glong) 0, (glong) (_tmp193_ - _tmp195_));
#line 552 "valagirwriter.vala"
							_g_free0 (finish_name);
#line 552 "valagirwriter.vala"
							finish_name = _tmp196_;
#line 3967 "valagirwriter.vala.c"
						}
#line 554 "valagirwriter.vala"
						_tmp197_ = finish_name;
#line 554 "valagirwriter.vala"
						_tmp198_ = g_strconcat (_tmp197_, "_finish", NULL);
#line 554 "valagirwriter.vala"
						_g_free0 (finish_name);
#line 554 "valagirwriter.vala"
						finish_name = _tmp198_;
#line 556 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 557 "valagirwriter.vala"
						_tmp199_ = self->priv->buffer;
#line 557 "valagirwriter.vala"
						_tmp200_ = m;
#line 557 "valagirwriter.vala"
						_tmp201_ = vala_symbol_get_name ((ValaSymbol*) _tmp200_);
#line 557 "valagirwriter.vala"
						_tmp202_ = _tmp201_;
#line 557 "valagirwriter.vala"
						g_string_append_printf (_tmp199_, "<field name=\"%s\"", _tmp202_);
#line 558 "valagirwriter.vala"
						_tmp203_ = m;
#line 558 "valagirwriter.vala"
						vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp203_);
#line 559 "valagirwriter.vala"
						_tmp204_ = self->priv->buffer;
#line 559 "valagirwriter.vala"
						g_string_append_printf (_tmp204_, ">\n");
#line 560 "valagirwriter.vala"
						_tmp205_ = self->priv->indent;
#line 560 "valagirwriter.vala"
						self->priv->indent = _tmp205_ + 1;
#line 561 "valagirwriter.vala"
						_tmp206_ = m;
#line 561 "valagirwriter.vala"
						_tmp207_ = m;
#line 561 "valagirwriter.vala"
						_tmp208_ = vala_symbol_get_name ((ValaSymbol*) _tmp207_);
#line 561 "valagirwriter.vala"
						_tmp209_ = _tmp208_;
#line 561 "valagirwriter.vala"
						_tmp210_ = m;
#line 561 "valagirwriter.vala"
						_tmp211_ = vala_get_ccode_name ((ValaCodeNode*) _tmp210_);
#line 561 "valagirwriter.vala"
						_tmp212_ = _tmp211_;
#line 561 "valagirwriter.vala"
						_tmp213_ = m;
#line 561 "valagirwriter.vala"
						_tmp214_ = vala_method_get_async_begin_parameters (_tmp213_);
#line 561 "valagirwriter.vala"
						_tmp215_ = vala_void_type_new (NULL);
#line 561 "valagirwriter.vala"
						_tmp216_ = _tmp215_;
#line 561 "valagirwriter.vala"
						vala_gir_writer_do_write_signature (self, _tmp206_, "callback", TRUE, _tmp209_, _tmp212_, _tmp214_, (ValaDataType*) _tmp216_, FALSE, FALSE, FALSE);
#line 561 "valagirwriter.vala"
						_vala_code_node_unref0 (_tmp216_);
#line 561 "valagirwriter.vala"
						_g_free0 (_tmp212_);
#line 562 "valagirwriter.vala"
						_tmp217_ = self->priv->indent;
#line 562 "valagirwriter.vala"
						self->priv->indent = _tmp217_ - 1;
#line 563 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 564 "valagirwriter.vala"
						_tmp218_ = self->priv->buffer;
#line 564 "valagirwriter.vala"
						g_string_append_printf (_tmp218_, "</field>\n");
#line 566 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 567 "valagirwriter.vala"
						_tmp219_ = self->priv->buffer;
#line 567 "valagirwriter.vala"
						_tmp220_ = finish_name;
#line 567 "valagirwriter.vala"
						g_string_append_printf (_tmp219_, "<field name=\"%s\"", _tmp220_);
#line 568 "valagirwriter.vala"
						_tmp221_ = m;
#line 568 "valagirwriter.vala"
						vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp221_);
#line 569 "valagirwriter.vala"
						_tmp222_ = self->priv->buffer;
#line 569 "valagirwriter.vala"
						g_string_append_printf (_tmp222_, ">\n");
#line 570 "valagirwriter.vala"
						_tmp223_ = self->priv->indent;
#line 570 "valagirwriter.vala"
						self->priv->indent = _tmp223_ + 1;
#line 571 "valagirwriter.vala"
						_tmp224_ = m;
#line 571 "valagirwriter.vala"
						_tmp225_ = finish_name;
#line 571 "valagirwriter.vala"
						_tmp226_ = m;
#line 571 "valagirwriter.vala"
						_tmp227_ = vala_get_ccode_finish_name (_tmp226_);
#line 571 "valagirwriter.vala"
						_tmp228_ = _tmp227_;
#line 571 "valagirwriter.vala"
						_tmp229_ = m;
#line 571 "valagirwriter.vala"
						_tmp230_ = vala_method_get_async_end_parameters (_tmp229_);
#line 571 "valagirwriter.vala"
						_tmp231_ = m;
#line 571 "valagirwriter.vala"
						_tmp232_ = vala_callable_get_return_type ((ValaCallable*) _tmp231_);
#line 571 "valagirwriter.vala"
						_tmp233_ = _tmp232_;
#line 571 "valagirwriter.vala"
						_tmp234_ = m;
#line 571 "valagirwriter.vala"
						_tmp235_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp234_);
#line 571 "valagirwriter.vala"
						_tmp236_ = _tmp235_;
#line 571 "valagirwriter.vala"
						vala_gir_writer_do_write_signature (self, _tmp224_, "callback", TRUE, _tmp225_, _tmp228_, _tmp230_, _tmp233_, _tmp236_, FALSE, FALSE);
#line 571 "valagirwriter.vala"
						_g_free0 (_tmp228_);
#line 572 "valagirwriter.vala"
						_tmp237_ = self->priv->indent;
#line 572 "valagirwriter.vala"
						self->priv->indent = _tmp237_ - 1;
#line 573 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 574 "valagirwriter.vala"
						_tmp238_ = self->priv->buffer;
#line 574 "valagirwriter.vala"
						g_string_append_printf (_tmp238_, "</field>\n");
#line 549 "valagirwriter.vala"
						_g_free0 (finish_name);
#line 4101 "valagirwriter.vala.c"
					} else {
						GString* _tmp239_;
						ValaMethod* _tmp240_;
						const gchar* _tmp241_;
						const gchar* _tmp242_;
						ValaMethod* _tmp243_;
						GString* _tmp244_;
						gint _tmp245_;
						ValaMethod* _tmp246_;
						ValaMethod* _tmp247_;
						const gchar* _tmp248_;
						const gchar* _tmp249_;
						ValaMethod* _tmp250_;
						gchar* _tmp251_;
						gchar* _tmp252_;
						ValaMethod* _tmp253_;
						ValaList* _tmp254_;
						ValaMethod* _tmp255_;
						ValaDataType* _tmp256_;
						ValaDataType* _tmp257_;
						ValaMethod* _tmp258_;
						gboolean _tmp259_;
						gboolean _tmp260_;
						gint _tmp261_;
						GString* _tmp262_;
#line 576 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 577 "valagirwriter.vala"
						_tmp239_ = self->priv->buffer;
#line 577 "valagirwriter.vala"
						_tmp240_ = m;
#line 577 "valagirwriter.vala"
						_tmp241_ = vala_symbol_get_name ((ValaSymbol*) _tmp240_);
#line 577 "valagirwriter.vala"
						_tmp242_ = _tmp241_;
#line 577 "valagirwriter.vala"
						g_string_append_printf (_tmp239_, "<field name=\"%s\"", _tmp242_);
#line 578 "valagirwriter.vala"
						_tmp243_ = m;
#line 578 "valagirwriter.vala"
						vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp243_);
#line 579 "valagirwriter.vala"
						_tmp244_ = self->priv->buffer;
#line 579 "valagirwriter.vala"
						g_string_append_printf (_tmp244_, ">\n");
#line 580 "valagirwriter.vala"
						_tmp245_ = self->priv->indent;
#line 580 "valagirwriter.vala"
						self->priv->indent = _tmp245_ + 1;
#line 581 "valagirwriter.vala"
						_tmp246_ = m;
#line 581 "valagirwriter.vala"
						_tmp247_ = m;
#line 581 "valagirwriter.vala"
						_tmp248_ = vala_symbol_get_name ((ValaSymbol*) _tmp247_);
#line 581 "valagirwriter.vala"
						_tmp249_ = _tmp248_;
#line 581 "valagirwriter.vala"
						_tmp250_ = m;
#line 581 "valagirwriter.vala"
						_tmp251_ = vala_get_ccode_name ((ValaCodeNode*) _tmp250_);
#line 581 "valagirwriter.vala"
						_tmp252_ = _tmp251_;
#line 581 "valagirwriter.vala"
						_tmp253_ = m;
#line 581 "valagirwriter.vala"
						_tmp254_ = vala_callable_get_parameters ((ValaCallable*) _tmp253_);
#line 581 "valagirwriter.vala"
						_tmp255_ = m;
#line 581 "valagirwriter.vala"
						_tmp256_ = vala_callable_get_return_type ((ValaCallable*) _tmp255_);
#line 581 "valagirwriter.vala"
						_tmp257_ = _tmp256_;
#line 581 "valagirwriter.vala"
						_tmp258_ = m;
#line 581 "valagirwriter.vala"
						_tmp259_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp258_);
#line 581 "valagirwriter.vala"
						_tmp260_ = _tmp259_;
#line 581 "valagirwriter.vala"
						vala_gir_writer_do_write_signature (self, _tmp246_, "callback", TRUE, _tmp249_, _tmp252_, _tmp254_, _tmp257_, _tmp260_, FALSE, FALSE);
#line 581 "valagirwriter.vala"
						_g_free0 (_tmp252_);
#line 582 "valagirwriter.vala"
						_tmp261_ = self->priv->indent;
#line 582 "valagirwriter.vala"
						self->priv->indent = _tmp261_ - 1;
#line 583 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 584 "valagirwriter.vala"
						_tmp262_ = self->priv->buffer;
#line 584 "valagirwriter.vala"
						g_string_append_printf (_tmp262_, "</field>\n");
#line 4195 "valagirwriter.vala.c"
					}
				}
#line 547 "valagirwriter.vala"
				_vala_code_node_unref0 (m);
#line 4200 "valagirwriter.vala.c"
			}
		}
		{
			ValaList* _sig_list = NULL;
			ValaList* _tmp263_;
			gint _sig_size = 0;
			ValaList* _tmp264_;
			gint _tmp265_;
			gint _tmp266_;
			gint _sig_index = 0;
#line 589 "valagirwriter.vala"
			_tmp263_ = vala_object_type_symbol_get_signals ((ValaObjectTypeSymbol*) cl);
#line 589 "valagirwriter.vala"
			_sig_list = _tmp263_;
#line 589 "valagirwriter.vala"
			_tmp264_ = _sig_list;
#line 589 "valagirwriter.vala"
			_tmp265_ = vala_collection_get_size ((ValaCollection*) _tmp264_);
#line 589 "valagirwriter.vala"
			_tmp266_ = _tmp265_;
#line 589 "valagirwriter.vala"
			_sig_size = _tmp266_;
#line 589 "valagirwriter.vala"
			_sig_index = -1;
#line 589 "valagirwriter.vala"
			while (TRUE) {
#line 4227 "valagirwriter.vala.c"
				gint _tmp267_;
				gint _tmp268_;
				ValaSignal* sig = NULL;
				ValaList* _tmp269_;
				gpointer _tmp270_;
				ValaSignal* _tmp271_;
				ValaMethod* _tmp272_;
				ValaMethod* _tmp273_;
#line 589 "valagirwriter.vala"
				_sig_index = _sig_index + 1;
#line 589 "valagirwriter.vala"
				_tmp267_ = _sig_index;
#line 589 "valagirwriter.vala"
				_tmp268_ = _sig_size;
#line 589 "valagirwriter.vala"
				if (!(_tmp267_ < _tmp268_)) {
#line 589 "valagirwriter.vala"
					break;
#line 4246 "valagirwriter.vala.c"
				}
#line 589 "valagirwriter.vala"
				_tmp269_ = _sig_list;
#line 589 "valagirwriter.vala"
				_tmp270_ = vala_list_get (_tmp269_, _sig_index);
#line 589 "valagirwriter.vala"
				sig = (ValaSignal*) _tmp270_;
#line 590 "valagirwriter.vala"
				_tmp271_ = sig;
#line 590 "valagirwriter.vala"
				_tmp272_ = vala_signal_get_default_handler (_tmp271_);
#line 590 "valagirwriter.vala"
				_tmp273_ = _tmp272_;
#line 590 "valagirwriter.vala"
				if (_tmp273_ != NULL) {
#line 4262 "valagirwriter.vala.c"
					GString* _tmp274_;
					ValaSignal* _tmp275_;
					gchar* _tmp276_;
					gchar* _tmp277_;
					ValaSignal* _tmp278_;
					GString* _tmp279_;
					gint _tmp280_;
					ValaSignal* _tmp281_;
					ValaMethod* _tmp282_;
					ValaMethod* _tmp283_;
					gint _tmp284_;
					GString* _tmp285_;
#line 591 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 592 "valagirwriter.vala"
					_tmp274_ = self->priv->buffer;
#line 592 "valagirwriter.vala"
					_tmp275_ = sig;
#line 592 "valagirwriter.vala"
					_tmp276_ = vala_get_ccode_lower_case_name ((ValaCodeNode*) _tmp275_, NULL);
#line 592 "valagirwriter.vala"
					_tmp277_ = _tmp276_;
#line 592 "valagirwriter.vala"
					g_string_append_printf (_tmp274_, "<field name=\"%s\"", _tmp277_);
#line 592 "valagirwriter.vala"
					_g_free0 (_tmp277_);
#line 593 "valagirwriter.vala"
					_tmp278_ = sig;
#line 593 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp278_);
#line 594 "valagirwriter.vala"
					_tmp279_ = self->priv->buffer;
#line 594 "valagirwriter.vala"
					g_string_append_printf (_tmp279_, ">\n");
#line 595 "valagirwriter.vala"
					_tmp280_ = self->priv->indent;
#line 595 "valagirwriter.vala"
					self->priv->indent = _tmp280_ + 1;
#line 596 "valagirwriter.vala"
					_tmp281_ = sig;
#line 596 "valagirwriter.vala"
					_tmp282_ = vala_signal_get_default_handler (_tmp281_);
#line 596 "valagirwriter.vala"
					_tmp283_ = _tmp282_;
#line 596 "valagirwriter.vala"
					vala_gir_writer_write_signature (self, _tmp283_, "callback", FALSE, TRUE, FALSE);
#line 597 "valagirwriter.vala"
					_tmp284_ = self->priv->indent;
#line 597 "valagirwriter.vala"
					self->priv->indent = _tmp284_ - 1;
#line 598 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 599 "valagirwriter.vala"
					_tmp285_ = self->priv->buffer;
#line 599 "valagirwriter.vala"
					g_string_append_printf (_tmp285_, "</field>\n");
#line 4319 "valagirwriter.vala.c"
				}
#line 589 "valagirwriter.vala"
				_vala_code_node_unref0 (sig);
#line 4323 "valagirwriter.vala.c"
			}
		}
#line 603 "valagirwriter.vala"
		_tmp286_ = self->priv->indent;
#line 603 "valagirwriter.vala"
		self->priv->indent = _tmp286_ - 1;
#line 604 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 605 "valagirwriter.vala"
		_tmp287_ = self->priv->buffer;
#line 605 "valagirwriter.vala"
		g_string_append_printf (_tmp287_, "</record>\n");
#line 607 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 608 "valagirwriter.vala"
		_tmp288_ = self->priv->buffer;
#line 608 "valagirwriter.vala"
		_tmp289_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 608 "valagirwriter.vala"
		_tmp290_ = _tmp289_;
#line 608 "valagirwriter.vala"
		_tmp291_ = vala_get_ccode_name ((ValaCodeNode*) cl);
#line 608 "valagirwriter.vala"
		_tmp292_ = _tmp291_;
#line 608 "valagirwriter.vala"
		g_string_append_printf (_tmp288_, "<record name=\"%sPrivate\" c:type=\"%sPrivate\" disguised=\"1\"/>\n", _tmp290_, _tmp292_);
#line 608 "valagirwriter.vala"
		_g_free0 (_tmp292_);
#line 608 "valagirwriter.vala"
		_g_free0 (_tmp290_);
#line 429 "valagirwriter.vala"
		_g_free0 (gtype_struct_name);
#line 4356 "valagirwriter.vala.c"
	} else {
		GString* _tmp293_;
		gchar* _tmp294_;
		gchar* _tmp295_;
		GString* _tmp296_;
		gint _tmp297_;
		gchar* _tmp298_;
		gchar* _tmp299_;
		ValaArrayList* _tmp300_;
		ValaArrayList* _tmp301_;
		gpointer _tmp302_;
		ValaSymbol* _tmp303_;
		gint _tmp304_;
		GString* _tmp305_;
#line 610 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 611 "valagirwriter.vala"
		_tmp293_ = self->priv->buffer;
#line 611 "valagirwriter.vala"
		_tmp294_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cl);
#line 611 "valagirwriter.vala"
		_tmp295_ = _tmp294_;
#line 611 "valagirwriter.vala"
		g_string_append_printf (_tmp293_, "<record name=\"%s\"", _tmp295_);
#line 611 "valagirwriter.vala"
		_g_free0 (_tmp295_);
#line 612 "valagirwriter.vala"
		vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) cl, "", FALSE);
#line 613 "valagirwriter.vala"
		vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) cl);
#line 614 "valagirwriter.vala"
		_tmp296_ = self->priv->buffer;
#line 614 "valagirwriter.vala"
		g_string_append_printf (_tmp296_, ">\n");
#line 615 "valagirwriter.vala"
		_tmp297_ = self->priv->indent;
#line 615 "valagirwriter.vala"
		self->priv->indent = _tmp297_ + 1;
#line 617 "valagirwriter.vala"
		_tmp298_ = vala_gir_writer_get_class_comment (self, cl);
#line 617 "valagirwriter.vala"
		_tmp299_ = _tmp298_;
#line 617 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp299_);
#line 617 "valagirwriter.vala"
		_g_free0 (_tmp299_);
#line 619 "valagirwriter.vala"
		_tmp300_ = self->priv->hierarchy;
#line 619 "valagirwriter.vala"
		vala_list_insert ((ValaList*) _tmp300_, 0, (ValaSymbol*) cl);
#line 620 "valagirwriter.vala"
		vala_code_node_accept_children ((ValaCodeNode*) cl, (ValaCodeVisitor*) self);
#line 621 "valagirwriter.vala"
		_tmp301_ = self->priv->hierarchy;
#line 621 "valagirwriter.vala"
		_tmp302_ = vala_list_remove_at ((ValaList*) _tmp301_, 0);
#line 621 "valagirwriter.vala"
		_tmp303_ = (ValaSymbol*) _tmp302_;
#line 621 "valagirwriter.vala"
		_vala_code_node_unref0 (_tmp303_);
#line 623 "valagirwriter.vala"
		_tmp304_ = self->priv->indent;
#line 623 "valagirwriter.vala"
		self->priv->indent = _tmp304_ - 1;
#line 624 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 625 "valagirwriter.vala"
		_tmp305_ = self->priv->buffer;
#line 625 "valagirwriter.vala"
		g_string_append_printf (_tmp305_, "</record>\n");
#line 4427 "valagirwriter.vala.c"
	}
#line 628 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 4431 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_struct (ValaCodeVisitor* base,
                                   ValaStruct* st)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	ValaArrayList* _tmp2_;
	gpointer _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean _tmp5_;
	GString* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	GString* _tmp10_;
	gint _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	ValaArrayList* _tmp14_;
	ValaArrayList* _tmp15_;
	gpointer _tmp16_;
	ValaSymbol* _tmp17_;
	gint _tmp18_;
	GString* _tmp19_;
#line 631 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 632 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) st);
#line 632 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 632 "valagirwriter.vala"
	if (_tmp1_) {
#line 633 "valagirwriter.vala"
		return;
#line 4468 "valagirwriter.vala.c"
	}
#line 636 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) st)) {
#line 637 "valagirwriter.vala"
		return;
#line 4474 "valagirwriter.vala.c"
	}
#line 640 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) st)) {
#line 641 "valagirwriter.vala"
		return;
#line 4480 "valagirwriter.vala.c"
	}
#line 644 "valagirwriter.vala"
	_tmp2_ = self->priv->hierarchy;
#line 644 "valagirwriter.vala"
	_tmp3_ = vala_list_get ((ValaList*) _tmp2_, 0);
#line 644 "valagirwriter.vala"
	_tmp4_ = (ValaSymbol*) _tmp3_;
#line 644 "valagirwriter.vala"
	_tmp5_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_NAMESPACE);
#line 644 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp4_);
#line 644 "valagirwriter.vala"
	if (_tmp5_) {
#line 4494 "valagirwriter.vala.c"
		ValaArrayList* _tmp6_;
#line 645 "valagirwriter.vala"
		_tmp6_ = self->priv->deferred;
#line 645 "valagirwriter.vala"
		vala_collection_add ((ValaCollection*) _tmp6_, (ValaCodeNode*) st);
#line 646 "valagirwriter.vala"
		return;
#line 4502 "valagirwriter.vala.c"
	}
#line 649 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 650 "valagirwriter.vala"
	_tmp7_ = self->priv->buffer;
#line 650 "valagirwriter.vala"
	_tmp8_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) st);
#line 650 "valagirwriter.vala"
	_tmp9_ = _tmp8_;
#line 650 "valagirwriter.vala"
	g_string_append_printf (_tmp7_, "<record name=\"%s\"", _tmp9_);
#line 650 "valagirwriter.vala"
	_g_free0 (_tmp9_);
#line 651 "valagirwriter.vala"
	if (vala_get_ccode_has_type_id ((ValaTypeSymbol*) st)) {
#line 652 "valagirwriter.vala"
		vala_gir_writer_write_gtype_attributes (self, (ValaTypeSymbol*) st, TRUE);
#line 4520 "valagirwriter.vala.c"
	} else {
#line 654 "valagirwriter.vala"
		vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) st, "", TRUE);
#line 4524 "valagirwriter.vala.c"
	}
#line 656 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) st);
#line 657 "valagirwriter.vala"
	_tmp10_ = self->priv->buffer;
#line 657 "valagirwriter.vala"
	g_string_append_printf (_tmp10_, ">\n");
#line 658 "valagirwriter.vala"
	_tmp11_ = self->priv->indent;
#line 658 "valagirwriter.vala"
	self->priv->indent = _tmp11_ + 1;
#line 660 "valagirwriter.vala"
	_tmp12_ = vala_gir_writer_get_struct_comment (self, st);
#line 660 "valagirwriter.vala"
	_tmp13_ = _tmp12_;
#line 660 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp13_);
#line 660 "valagirwriter.vala"
	_g_free0 (_tmp13_);
#line 662 "valagirwriter.vala"
	_tmp14_ = self->priv->hierarchy;
#line 662 "valagirwriter.vala"
	vala_list_insert ((ValaList*) _tmp14_, 0, (ValaSymbol*) st);
#line 663 "valagirwriter.vala"
	vala_code_node_accept_children ((ValaCodeNode*) st, (ValaCodeVisitor*) self);
#line 664 "valagirwriter.vala"
	_tmp15_ = self->priv->hierarchy;
#line 664 "valagirwriter.vala"
	_tmp16_ = vala_list_remove_at ((ValaList*) _tmp15_, 0);
#line 664 "valagirwriter.vala"
	_tmp17_ = (ValaSymbol*) _tmp16_;
#line 664 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp17_);
#line 666 "valagirwriter.vala"
	_tmp18_ = self->priv->indent;
#line 666 "valagirwriter.vala"
	self->priv->indent = _tmp18_ - 1;
#line 667 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 668 "valagirwriter.vala"
	_tmp19_ = self->priv->buffer;
#line 668 "valagirwriter.vala"
	g_string_append_printf (_tmp19_, "</record>\n");
#line 670 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 4570 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_interface (ValaCodeVisitor* base,
                                      ValaInterface* iface)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	ValaArrayList* _tmp2_;
	gpointer _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean _tmp5_;
	gchar* gtype_struct_name = NULL;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	GString* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	GString* _tmp14_;
	const gchar* _tmp15_;
	GString* _tmp16_;
	gint _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	ValaList* _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	ValaArrayList* _tmp37_;
	ValaArrayList* _tmp38_;
	gpointer _tmp39_;
	ValaSymbol* _tmp40_;
	gint _tmp41_;
	GString* _tmp42_;
	GString* _tmp43_;
	const gchar* _tmp44_;
	GString* _tmp45_;
	gchar* _tmp46_;
	gchar* _tmp47_;
	GString* _tmp48_;
	gint _tmp49_;
	GString* _tmp50_;
	gint _tmp51_;
	GString* _tmp52_;
	ValaTypeSymbol* _tmp53_;
	gchar* _tmp54_;
	gchar* _tmp55_;
	ValaTypeSymbol* _tmp56_;
	gchar* _tmp57_;
	gchar* _tmp58_;
	gint _tmp59_;
	GString* _tmp60_;
	gint _tmp240_;
	GString* _tmp241_;
#line 673 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 674 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) iface);
#line 674 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 674 "valagirwriter.vala"
	if (_tmp1_) {
#line 675 "valagirwriter.vala"
		return;
#line 4637 "valagirwriter.vala.c"
	}
#line 678 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) iface)) {
#line 679 "valagirwriter.vala"
		return;
#line 4643 "valagirwriter.vala.c"
	}
#line 682 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) iface)) {
#line 683 "valagirwriter.vala"
		return;
#line 4649 "valagirwriter.vala.c"
	}
#line 686 "valagirwriter.vala"
	_tmp2_ = self->priv->hierarchy;
#line 686 "valagirwriter.vala"
	_tmp3_ = vala_list_get ((ValaList*) _tmp2_, 0);
#line 686 "valagirwriter.vala"
	_tmp4_ = (ValaSymbol*) _tmp3_;
#line 686 "valagirwriter.vala"
	_tmp5_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_NAMESPACE);
#line 686 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp4_);
#line 686 "valagirwriter.vala"
	if (_tmp5_) {
#line 4663 "valagirwriter.vala.c"
		ValaArrayList* _tmp6_;
#line 687 "valagirwriter.vala"
		_tmp6_ = self->priv->deferred;
#line 687 "valagirwriter.vala"
		vala_collection_add ((ValaCollection*) _tmp6_, (ValaCodeNode*) iface);
#line 688 "valagirwriter.vala"
		return;
#line 4671 "valagirwriter.vala.c"
	}
#line 691 "valagirwriter.vala"
	_tmp7_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) iface);
#line 691 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 691 "valagirwriter.vala"
	_tmp9_ = g_strconcat (_tmp8_, "Iface", NULL);
#line 691 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 691 "valagirwriter.vala"
	_g_free0 (_tmp8_);
#line 691 "valagirwriter.vala"
	gtype_struct_name = _tmp10_;
#line 693 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 694 "valagirwriter.vala"
	_tmp11_ = self->priv->buffer;
#line 694 "valagirwriter.vala"
	_tmp12_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) iface);
#line 694 "valagirwriter.vala"
	_tmp13_ = _tmp12_;
#line 694 "valagirwriter.vala"
	g_string_append_printf (_tmp11_, "<interface name=\"%s\"", _tmp13_);
#line 694 "valagirwriter.vala"
	_g_free0 (_tmp13_);
#line 695 "valagirwriter.vala"
	vala_gir_writer_write_gtype_attributes (self, (ValaTypeSymbol*) iface, TRUE);
#line 696 "valagirwriter.vala"
	_tmp14_ = self->priv->buffer;
#line 696 "valagirwriter.vala"
	_tmp15_ = gtype_struct_name;
#line 696 "valagirwriter.vala"
	g_string_append_printf (_tmp14_, " glib:type-struct=\"%s\"", _tmp15_);
#line 697 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) iface);
#line 698 "valagirwriter.vala"
	_tmp16_ = self->priv->buffer;
#line 698 "valagirwriter.vala"
	g_string_append_printf (_tmp16_, ">\n");
#line 699 "valagirwriter.vala"
	_tmp17_ = self->priv->indent;
#line 699 "valagirwriter.vala"
	self->priv->indent = _tmp17_ + 1;
#line 701 "valagirwriter.vala"
	_tmp18_ = vala_gir_writer_get_interface_comment (self, iface);
#line 701 "valagirwriter.vala"
	_tmp19_ = _tmp18_;
#line 701 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp19_);
#line 701 "valagirwriter.vala"
	_g_free0 (_tmp19_);
#line 704 "valagirwriter.vala"
	_tmp20_ = vala_interface_get_prerequisites (iface);
#line 704 "valagirwriter.vala"
	_tmp21_ = vala_collection_get_size ((ValaCollection*) _tmp20_);
#line 704 "valagirwriter.vala"
	_tmp22_ = _tmp21_;
#line 704 "valagirwriter.vala"
	if (_tmp22_ > 0) {
#line 4731 "valagirwriter.vala.c"
		{
			ValaList* _base_type_list = NULL;
			ValaList* _tmp23_;
			gint _base_type_size = 0;
			ValaList* _tmp24_;
			gint _tmp25_;
			gint _tmp26_;
			gint _base_type_index = 0;
#line 705 "valagirwriter.vala"
			_tmp23_ = vala_interface_get_prerequisites (iface);
#line 705 "valagirwriter.vala"
			_base_type_list = _tmp23_;
#line 705 "valagirwriter.vala"
			_tmp24_ = _base_type_list;
#line 705 "valagirwriter.vala"
			_tmp25_ = vala_collection_get_size ((ValaCollection*) _tmp24_);
#line 705 "valagirwriter.vala"
			_tmp26_ = _tmp25_;
#line 705 "valagirwriter.vala"
			_base_type_size = _tmp26_;
#line 705 "valagirwriter.vala"
			_base_type_index = -1;
#line 705 "valagirwriter.vala"
			while (TRUE) {
#line 4756 "valagirwriter.vala.c"
				gint _tmp27_;
				gint _tmp28_;
				ValaDataType* base_type = NULL;
				ValaList* _tmp29_;
				gpointer _tmp30_;
				GString* _tmp31_;
				ValaDataType* _tmp32_;
				ValaTypeSymbol* _tmp33_;
				ValaTypeSymbol* _tmp34_;
				gchar* _tmp35_;
				gchar* _tmp36_;
#line 705 "valagirwriter.vala"
				_base_type_index = _base_type_index + 1;
#line 705 "valagirwriter.vala"
				_tmp27_ = _base_type_index;
#line 705 "valagirwriter.vala"
				_tmp28_ = _base_type_size;
#line 705 "valagirwriter.vala"
				if (!(_tmp27_ < _tmp28_)) {
#line 705 "valagirwriter.vala"
					break;
#line 4778 "valagirwriter.vala.c"
				}
#line 705 "valagirwriter.vala"
				_tmp29_ = _base_type_list;
#line 705 "valagirwriter.vala"
				_tmp30_ = vala_list_get (_tmp29_, _base_type_index);
#line 705 "valagirwriter.vala"
				base_type = (ValaDataType*) _tmp30_;
#line 706 "valagirwriter.vala"
				vala_gir_writer_write_indent (self);
#line 707 "valagirwriter.vala"
				_tmp31_ = self->priv->buffer;
#line 707 "valagirwriter.vala"
				_tmp32_ = base_type;
#line 707 "valagirwriter.vala"
				_tmp33_ = vala_data_type_get_type_symbol ((ValaDataType*) G_TYPE_CHECK_INSTANCE_CAST (_tmp32_, VALA_TYPE_OBJECT_TYPE, ValaObjectType));
#line 707 "valagirwriter.vala"
				_tmp34_ = _tmp33_;
#line 707 "valagirwriter.vala"
				_tmp35_ = vala_gir_writer_gi_type_name (self, _tmp34_);
#line 707 "valagirwriter.vala"
				_tmp36_ = _tmp35_;
#line 707 "valagirwriter.vala"
				g_string_append_printf (_tmp31_, "<prerequisite name=\"%s\"/>\n", _tmp36_);
#line 707 "valagirwriter.vala"
				_g_free0 (_tmp36_);
#line 705 "valagirwriter.vala"
				_vala_code_node_unref0 (base_type);
#line 4806 "valagirwriter.vala.c"
			}
		}
	}
#line 711 "valagirwriter.vala"
	_tmp37_ = self->priv->hierarchy;
#line 711 "valagirwriter.vala"
	vala_list_insert ((ValaList*) _tmp37_, 0, (ValaSymbol*) iface);
#line 712 "valagirwriter.vala"
	vala_code_node_accept_children ((ValaCodeNode*) iface, (ValaCodeVisitor*) self);
#line 713 "valagirwriter.vala"
	_tmp38_ = self->priv->hierarchy;
#line 713 "valagirwriter.vala"
	_tmp39_ = vala_list_remove_at ((ValaList*) _tmp38_, 0);
#line 713 "valagirwriter.vala"
	_tmp40_ = (ValaSymbol*) _tmp39_;
#line 713 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp40_);
#line 715 "valagirwriter.vala"
	_tmp41_ = self->priv->indent;
#line 715 "valagirwriter.vala"
	self->priv->indent = _tmp41_ - 1;
#line 716 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 717 "valagirwriter.vala"
	_tmp42_ = self->priv->buffer;
#line 717 "valagirwriter.vala"
	g_string_append_printf (_tmp42_, "</interface>\n");
#line 719 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 720 "valagirwriter.vala"
	_tmp43_ = self->priv->buffer;
#line 720 "valagirwriter.vala"
	_tmp44_ = gtype_struct_name;
#line 720 "valagirwriter.vala"
	g_string_append_printf (_tmp43_, "<record name=\"%s\"", _tmp44_);
#line 721 "valagirwriter.vala"
	vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) iface, "Iface", FALSE);
#line 722 "valagirwriter.vala"
	_tmp45_ = self->priv->buffer;
#line 722 "valagirwriter.vala"
	_tmp46_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) iface);
#line 722 "valagirwriter.vala"
	_tmp47_ = _tmp46_;
#line 722 "valagirwriter.vala"
	g_string_append_printf (_tmp45_, " glib:is-gtype-struct-for=\"%s\"", _tmp47_);
#line 722 "valagirwriter.vala"
	_g_free0 (_tmp47_);
#line 723 "valagirwriter.vala"
	_tmp48_ = self->priv->buffer;
#line 723 "valagirwriter.vala"
	g_string_append_printf (_tmp48_, ">\n");
#line 724 "valagirwriter.vala"
	_tmp49_ = self->priv->indent;
#line 724 "valagirwriter.vala"
	self->priv->indent = _tmp49_ + 1;
#line 726 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 727 "valagirwriter.vala"
	_tmp50_ = self->priv->buffer;
#line 727 "valagirwriter.vala"
	g_string_append_printf (_tmp50_, "<field name=\"parent_iface\" readable=\"0\" private=\"1\">\n");
#line 728 "valagirwriter.vala"
	_tmp51_ = self->priv->indent;
#line 728 "valagirwriter.vala"
	self->priv->indent = _tmp51_ + 1;
#line 729 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 730 "valagirwriter.vala"
	_tmp52_ = self->priv->buffer;
#line 730 "valagirwriter.vala"
	_tmp53_ = self->priv->gtypeinterface_type;
#line 730 "valagirwriter.vala"
	_tmp54_ = vala_gir_writer_gi_type_name (self, _tmp53_);
#line 730 "valagirwriter.vala"
	_tmp55_ = _tmp54_;
#line 730 "valagirwriter.vala"
	_tmp56_ = self->priv->gtypeinterface_type;
#line 730 "valagirwriter.vala"
	_tmp57_ = vala_get_ccode_name ((ValaCodeNode*) _tmp56_);
#line 730 "valagirwriter.vala"
	_tmp58_ = _tmp57_;
#line 730 "valagirwriter.vala"
	g_string_append_printf (_tmp52_, "<type name=\"%s\" c:type=\"%s\"/>\n", _tmp55_, _tmp58_);
#line 730 "valagirwriter.vala"
	_g_free0 (_tmp58_);
#line 730 "valagirwriter.vala"
	_g_free0 (_tmp55_);
#line 731 "valagirwriter.vala"
	_tmp59_ = self->priv->indent;
#line 731 "valagirwriter.vala"
	self->priv->indent = _tmp59_ - 1;
#line 732 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 733 "valagirwriter.vala"
	_tmp60_ = self->priv->buffer;
#line 733 "valagirwriter.vala"
	g_string_append_printf (_tmp60_, "</field>\n");
#line 4904 "valagirwriter.vala.c"
	{
		ValaList* _m_list = NULL;
		ValaList* _tmp61_;
		gint _m_size = 0;
		ValaList* _tmp62_;
		gint _tmp63_;
		gint _tmp64_;
		gint _m_index = 0;
#line 735 "valagirwriter.vala"
		_tmp61_ = vala_object_type_symbol_get_methods ((ValaObjectTypeSymbol*) iface);
#line 735 "valagirwriter.vala"
		_m_list = _tmp61_;
#line 735 "valagirwriter.vala"
		_tmp62_ = _m_list;
#line 735 "valagirwriter.vala"
		_tmp63_ = vala_collection_get_size ((ValaCollection*) _tmp62_);
#line 735 "valagirwriter.vala"
		_tmp64_ = _tmp63_;
#line 735 "valagirwriter.vala"
		_m_size = _tmp64_;
#line 735 "valagirwriter.vala"
		_m_index = -1;
#line 735 "valagirwriter.vala"
		while (TRUE) {
#line 4929 "valagirwriter.vala.c"
			gint _tmp65_;
			gint _tmp66_;
			ValaMethod* m = NULL;
			ValaList* _tmp67_;
			gpointer _tmp68_;
			gboolean _tmp69_ = FALSE;
			ValaMethod* _tmp70_;
			gboolean _tmp71_;
			gboolean _tmp72_;
#line 735 "valagirwriter.vala"
			_m_index = _m_index + 1;
#line 735 "valagirwriter.vala"
			_tmp65_ = _m_index;
#line 735 "valagirwriter.vala"
			_tmp66_ = _m_size;
#line 735 "valagirwriter.vala"
			if (!(_tmp65_ < _tmp66_)) {
#line 735 "valagirwriter.vala"
				break;
#line 4949 "valagirwriter.vala.c"
			}
#line 735 "valagirwriter.vala"
			_tmp67_ = _m_list;
#line 735 "valagirwriter.vala"
			_tmp68_ = vala_list_get (_tmp67_, _m_index);
#line 735 "valagirwriter.vala"
			m = (ValaMethod*) _tmp68_;
#line 736 "valagirwriter.vala"
			_tmp70_ = m;
#line 736 "valagirwriter.vala"
			_tmp71_ = vala_method_get_is_abstract (_tmp70_);
#line 736 "valagirwriter.vala"
			_tmp72_ = _tmp71_;
#line 736 "valagirwriter.vala"
			if (_tmp72_) {
#line 736 "valagirwriter.vala"
				_tmp69_ = TRUE;
#line 4967 "valagirwriter.vala.c"
			} else {
				ValaMethod* _tmp73_;
				gboolean _tmp74_;
				gboolean _tmp75_;
#line 736 "valagirwriter.vala"
				_tmp73_ = m;
#line 736 "valagirwriter.vala"
				_tmp74_ = vala_method_get_is_virtual (_tmp73_);
#line 736 "valagirwriter.vala"
				_tmp75_ = _tmp74_;
#line 736 "valagirwriter.vala"
				_tmp69_ = _tmp75_;
#line 4980 "valagirwriter.vala.c"
			}
#line 736 "valagirwriter.vala"
			if (_tmp69_) {
#line 4984 "valagirwriter.vala.c"
				ValaMethod* _tmp76_;
				gboolean _tmp77_;
				gboolean _tmp78_;
#line 737 "valagirwriter.vala"
				_tmp76_ = m;
#line 737 "valagirwriter.vala"
				_tmp77_ = vala_method_get_coroutine (_tmp76_);
#line 737 "valagirwriter.vala"
				_tmp78_ = _tmp77_;
#line 737 "valagirwriter.vala"
				if (_tmp78_) {
#line 4996 "valagirwriter.vala.c"
					gchar* finish_name = NULL;
					ValaMethod* _tmp79_;
					const gchar* _tmp80_;
					const gchar* _tmp81_;
					gchar* _tmp82_;
					const gchar* _tmp83_;
					const gchar* _tmp91_;
					gchar* _tmp92_;
					GString* _tmp93_;
					ValaMethod* _tmp94_;
					const gchar* _tmp95_;
					const gchar* _tmp96_;
					ValaMethod* _tmp97_;
					GString* _tmp98_;
					gint _tmp99_;
					ValaMethod* _tmp100_;
					ValaMethod* _tmp101_;
					const gchar* _tmp102_;
					const gchar* _tmp103_;
					ValaMethod* _tmp104_;
					gchar* _tmp105_;
					gchar* _tmp106_;
					ValaMethod* _tmp107_;
					ValaList* _tmp108_;
					ValaVoidType* _tmp109_;
					ValaVoidType* _tmp110_;
					gint _tmp111_;
					GString* _tmp112_;
					GString* _tmp113_;
					const gchar* _tmp114_;
					ValaMethod* _tmp115_;
					GString* _tmp116_;
					gint _tmp117_;
					ValaMethod* _tmp118_;
					const gchar* _tmp119_;
					ValaMethod* _tmp120_;
					gchar* _tmp121_;
					gchar* _tmp122_;
					ValaMethod* _tmp123_;
					ValaList* _tmp124_;
					ValaMethod* _tmp125_;
					ValaDataType* _tmp126_;
					ValaDataType* _tmp127_;
					ValaMethod* _tmp128_;
					gboolean _tmp129_;
					gboolean _tmp130_;
					gint _tmp131_;
					GString* _tmp132_;
#line 738 "valagirwriter.vala"
					_tmp79_ = m;
#line 738 "valagirwriter.vala"
					_tmp80_ = vala_symbol_get_name ((ValaSymbol*) _tmp79_);
#line 738 "valagirwriter.vala"
					_tmp81_ = _tmp80_;
#line 738 "valagirwriter.vala"
					_tmp82_ = g_strdup (_tmp81_);
#line 738 "valagirwriter.vala"
					finish_name = _tmp82_;
#line 739 "valagirwriter.vala"
					_tmp83_ = finish_name;
#line 739 "valagirwriter.vala"
					if (g_str_has_suffix (_tmp83_, "_async")) {
#line 5059 "valagirwriter.vala.c"
						const gchar* _tmp84_;
						const gchar* _tmp85_;
						gint _tmp86_;
						gint _tmp87_;
						gint _tmp88_;
						gint _tmp89_;
						gchar* _tmp90_;
#line 740 "valagirwriter.vala"
						_tmp84_ = finish_name;
#line 740 "valagirwriter.vala"
						_tmp85_ = finish_name;
#line 740 "valagirwriter.vala"
						_tmp86_ = strlen (_tmp85_);
#line 740 "valagirwriter.vala"
						_tmp87_ = _tmp86_;
#line 740 "valagirwriter.vala"
						_tmp88_ = strlen ("_async");
#line 740 "valagirwriter.vala"
						_tmp89_ = _tmp88_;
#line 740 "valagirwriter.vala"
						_tmp90_ = string_substring (_tmp84_, (glong) 0, (glong) (_tmp87_ - _tmp89_));
#line 740 "valagirwriter.vala"
						_g_free0 (finish_name);
#line 740 "valagirwriter.vala"
						finish_name = _tmp90_;
#line 5085 "valagirwriter.vala.c"
					}
#line 742 "valagirwriter.vala"
					_tmp91_ = finish_name;
#line 742 "valagirwriter.vala"
					_tmp92_ = g_strconcat (_tmp91_, "_finish", NULL);
#line 742 "valagirwriter.vala"
					_g_free0 (finish_name);
#line 742 "valagirwriter.vala"
					finish_name = _tmp92_;
#line 744 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 745 "valagirwriter.vala"
					_tmp93_ = self->priv->buffer;
#line 745 "valagirwriter.vala"
					_tmp94_ = m;
#line 745 "valagirwriter.vala"
					_tmp95_ = vala_symbol_get_name ((ValaSymbol*) _tmp94_);
#line 745 "valagirwriter.vala"
					_tmp96_ = _tmp95_;
#line 745 "valagirwriter.vala"
					g_string_append_printf (_tmp93_, "<field name=\"%s\"", _tmp96_);
#line 746 "valagirwriter.vala"
					_tmp97_ = m;
#line 746 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp97_);
#line 747 "valagirwriter.vala"
					_tmp98_ = self->priv->buffer;
#line 747 "valagirwriter.vala"
					g_string_append_printf (_tmp98_, ">\n");
#line 748 "valagirwriter.vala"
					_tmp99_ = self->priv->indent;
#line 748 "valagirwriter.vala"
					self->priv->indent = _tmp99_ + 1;
#line 749 "valagirwriter.vala"
					_tmp100_ = m;
#line 749 "valagirwriter.vala"
					_tmp101_ = m;
#line 749 "valagirwriter.vala"
					_tmp102_ = vala_symbol_get_name ((ValaSymbol*) _tmp101_);
#line 749 "valagirwriter.vala"
					_tmp103_ = _tmp102_;
#line 749 "valagirwriter.vala"
					_tmp104_ = m;
#line 749 "valagirwriter.vala"
					_tmp105_ = vala_get_ccode_name ((ValaCodeNode*) _tmp104_);
#line 749 "valagirwriter.vala"
					_tmp106_ = _tmp105_;
#line 749 "valagirwriter.vala"
					_tmp107_ = m;
#line 749 "valagirwriter.vala"
					_tmp108_ = vala_method_get_async_begin_parameters (_tmp107_);
#line 749 "valagirwriter.vala"
					_tmp109_ = vala_void_type_new (NULL);
#line 749 "valagirwriter.vala"
					_tmp110_ = _tmp109_;
#line 749 "valagirwriter.vala"
					vala_gir_writer_do_write_signature (self, _tmp100_, "callback", TRUE, _tmp103_, _tmp106_, _tmp108_, (ValaDataType*) _tmp110_, FALSE, FALSE, FALSE);
#line 749 "valagirwriter.vala"
					_vala_code_node_unref0 (_tmp110_);
#line 749 "valagirwriter.vala"
					_g_free0 (_tmp106_);
#line 750 "valagirwriter.vala"
					_tmp111_ = self->priv->indent;
#line 750 "valagirwriter.vala"
					self->priv->indent = _tmp111_ - 1;
#line 751 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 752 "valagirwriter.vala"
					_tmp112_ = self->priv->buffer;
#line 752 "valagirwriter.vala"
					g_string_append_printf (_tmp112_, "</field>\n");
#line 754 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 755 "valagirwriter.vala"
					_tmp113_ = self->priv->buffer;
#line 755 "valagirwriter.vala"
					_tmp114_ = finish_name;
#line 755 "valagirwriter.vala"
					g_string_append_printf (_tmp113_, "<field name=\"%s\"", _tmp114_);
#line 756 "valagirwriter.vala"
					_tmp115_ = m;
#line 756 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp115_);
#line 757 "valagirwriter.vala"
					_tmp116_ = self->priv->buffer;
#line 757 "valagirwriter.vala"
					g_string_append_printf (_tmp116_, ">\n");
#line 758 "valagirwriter.vala"
					_tmp117_ = self->priv->indent;
#line 758 "valagirwriter.vala"
					self->priv->indent = _tmp117_ + 1;
#line 759 "valagirwriter.vala"
					_tmp118_ = m;
#line 759 "valagirwriter.vala"
					_tmp119_ = finish_name;
#line 759 "valagirwriter.vala"
					_tmp120_ = m;
#line 759 "valagirwriter.vala"
					_tmp121_ = vala_get_ccode_finish_name (_tmp120_);
#line 759 "valagirwriter.vala"
					_tmp122_ = _tmp121_;
#line 759 "valagirwriter.vala"
					_tmp123_ = m;
#line 759 "valagirwriter.vala"
					_tmp124_ = vala_method_get_async_end_parameters (_tmp123_);
#line 759 "valagirwriter.vala"
					_tmp125_ = m;
#line 759 "valagirwriter.vala"
					_tmp126_ = vala_callable_get_return_type ((ValaCallable*) _tmp125_);
#line 759 "valagirwriter.vala"
					_tmp127_ = _tmp126_;
#line 759 "valagirwriter.vala"
					_tmp128_ = m;
#line 759 "valagirwriter.vala"
					_tmp129_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp128_);
#line 759 "valagirwriter.vala"
					_tmp130_ = _tmp129_;
#line 759 "valagirwriter.vala"
					vala_gir_writer_do_write_signature (self, _tmp118_, "callback", TRUE, _tmp119_, _tmp122_, _tmp124_, _tmp127_, _tmp130_, FALSE, FALSE);
#line 759 "valagirwriter.vala"
					_g_free0 (_tmp122_);
#line 760 "valagirwriter.vala"
					_tmp131_ = self->priv->indent;
#line 760 "valagirwriter.vala"
					self->priv->indent = _tmp131_ - 1;
#line 761 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 762 "valagirwriter.vala"
					_tmp132_ = self->priv->buffer;
#line 762 "valagirwriter.vala"
					g_string_append_printf (_tmp132_, "</field>\n");
#line 737 "valagirwriter.vala"
					_g_free0 (finish_name);
#line 5219 "valagirwriter.vala.c"
				} else {
					GString* _tmp133_;
					ValaMethod* _tmp134_;
					const gchar* _tmp135_;
					const gchar* _tmp136_;
					ValaMethod* _tmp137_;
					GString* _tmp138_;
					gint _tmp139_;
					ValaMethod* _tmp140_;
					ValaMethod* _tmp141_;
					const gchar* _tmp142_;
					const gchar* _tmp143_;
					ValaMethod* _tmp144_;
					gchar* _tmp145_;
					gchar* _tmp146_;
					ValaMethod* _tmp147_;
					ValaList* _tmp148_;
					ValaMethod* _tmp149_;
					ValaDataType* _tmp150_;
					ValaDataType* _tmp151_;
					ValaMethod* _tmp152_;
					gboolean _tmp153_;
					gboolean _tmp154_;
					gint _tmp155_;
					GString* _tmp156_;
#line 764 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 765 "valagirwriter.vala"
					_tmp133_ = self->priv->buffer;
#line 765 "valagirwriter.vala"
					_tmp134_ = m;
#line 765 "valagirwriter.vala"
					_tmp135_ = vala_symbol_get_name ((ValaSymbol*) _tmp134_);
#line 765 "valagirwriter.vala"
					_tmp136_ = _tmp135_;
#line 765 "valagirwriter.vala"
					g_string_append_printf (_tmp133_, "<field name=\"%s\"", _tmp136_);
#line 766 "valagirwriter.vala"
					_tmp137_ = m;
#line 766 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp137_);
#line 767 "valagirwriter.vala"
					_tmp138_ = self->priv->buffer;
#line 767 "valagirwriter.vala"
					g_string_append_printf (_tmp138_, ">\n");
#line 768 "valagirwriter.vala"
					_tmp139_ = self->priv->indent;
#line 768 "valagirwriter.vala"
					self->priv->indent = _tmp139_ + 1;
#line 769 "valagirwriter.vala"
					_tmp140_ = m;
#line 769 "valagirwriter.vala"
					_tmp141_ = m;
#line 769 "valagirwriter.vala"
					_tmp142_ = vala_symbol_get_name ((ValaSymbol*) _tmp141_);
#line 769 "valagirwriter.vala"
					_tmp143_ = _tmp142_;
#line 769 "valagirwriter.vala"
					_tmp144_ = m;
#line 769 "valagirwriter.vala"
					_tmp145_ = vala_get_ccode_name ((ValaCodeNode*) _tmp144_);
#line 769 "valagirwriter.vala"
					_tmp146_ = _tmp145_;
#line 769 "valagirwriter.vala"
					_tmp147_ = m;
#line 769 "valagirwriter.vala"
					_tmp148_ = vala_callable_get_parameters ((ValaCallable*) _tmp147_);
#line 769 "valagirwriter.vala"
					_tmp149_ = m;
#line 769 "valagirwriter.vala"
					_tmp150_ = vala_callable_get_return_type ((ValaCallable*) _tmp149_);
#line 769 "valagirwriter.vala"
					_tmp151_ = _tmp150_;
#line 769 "valagirwriter.vala"
					_tmp152_ = m;
#line 769 "valagirwriter.vala"
					_tmp153_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp152_);
#line 769 "valagirwriter.vala"
					_tmp154_ = _tmp153_;
#line 769 "valagirwriter.vala"
					vala_gir_writer_do_write_signature (self, _tmp140_, "callback", TRUE, _tmp143_, _tmp146_, _tmp148_, _tmp151_, _tmp154_, FALSE, FALSE);
#line 769 "valagirwriter.vala"
					_g_free0 (_tmp146_);
#line 770 "valagirwriter.vala"
					_tmp155_ = self->priv->indent;
#line 770 "valagirwriter.vala"
					self->priv->indent = _tmp155_ - 1;
#line 771 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 772 "valagirwriter.vala"
					_tmp156_ = self->priv->buffer;
#line 772 "valagirwriter.vala"
					g_string_append_printf (_tmp156_, "</field>\n");
#line 5313 "valagirwriter.vala.c"
				}
			}
#line 735 "valagirwriter.vala"
			_vala_code_node_unref0 (m);
#line 5318 "valagirwriter.vala.c"
		}
	}
	{
		ValaList* _prop_list = NULL;
		ValaList* _tmp157_;
		gint _prop_size = 0;
		ValaList* _tmp158_;
		gint _tmp159_;
		gint _tmp160_;
		gint _prop_index = 0;
#line 777 "valagirwriter.vala"
		_tmp157_ = vala_object_type_symbol_get_properties ((ValaObjectTypeSymbol*) iface);
#line 777 "valagirwriter.vala"
		_prop_list = _tmp157_;
#line 777 "valagirwriter.vala"
		_tmp158_ = _prop_list;
#line 777 "valagirwriter.vala"
		_tmp159_ = vala_collection_get_size ((ValaCollection*) _tmp158_);
#line 777 "valagirwriter.vala"
		_tmp160_ = _tmp159_;
#line 777 "valagirwriter.vala"
		_prop_size = _tmp160_;
#line 777 "valagirwriter.vala"
		_prop_index = -1;
#line 777 "valagirwriter.vala"
		while (TRUE) {
#line 5345 "valagirwriter.vala.c"
			gint _tmp161_;
			gint _tmp162_;
			ValaProperty* prop = NULL;
			ValaList* _tmp163_;
			gpointer _tmp164_;
			gboolean _tmp165_ = FALSE;
			ValaProperty* _tmp166_;
			gboolean _tmp167_;
			gboolean _tmp168_;
#line 777 "valagirwriter.vala"
			_prop_index = _prop_index + 1;
#line 777 "valagirwriter.vala"
			_tmp161_ = _prop_index;
#line 777 "valagirwriter.vala"
			_tmp162_ = _prop_size;
#line 777 "valagirwriter.vala"
			if (!(_tmp161_ < _tmp162_)) {
#line 777 "valagirwriter.vala"
				break;
#line 5365 "valagirwriter.vala.c"
			}
#line 777 "valagirwriter.vala"
			_tmp163_ = _prop_list;
#line 777 "valagirwriter.vala"
			_tmp164_ = vala_list_get (_tmp163_, _prop_index);
#line 777 "valagirwriter.vala"
			prop = (ValaProperty*) _tmp164_;
#line 778 "valagirwriter.vala"
			_tmp166_ = prop;
#line 778 "valagirwriter.vala"
			_tmp167_ = vala_property_get_is_abstract (_tmp166_);
#line 778 "valagirwriter.vala"
			_tmp168_ = _tmp167_;
#line 778 "valagirwriter.vala"
			if (_tmp168_) {
#line 778 "valagirwriter.vala"
				_tmp165_ = TRUE;
#line 5383 "valagirwriter.vala.c"
			} else {
				ValaProperty* _tmp169_;
				gboolean _tmp170_;
				gboolean _tmp171_;
#line 778 "valagirwriter.vala"
				_tmp169_ = prop;
#line 778 "valagirwriter.vala"
				_tmp170_ = vala_property_get_is_virtual (_tmp169_);
#line 778 "valagirwriter.vala"
				_tmp171_ = _tmp170_;
#line 778 "valagirwriter.vala"
				_tmp165_ = _tmp171_;
#line 5396 "valagirwriter.vala.c"
			}
#line 778 "valagirwriter.vala"
			if (_tmp165_) {
#line 5400 "valagirwriter.vala.c"
				ValaProperty* _tmp172_;
				ValaPropertyAccessor* _tmp173_;
				ValaPropertyAccessor* _tmp174_;
				gboolean _tmp203_ = FALSE;
				ValaProperty* _tmp204_;
				ValaPropertyAccessor* _tmp205_;
				ValaPropertyAccessor* _tmp206_;
#line 779 "valagirwriter.vala"
				_tmp172_ = prop;
#line 779 "valagirwriter.vala"
				_tmp173_ = vala_property_get_get_accessor (_tmp172_);
#line 779 "valagirwriter.vala"
				_tmp174_ = _tmp173_;
#line 779 "valagirwriter.vala"
				if (_tmp174_ != NULL) {
#line 5416 "valagirwriter.vala.c"
					ValaMethod* m = NULL;
					ValaProperty* _tmp175_;
					ValaPropertyAccessor* _tmp176_;
					ValaPropertyAccessor* _tmp177_;
					ValaMethod* _tmp178_;
					GString* _tmp179_;
					ValaMethod* _tmp180_;
					const gchar* _tmp181_;
					const gchar* _tmp182_;
					ValaMethod* _tmp183_;
					GString* _tmp184_;
					gint _tmp185_;
					ValaMethod* _tmp186_;
					ValaMethod* _tmp187_;
					const gchar* _tmp188_;
					const gchar* _tmp189_;
					ValaMethod* _tmp190_;
					gchar* _tmp191_;
					gchar* _tmp192_;
					ValaMethod* _tmp193_;
					ValaList* _tmp194_;
					ValaMethod* _tmp195_;
					ValaDataType* _tmp196_;
					ValaDataType* _tmp197_;
					ValaMethod* _tmp198_;
					gboolean _tmp199_;
					gboolean _tmp200_;
					gint _tmp201_;
					GString* _tmp202_;
#line 780 "valagirwriter.vala"
					_tmp175_ = prop;
#line 780 "valagirwriter.vala"
					_tmp176_ = vala_property_get_get_accessor (_tmp175_);
#line 780 "valagirwriter.vala"
					_tmp177_ = _tmp176_;
#line 780 "valagirwriter.vala"
					_tmp178_ = vala_property_accessor_get_method (_tmp177_);
#line 780 "valagirwriter.vala"
					m = _tmp178_;
#line 781 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 782 "valagirwriter.vala"
					_tmp179_ = self->priv->buffer;
#line 782 "valagirwriter.vala"
					_tmp180_ = m;
#line 782 "valagirwriter.vala"
					_tmp181_ = vala_symbol_get_name ((ValaSymbol*) _tmp180_);
#line 782 "valagirwriter.vala"
					_tmp182_ = _tmp181_;
#line 782 "valagirwriter.vala"
					g_string_append_printf (_tmp179_, "<field name=\"%s\"", _tmp182_);
#line 783 "valagirwriter.vala"
					_tmp183_ = m;
#line 783 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp183_);
#line 784 "valagirwriter.vala"
					_tmp184_ = self->priv->buffer;
#line 784 "valagirwriter.vala"
					g_string_append_printf (_tmp184_, ">\n");
#line 785 "valagirwriter.vala"
					_tmp185_ = self->priv->indent;
#line 785 "valagirwriter.vala"
					self->priv->indent = _tmp185_ + 1;
#line 786 "valagirwriter.vala"
					_tmp186_ = m;
#line 786 "valagirwriter.vala"
					_tmp187_ = m;
#line 786 "valagirwriter.vala"
					_tmp188_ = vala_symbol_get_name ((ValaSymbol*) _tmp187_);
#line 786 "valagirwriter.vala"
					_tmp189_ = _tmp188_;
#line 786 "valagirwriter.vala"
					_tmp190_ = m;
#line 786 "valagirwriter.vala"
					_tmp191_ = vala_get_ccode_name ((ValaCodeNode*) _tmp190_);
#line 786 "valagirwriter.vala"
					_tmp192_ = _tmp191_;
#line 786 "valagirwriter.vala"
					_tmp193_ = m;
#line 786 "valagirwriter.vala"
					_tmp194_ = vala_callable_get_parameters ((ValaCallable*) _tmp193_);
#line 786 "valagirwriter.vala"
					_tmp195_ = m;
#line 786 "valagirwriter.vala"
					_tmp196_ = vala_callable_get_return_type ((ValaCallable*) _tmp195_);
#line 786 "valagirwriter.vala"
					_tmp197_ = _tmp196_;
#line 786 "valagirwriter.vala"
					_tmp198_ = m;
#line 786 "valagirwriter.vala"
					_tmp199_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp198_);
#line 786 "valagirwriter.vala"
					_tmp200_ = _tmp199_;
#line 786 "valagirwriter.vala"
					vala_gir_writer_do_write_signature (self, _tmp186_, "callback", TRUE, _tmp189_, _tmp192_, _tmp194_, _tmp197_, _tmp200_, FALSE, FALSE);
#line 786 "valagirwriter.vala"
					_g_free0 (_tmp192_);
#line 787 "valagirwriter.vala"
					_tmp201_ = self->priv->indent;
#line 787 "valagirwriter.vala"
					self->priv->indent = _tmp201_ - 1;
#line 788 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 789 "valagirwriter.vala"
					_tmp202_ = self->priv->buffer;
#line 789 "valagirwriter.vala"
					g_string_append_printf (_tmp202_, "</field>\n");
#line 779 "valagirwriter.vala"
					_vala_code_node_unref0 (m);
#line 5526 "valagirwriter.vala.c"
				}
#line 792 "valagirwriter.vala"
				_tmp204_ = prop;
#line 792 "valagirwriter.vala"
				_tmp205_ = vala_property_get_set_accessor (_tmp204_);
#line 792 "valagirwriter.vala"
				_tmp206_ = _tmp205_;
#line 792 "valagirwriter.vala"
				if (_tmp206_ != NULL) {
#line 5536 "valagirwriter.vala.c"
					ValaProperty* _tmp207_;
					ValaPropertyAccessor* _tmp208_;
					ValaPropertyAccessor* _tmp209_;
					gboolean _tmp210_;
					gboolean _tmp211_;
#line 792 "valagirwriter.vala"
					_tmp207_ = prop;
#line 792 "valagirwriter.vala"
					_tmp208_ = vala_property_get_set_accessor (_tmp207_);
#line 792 "valagirwriter.vala"
					_tmp209_ = _tmp208_;
#line 792 "valagirwriter.vala"
					_tmp210_ = vala_property_accessor_get_writable (_tmp209_);
#line 792 "valagirwriter.vala"
					_tmp211_ = _tmp210_;
#line 792 "valagirwriter.vala"
					_tmp203_ = _tmp211_;
#line 5554 "valagirwriter.vala.c"
				} else {
#line 792 "valagirwriter.vala"
					_tmp203_ = FALSE;
#line 5558 "valagirwriter.vala.c"
				}
#line 792 "valagirwriter.vala"
				if (_tmp203_) {
#line 5562 "valagirwriter.vala.c"
					ValaMethod* m = NULL;
					ValaProperty* _tmp212_;
					ValaPropertyAccessor* _tmp213_;
					ValaPropertyAccessor* _tmp214_;
					ValaMethod* _tmp215_;
					GString* _tmp216_;
					ValaMethod* _tmp217_;
					const gchar* _tmp218_;
					const gchar* _tmp219_;
					ValaMethod* _tmp220_;
					GString* _tmp221_;
					gint _tmp222_;
					ValaMethod* _tmp223_;
					ValaMethod* _tmp224_;
					const gchar* _tmp225_;
					const gchar* _tmp226_;
					ValaMethod* _tmp227_;
					gchar* _tmp228_;
					gchar* _tmp229_;
					ValaMethod* _tmp230_;
					ValaList* _tmp231_;
					ValaMethod* _tmp232_;
					ValaDataType* _tmp233_;
					ValaDataType* _tmp234_;
					ValaMethod* _tmp235_;
					gboolean _tmp236_;
					gboolean _tmp237_;
					gint _tmp238_;
					GString* _tmp239_;
#line 793 "valagirwriter.vala"
					_tmp212_ = prop;
#line 793 "valagirwriter.vala"
					_tmp213_ = vala_property_get_set_accessor (_tmp212_);
#line 793 "valagirwriter.vala"
					_tmp214_ = _tmp213_;
#line 793 "valagirwriter.vala"
					_tmp215_ = vala_property_accessor_get_method (_tmp214_);
#line 793 "valagirwriter.vala"
					m = _tmp215_;
#line 794 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 795 "valagirwriter.vala"
					_tmp216_ = self->priv->buffer;
#line 795 "valagirwriter.vala"
					_tmp217_ = m;
#line 795 "valagirwriter.vala"
					_tmp218_ = vala_symbol_get_name ((ValaSymbol*) _tmp217_);
#line 795 "valagirwriter.vala"
					_tmp219_ = _tmp218_;
#line 795 "valagirwriter.vala"
					g_string_append_printf (_tmp216_, "<field name=\"%s\"", _tmp219_);
#line 796 "valagirwriter.vala"
					_tmp220_ = m;
#line 796 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) _tmp220_);
#line 797 "valagirwriter.vala"
					_tmp221_ = self->priv->buffer;
#line 797 "valagirwriter.vala"
					g_string_append_printf (_tmp221_, ">\n");
#line 798 "valagirwriter.vala"
					_tmp222_ = self->priv->indent;
#line 798 "valagirwriter.vala"
					self->priv->indent = _tmp222_ + 1;
#line 799 "valagirwriter.vala"
					_tmp223_ = m;
#line 799 "valagirwriter.vala"
					_tmp224_ = m;
#line 799 "valagirwriter.vala"
					_tmp225_ = vala_symbol_get_name ((ValaSymbol*) _tmp224_);
#line 799 "valagirwriter.vala"
					_tmp226_ = _tmp225_;
#line 799 "valagirwriter.vala"
					_tmp227_ = m;
#line 799 "valagirwriter.vala"
					_tmp228_ = vala_get_ccode_name ((ValaCodeNode*) _tmp227_);
#line 799 "valagirwriter.vala"
					_tmp229_ = _tmp228_;
#line 799 "valagirwriter.vala"
					_tmp230_ = m;
#line 799 "valagirwriter.vala"
					_tmp231_ = vala_callable_get_parameters ((ValaCallable*) _tmp230_);
#line 799 "valagirwriter.vala"
					_tmp232_ = m;
#line 799 "valagirwriter.vala"
					_tmp233_ = vala_callable_get_return_type ((ValaCallable*) _tmp232_);
#line 799 "valagirwriter.vala"
					_tmp234_ = _tmp233_;
#line 799 "valagirwriter.vala"
					_tmp235_ = m;
#line 799 "valagirwriter.vala"
					_tmp236_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) _tmp235_);
#line 799 "valagirwriter.vala"
					_tmp237_ = _tmp236_;
#line 799 "valagirwriter.vala"
					vala_gir_writer_do_write_signature (self, _tmp223_, "callback", TRUE, _tmp226_, _tmp229_, _tmp231_, _tmp234_, _tmp237_, FALSE, FALSE);
#line 799 "valagirwriter.vala"
					_g_free0 (_tmp229_);
#line 800 "valagirwriter.vala"
					_tmp238_ = self->priv->indent;
#line 800 "valagirwriter.vala"
					self->priv->indent = _tmp238_ - 1;
#line 801 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 802 "valagirwriter.vala"
					_tmp239_ = self->priv->buffer;
#line 802 "valagirwriter.vala"
					g_string_append_printf (_tmp239_, "</field>\n");
#line 792 "valagirwriter.vala"
					_vala_code_node_unref0 (m);
#line 5672 "valagirwriter.vala.c"
				}
			}
#line 777 "valagirwriter.vala"
			_vala_code_node_unref0 (prop);
#line 5677 "valagirwriter.vala.c"
		}
	}
#line 807 "valagirwriter.vala"
	_tmp240_ = self->priv->indent;
#line 807 "valagirwriter.vala"
	self->priv->indent = _tmp240_ - 1;
#line 808 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 809 "valagirwriter.vala"
	_tmp241_ = self->priv->buffer;
#line 809 "valagirwriter.vala"
	g_string_append_printf (_tmp241_, "</record>\n");
#line 811 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 673 "valagirwriter.vala"
	_g_free0 (gtype_struct_name);
#line 5694 "valagirwriter.vala.c"
}

static gpointer
_vala_iterable_ref0 (gpointer self)
{
#line 815 "valagirwriter.vala"
	return self ? vala_iterable_ref (self) : NULL;
#line 5702 "valagirwriter.vala.c"
}

static void
vala_gir_writer_visit_deferred (ValaGIRWriter* self)
{
	ValaArrayList* nodes = NULL;
	ValaArrayList* _tmp0_;
	ValaArrayList* _tmp1_;
	GEqualFunc _tmp2_;
	ValaArrayList* _tmp3_;
#line 815 "valagirwriter.vala"
	_tmp0_ = self->priv->deferred;
#line 815 "valagirwriter.vala"
	_tmp1_ = _vala_iterable_ref0 (_tmp0_);
#line 815 "valagirwriter.vala"
	nodes = _tmp1_;
#line 816 "valagirwriter.vala"
	_tmp2_ = g_direct_equal;
#line 816 "valagirwriter.vala"
	_tmp3_ = vala_array_list_new (VALA_TYPE_CODE_NODE, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, _tmp2_);
#line 816 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->deferred);
#line 816 "valagirwriter.vala"
	self->priv->deferred = _tmp3_;
#line 5727 "valagirwriter.vala.c"
	{
		ValaArrayList* _node_list = NULL;
		ValaArrayList* _tmp4_;
		gint _node_size = 0;
		ValaArrayList* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		gint _node_index = 0;
#line 818 "valagirwriter.vala"
		_tmp4_ = nodes;
#line 818 "valagirwriter.vala"
		_node_list = _tmp4_;
#line 818 "valagirwriter.vala"
		_tmp5_ = _node_list;
#line 818 "valagirwriter.vala"
		_tmp6_ = vala_collection_get_size ((ValaCollection*) _tmp5_);
#line 818 "valagirwriter.vala"
		_tmp7_ = _tmp6_;
#line 818 "valagirwriter.vala"
		_node_size = _tmp7_;
#line 818 "valagirwriter.vala"
		_node_index = -1;
#line 818 "valagirwriter.vala"
		while (TRUE) {
#line 5752 "valagirwriter.vala.c"
			gint _tmp8_;
			gint _tmp9_;
			ValaCodeNode* node = NULL;
			ValaArrayList* _tmp10_;
			gpointer _tmp11_;
			ValaCodeNode* _tmp12_;
#line 818 "valagirwriter.vala"
			_node_index = _node_index + 1;
#line 818 "valagirwriter.vala"
			_tmp8_ = _node_index;
#line 818 "valagirwriter.vala"
			_tmp9_ = _node_size;
#line 818 "valagirwriter.vala"
			if (!(_tmp8_ < _tmp9_)) {
#line 818 "valagirwriter.vala"
				break;
#line 5769 "valagirwriter.vala.c"
			}
#line 818 "valagirwriter.vala"
			_tmp10_ = _node_list;
#line 818 "valagirwriter.vala"
			_tmp11_ = vala_list_get ((ValaList*) _tmp10_, _node_index);
#line 818 "valagirwriter.vala"
			node = (ValaCodeNode*) _tmp11_;
#line 819 "valagirwriter.vala"
			_tmp12_ = node;
#line 819 "valagirwriter.vala"
			vala_code_node_accept (_tmp12_, (ValaCodeVisitor*) self);
#line 818 "valagirwriter.vala"
			_vala_code_node_unref0 (node);
#line 5783 "valagirwriter.vala.c"
		}
	}
#line 814 "valagirwriter.vala"
	_vala_iterable_unref0 (nodes);
#line 5788 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_get_gir_name (ValaGIRWriter* self,
                              ValaSymbol* symbol)
{
	gchar* gir_name = NULL;
	ValaSymbol* h0 = NULL;
	ValaArrayList* _tmp0_;
	gpointer _tmp1_;
	gchar* result;
#line 824 "valagirwriter.vala"
	gir_name = NULL;
#line 825 "valagirwriter.vala"
	_tmp0_ = self->priv->hierarchy;
#line 825 "valagirwriter.vala"
	_tmp1_ = vala_list_get ((ValaList*) _tmp0_, 0);
#line 825 "valagirwriter.vala"
	h0 = (ValaSymbol*) _tmp1_;
#line 5808 "valagirwriter.vala.c"
	{
		ValaSymbol* cur_sym = NULL;
		ValaSymbol* _tmp2_;
#line 827 "valagirwriter.vala"
		_tmp2_ = _vala_code_node_ref0 (symbol);
#line 827 "valagirwriter.vala"
		cur_sym = _tmp2_;
#line 5816 "valagirwriter.vala.c"
		{
			gboolean _tmp3_ = FALSE;
#line 827 "valagirwriter.vala"
			_tmp3_ = TRUE;
#line 827 "valagirwriter.vala"
			while (TRUE) {
#line 5823 "valagirwriter.vala.c"
				ValaSymbol* _tmp8_;
				ValaSymbol* _tmp9_;
				ValaSymbol* _tmp10_;
				gchar* cur_name = NULL;
				ValaSymbol* _tmp11_;
				gchar* _tmp12_;
				const gchar* _tmp13_;
				const gchar* _tmp18_;
				const gchar* _tmp19_;
				gchar* _tmp20_;
#line 827 "valagirwriter.vala"
				if (!_tmp3_) {
#line 5836 "valagirwriter.vala.c"
					ValaSymbol* _tmp4_;
					ValaSymbol* _tmp5_;
					ValaSymbol* _tmp6_;
					ValaSymbol* _tmp7_;
#line 827 "valagirwriter.vala"
					_tmp4_ = cur_sym;
#line 827 "valagirwriter.vala"
					_tmp5_ = vala_symbol_get_parent_symbol (_tmp4_);
#line 827 "valagirwriter.vala"
					_tmp6_ = _tmp5_;
#line 827 "valagirwriter.vala"
					_tmp7_ = _vala_code_node_ref0 (_tmp6_);
#line 827 "valagirwriter.vala"
					_vala_code_node_unref0 (cur_sym);
#line 827 "valagirwriter.vala"
					cur_sym = _tmp7_;
#line 5853 "valagirwriter.vala.c"
				}
#line 827 "valagirwriter.vala"
				_tmp3_ = FALSE;
#line 827 "valagirwriter.vala"
				_tmp8_ = cur_sym;
#line 827 "valagirwriter.vala"
				if (!(_tmp8_ != NULL)) {
#line 827 "valagirwriter.vala"
					break;
#line 5863 "valagirwriter.vala.c"
				}
#line 828 "valagirwriter.vala"
				_tmp9_ = cur_sym;
#line 828 "valagirwriter.vala"
				_tmp10_ = h0;
#line 828 "valagirwriter.vala"
				if (_tmp9_ == _tmp10_) {
#line 829 "valagirwriter.vala"
					break;
#line 5873 "valagirwriter.vala.c"
				}
#line 832 "valagirwriter.vala"
				_tmp11_ = cur_sym;
#line 832 "valagirwriter.vala"
				_tmp12_ = vala_code_node_get_attribute_string ((ValaCodeNode*) _tmp11_, "GIR", "name", NULL);
#line 832 "valagirwriter.vala"
				cur_name = _tmp12_;
#line 833 "valagirwriter.vala"
				_tmp13_ = cur_name;
#line 833 "valagirwriter.vala"
				if (_tmp13_ == NULL) {
#line 5885 "valagirwriter.vala.c"
					ValaSymbol* _tmp14_;
					const gchar* _tmp15_;
					const gchar* _tmp16_;
					gchar* _tmp17_;
#line 834 "valagirwriter.vala"
					_tmp14_ = cur_sym;
#line 834 "valagirwriter.vala"
					_tmp15_ = vala_symbol_get_name (_tmp14_);
#line 834 "valagirwriter.vala"
					_tmp16_ = _tmp15_;
#line 834 "valagirwriter.vala"
					_tmp17_ = g_strdup (_tmp16_);
#line 834 "valagirwriter.vala"
					_g_free0 (cur_name);
#line 834 "valagirwriter.vala"
					cur_name = _tmp17_;
#line 5902 "valagirwriter.vala.c"
				}
#line 836 "valagirwriter.vala"
				_tmp18_ = cur_name;
#line 836 "valagirwriter.vala"
				_tmp19_ = gir_name;
#line 836 "valagirwriter.vala"
				_tmp20_ = g_strconcat (_tmp18_, _tmp19_, NULL);
#line 836 "valagirwriter.vala"
				_g_free0 (gir_name);
#line 836 "valagirwriter.vala"
				gir_name = _tmp20_;
#line 827 "valagirwriter.vala"
				_g_free0 (cur_name);
#line 5916 "valagirwriter.vala.c"
			}
		}
#line 827 "valagirwriter.vala"
		_vala_code_node_unref0 (cur_sym);
#line 5921 "valagirwriter.vala.c"
	}
#line 839 "valagirwriter.vala"
	result = gir_name;
#line 839 "valagirwriter.vala"
	_vala_code_node_unref0 (h0);
#line 839 "valagirwriter.vala"
	return result;
#line 5929 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_enum (ValaCodeVisitor* base,
                                 ValaEnum* en)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	ValaArrayList* _tmp2_;
	gpointer _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean _tmp5_;
	const gchar* _tmp7_ = NULL;
	gboolean _tmp8_;
	gboolean _tmp9_;
	gchar* element_name = NULL;
	gchar* _tmp10_;
	GString* _tmp11_;
	const gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	GString* _tmp15_;
	gint _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	ValaArrayList* _tmp19_;
	ValaArrayList* _tmp20_;
	gpointer _tmp21_;
	ValaSymbol* _tmp22_;
	gint _tmp23_;
	GString* _tmp24_;
	const gchar* _tmp25_;
#line 842 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 843 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) en);
#line 843 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 843 "valagirwriter.vala"
	if (_tmp1_) {
#line 844 "valagirwriter.vala"
		return;
#line 5973 "valagirwriter.vala.c"
	}
#line 847 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) en)) {
#line 848 "valagirwriter.vala"
		return;
#line 5979 "valagirwriter.vala.c"
	}
#line 851 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) en)) {
#line 852 "valagirwriter.vala"
		return;
#line 5985 "valagirwriter.vala.c"
	}
#line 855 "valagirwriter.vala"
	_tmp2_ = self->priv->hierarchy;
#line 855 "valagirwriter.vala"
	_tmp3_ = vala_list_get ((ValaList*) _tmp2_, 0);
#line 855 "valagirwriter.vala"
	_tmp4_ = (ValaSymbol*) _tmp3_;
#line 855 "valagirwriter.vala"
	_tmp5_ = !G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_NAMESPACE);
#line 855 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp4_);
#line 855 "valagirwriter.vala"
	if (_tmp5_) {
#line 5999 "valagirwriter.vala.c"
		ValaArrayList* _tmp6_;
#line 856 "valagirwriter.vala"
		_tmp6_ = self->priv->deferred;
#line 856 "valagirwriter.vala"
		vala_collection_add ((ValaCollection*) _tmp6_, (ValaCodeNode*) en);
#line 857 "valagirwriter.vala"
		return;
#line 6007 "valagirwriter.vala.c"
	}
#line 860 "valagirwriter.vala"
	_tmp8_ = vala_enum_get_is_flags (en);
#line 860 "valagirwriter.vala"
	_tmp9_ = _tmp8_;
#line 860 "valagirwriter.vala"
	if (_tmp9_) {
#line 860 "valagirwriter.vala"
		_tmp7_ = "bitfield";
#line 6017 "valagirwriter.vala.c"
	} else {
#line 860 "valagirwriter.vala"
		_tmp7_ = "enumeration";
#line 6021 "valagirwriter.vala.c"
	}
#line 860 "valagirwriter.vala"
	_tmp10_ = g_strdup (_tmp7_);
#line 860 "valagirwriter.vala"
	element_name = _tmp10_;
#line 862 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 863 "valagirwriter.vala"
	_tmp11_ = self->priv->buffer;
#line 863 "valagirwriter.vala"
	_tmp12_ = element_name;
#line 863 "valagirwriter.vala"
	_tmp13_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) en);
#line 863 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 863 "valagirwriter.vala"
	g_string_append_printf (_tmp11_, "<%s name=\"%s\"", _tmp12_, _tmp14_);
#line 863 "valagirwriter.vala"
	_g_free0 (_tmp14_);
#line 864 "valagirwriter.vala"
	if (vala_get_ccode_has_type_id ((ValaTypeSymbol*) en)) {
#line 865 "valagirwriter.vala"
		vala_gir_writer_write_gtype_attributes (self, (ValaTypeSymbol*) en, FALSE);
#line 6045 "valagirwriter.vala.c"
	} else {
#line 867 "valagirwriter.vala"
		vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) en, "", FALSE);
#line 6049 "valagirwriter.vala.c"
	}
#line 869 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) en);
#line 870 "valagirwriter.vala"
	_tmp15_ = self->priv->buffer;
#line 870 "valagirwriter.vala"
	g_string_append_printf (_tmp15_, ">\n");
#line 871 "valagirwriter.vala"
	_tmp16_ = self->priv->indent;
#line 871 "valagirwriter.vala"
	self->priv->indent = _tmp16_ + 1;
#line 873 "valagirwriter.vala"
	_tmp17_ = vala_gir_writer_get_enum_comment (self, en);
#line 873 "valagirwriter.vala"
	_tmp18_ = _tmp17_;
#line 873 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp18_);
#line 873 "valagirwriter.vala"
	_g_free0 (_tmp18_);
#line 875 "valagirwriter.vala"
	self->priv->enum_value = 0;
#line 876 "valagirwriter.vala"
	_tmp19_ = self->priv->hierarchy;
#line 876 "valagirwriter.vala"
	vala_list_insert ((ValaList*) _tmp19_, 0, (ValaSymbol*) en);
#line 877 "valagirwriter.vala"
	vala_code_node_accept_children ((ValaCodeNode*) en, (ValaCodeVisitor*) self);
#line 878 "valagirwriter.vala"
	_tmp20_ = self->priv->hierarchy;
#line 878 "valagirwriter.vala"
	_tmp21_ = vala_list_remove_at ((ValaList*) _tmp20_, 0);
#line 878 "valagirwriter.vala"
	_tmp22_ = (ValaSymbol*) _tmp21_;
#line 878 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp22_);
#line 880 "valagirwriter.vala"
	_tmp23_ = self->priv->indent;
#line 880 "valagirwriter.vala"
	self->priv->indent = _tmp23_ - 1;
#line 881 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 882 "valagirwriter.vala"
	_tmp24_ = self->priv->buffer;
#line 882 "valagirwriter.vala"
	_tmp25_ = element_name;
#line 882 "valagirwriter.vala"
	g_string_append_printf (_tmp24_, "</%s>\n", _tmp25_);
#line 884 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 842 "valagirwriter.vala"
	_g_free0 (element_name);
#line 6101 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_enum_value (ValaCodeVisitor* base,
                                       ValaEnumValue* ev)
{
	ValaGIRWriter * self;
	ValaEnum* en = NULL;
	ValaArrayList* _tmp0_;
	gpointer _tmp1_;
	GString* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	ValaExpression* _tmp9_;
	ValaExpression* _tmp10_;
	gchar* comment = NULL;
	gchar* _tmp23_;
	const gchar* _tmp24_;
#line 889 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 890 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 891 "valagirwriter.vala"
	_tmp0_ = self->priv->hierarchy;
#line 891 "valagirwriter.vala"
	_tmp1_ = vala_list_get ((ValaList*) _tmp0_, 0);
#line 891 "valagirwriter.vala"
	en = G_TYPE_CHECK_INSTANCE_CAST ((ValaSymbol*) _tmp1_, VALA_TYPE_ENUM, ValaEnum);
#line 892 "valagirwriter.vala"
	_tmp2_ = self->priv->buffer;
#line 892 "valagirwriter.vala"
	_tmp3_ = vala_symbol_get_name ((ValaSymbol*) ev);
#line 892 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 892 "valagirwriter.vala"
	_tmp5_ = g_ascii_strdown (_tmp4_, (gssize) -1);
#line 892 "valagirwriter.vala"
	_tmp6_ = _tmp5_;
#line 892 "valagirwriter.vala"
	_tmp7_ = vala_get_ccode_name ((ValaCodeNode*) ev);
#line 892 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 892 "valagirwriter.vala"
	g_string_append_printf (_tmp2_, "<member name=\"%s\" c:identifier=\"%s\"", _tmp6_, _tmp8_);
#line 892 "valagirwriter.vala"
	_g_free0 (_tmp8_);
#line 892 "valagirwriter.vala"
	_g_free0 (_tmp6_);
#line 893 "valagirwriter.vala"
	_tmp9_ = vala_constant_get_value ((ValaConstant*) ev);
#line 893 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 893 "valagirwriter.vala"
	if (_tmp10_ != NULL) {
#line 6160 "valagirwriter.vala.c"
		gchar* value = NULL;
		ValaExpression* _tmp11_;
		ValaExpression* _tmp12_;
		gchar* _tmp13_;
		GString* _tmp14_;
		const gchar* _tmp15_;
#line 894 "valagirwriter.vala"
		_tmp11_ = vala_constant_get_value ((ValaConstant*) ev);
#line 894 "valagirwriter.vala"
		_tmp12_ = _tmp11_;
#line 894 "valagirwriter.vala"
		_tmp13_ = vala_gir_writer_literal_expression_to_value_string (self, _tmp12_);
#line 894 "valagirwriter.vala"
		value = _tmp13_;
#line 895 "valagirwriter.vala"
		_tmp14_ = self->priv->buffer;
#line 895 "valagirwriter.vala"
		_tmp15_ = value;
#line 895 "valagirwriter.vala"
		g_string_append_printf (_tmp14_, " value=\"%s\"", _tmp15_);
#line 893 "valagirwriter.vala"
		_g_free0 (value);
#line 6183 "valagirwriter.vala.c"
	} else {
		ValaEnum* _tmp16_;
		gboolean _tmp17_;
		gboolean _tmp18_;
#line 897 "valagirwriter.vala"
		_tmp16_ = en;
#line 897 "valagirwriter.vala"
		_tmp17_ = vala_enum_get_is_flags (_tmp16_);
#line 897 "valagirwriter.vala"
		_tmp18_ = _tmp17_;
#line 897 "valagirwriter.vala"
		if (_tmp18_) {
#line 6196 "valagirwriter.vala.c"
			GString* _tmp19_;
			gint _tmp20_;
#line 898 "valagirwriter.vala"
			_tmp19_ = self->priv->buffer;
#line 898 "valagirwriter.vala"
			_tmp20_ = self->priv->enum_value;
#line 898 "valagirwriter.vala"
			self->priv->enum_value = _tmp20_ + 1;
#line 898 "valagirwriter.vala"
			g_string_append_printf (_tmp19_, " value=\"%d\"", 1 << _tmp20_);
#line 6207 "valagirwriter.vala.c"
		} else {
			GString* _tmp21_;
			gint _tmp22_;
#line 900 "valagirwriter.vala"
			_tmp21_ = self->priv->buffer;
#line 900 "valagirwriter.vala"
			_tmp22_ = self->priv->enum_value;
#line 900 "valagirwriter.vala"
			self->priv->enum_value = _tmp22_ + 1;
#line 900 "valagirwriter.vala"
			g_string_append_printf (_tmp21_, " value=\"%d\"", _tmp22_);
#line 6219 "valagirwriter.vala.c"
		}
	}
#line 903 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) ev);
#line 905 "valagirwriter.vala"
	_tmp23_ = vala_gir_writer_get_enum_value_comment (self, ev);
#line 905 "valagirwriter.vala"
	comment = _tmp23_;
#line 906 "valagirwriter.vala"
	_tmp24_ = comment;
#line 906 "valagirwriter.vala"
	if (_tmp24_ == NULL) {
#line 6232 "valagirwriter.vala.c"
		GString* _tmp25_;
#line 907 "valagirwriter.vala"
		_tmp25_ = self->priv->buffer;
#line 907 "valagirwriter.vala"
		g_string_append_printf (_tmp25_, "/>\n");
#line 6238 "valagirwriter.vala.c"
	} else {
		GString* _tmp26_;
		gint _tmp27_;
		const gchar* _tmp28_;
		gint _tmp29_;
		GString* _tmp30_;
#line 909 "valagirwriter.vala"
		_tmp26_ = self->priv->buffer;
#line 909 "valagirwriter.vala"
		g_string_append_printf (_tmp26_, ">\n");
#line 910 "valagirwriter.vala"
		_tmp27_ = self->priv->indent;
#line 910 "valagirwriter.vala"
		self->priv->indent = _tmp27_ + 1;
#line 912 "valagirwriter.vala"
		_tmp28_ = comment;
#line 912 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp28_);
#line 914 "valagirwriter.vala"
		_tmp29_ = self->priv->indent;
#line 914 "valagirwriter.vala"
		self->priv->indent = _tmp29_ - 1;
#line 915 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 916 "valagirwriter.vala"
		_tmp30_ = self->priv->buffer;
#line 916 "valagirwriter.vala"
		g_string_append_printf (_tmp30_, "</member>\n");
#line 6267 "valagirwriter.vala.c"
	}
#line 889 "valagirwriter.vala"
	_g_free0 (comment);
#line 889 "valagirwriter.vala"
	_vala_code_node_unref0 (en);
#line 6273 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_error_domain (ValaCodeVisitor* base,
                                         ValaErrorDomain* edomain)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	GString* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	GString* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	GString* _tmp8_;
	gint _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	ValaArrayList* _tmp12_;
	ValaArrayList* _tmp13_;
	gpointer _tmp14_;
	ValaSymbol* _tmp15_;
	gint _tmp16_;
	GString* _tmp17_;
#line 920 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 921 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) edomain);
#line 921 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 921 "valagirwriter.vala"
	if (_tmp1_) {
#line 922 "valagirwriter.vala"
		return;
#line 6309 "valagirwriter.vala.c"
	}
#line 925 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) edomain)) {
#line 926 "valagirwriter.vala"
		return;
#line 6315 "valagirwriter.vala.c"
	}
#line 929 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) edomain)) {
#line 930 "valagirwriter.vala"
		return;
#line 6321 "valagirwriter.vala.c"
	}
#line 933 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 934 "valagirwriter.vala"
	_tmp2_ = self->priv->buffer;
#line 934 "valagirwriter.vala"
	_tmp3_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) edomain);
#line 934 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 934 "valagirwriter.vala"
	g_string_append_printf (_tmp2_, "<enumeration name=\"%s\"", _tmp4_);
#line 934 "valagirwriter.vala"
	_g_free0 (_tmp4_);
#line 935 "valagirwriter.vala"
	vala_gir_writer_write_ctype_attributes (self, (ValaTypeSymbol*) edomain, "", FALSE);
#line 936 "valagirwriter.vala"
	_tmp5_ = self->priv->buffer;
#line 936 "valagirwriter.vala"
	_tmp6_ = vala_get_ccode_quark_name (edomain);
#line 936 "valagirwriter.vala"
	_tmp7_ = _tmp6_;
#line 936 "valagirwriter.vala"
	g_string_append_printf (_tmp5_, " glib:error-domain=\"%s\"", _tmp7_);
#line 936 "valagirwriter.vala"
	_g_free0 (_tmp7_);
#line 937 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) edomain);
#line 938 "valagirwriter.vala"
	_tmp8_ = self->priv->buffer;
#line 938 "valagirwriter.vala"
	g_string_append_printf (_tmp8_, ">\n");
#line 939 "valagirwriter.vala"
	_tmp9_ = self->priv->indent;
#line 939 "valagirwriter.vala"
	self->priv->indent = _tmp9_ + 1;
#line 941 "valagirwriter.vala"
	_tmp10_ = vala_gir_writer_get_error_domain_comment (self, edomain);
#line 941 "valagirwriter.vala"
	_tmp11_ = _tmp10_;
#line 941 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp11_);
#line 941 "valagirwriter.vala"
	_g_free0 (_tmp11_);
#line 943 "valagirwriter.vala"
	self->priv->enum_value = 0;
#line 944 "valagirwriter.vala"
	_tmp12_ = self->priv->hierarchy;
#line 944 "valagirwriter.vala"
	vala_list_insert ((ValaList*) _tmp12_, 0, (ValaSymbol*) edomain);
#line 945 "valagirwriter.vala"
	vala_code_node_accept_children ((ValaCodeNode*) edomain, (ValaCodeVisitor*) self);
#line 946 "valagirwriter.vala"
	_tmp13_ = self->priv->hierarchy;
#line 946 "valagirwriter.vala"
	_tmp14_ = vala_list_remove_at ((ValaList*) _tmp13_, 0);
#line 946 "valagirwriter.vala"
	_tmp15_ = (ValaSymbol*) _tmp14_;
#line 946 "valagirwriter.vala"
	_vala_code_node_unref0 (_tmp15_);
#line 948 "valagirwriter.vala"
	_tmp16_ = self->priv->indent;
#line 948 "valagirwriter.vala"
	self->priv->indent = _tmp16_ - 1;
#line 949 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 950 "valagirwriter.vala"
	_tmp17_ = self->priv->buffer;
#line 950 "valagirwriter.vala"
	g_string_append_printf (_tmp17_, "</enumeration>\n");
#line 952 "valagirwriter.vala"
	vala_gir_writer_visit_deferred (self);
#line 6393 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_error_code (ValaCodeVisitor* base,
                                       ValaErrorCode* ecode)
{
	ValaGIRWriter * self;
	GString* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	ValaExpression* _tmp7_;
	ValaExpression* _tmp8_;
	gchar* comment = NULL;
	gchar* _tmp16_;
	const gchar* _tmp17_;
#line 955 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 956 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 957 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 957 "valagirwriter.vala"
	_tmp1_ = vala_symbol_get_name ((ValaSymbol*) ecode);
#line 957 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 957 "valagirwriter.vala"
	_tmp3_ = g_ascii_strdown (_tmp2_, (gssize) -1);
#line 957 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 957 "valagirwriter.vala"
	_tmp5_ = vala_get_ccode_name ((ValaCodeNode*) ecode);
#line 957 "valagirwriter.vala"
	_tmp6_ = _tmp5_;
#line 957 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, "<member name=\"%s\" c:identifier=\"%s\"", _tmp4_, _tmp6_);
#line 957 "valagirwriter.vala"
	_g_free0 (_tmp6_);
#line 957 "valagirwriter.vala"
	_g_free0 (_tmp4_);
#line 958 "valagirwriter.vala"
	_tmp7_ = vala_error_code_get_value (ecode);
#line 958 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 958 "valagirwriter.vala"
	if (_tmp8_ != NULL) {
#line 6443 "valagirwriter.vala.c"
		gchar* value = NULL;
		ValaExpression* _tmp9_;
		ValaExpression* _tmp10_;
		gchar* _tmp11_;
		GString* _tmp12_;
		const gchar* _tmp13_;
#line 959 "valagirwriter.vala"
		_tmp9_ = vala_error_code_get_value (ecode);
#line 959 "valagirwriter.vala"
		_tmp10_ = _tmp9_;
#line 959 "valagirwriter.vala"
		_tmp11_ = vala_gir_writer_literal_expression_to_value_string (self, _tmp10_);
#line 959 "valagirwriter.vala"
		value = _tmp11_;
#line 960 "valagirwriter.vala"
		_tmp12_ = self->priv->buffer;
#line 960 "valagirwriter.vala"
		_tmp13_ = value;
#line 960 "valagirwriter.vala"
		g_string_append_printf (_tmp12_, " value=\"%s\"", _tmp13_);
#line 958 "valagirwriter.vala"
		_g_free0 (value);
#line 6466 "valagirwriter.vala.c"
	} else {
		GString* _tmp14_;
		gint _tmp15_;
#line 962 "valagirwriter.vala"
		_tmp14_ = self->priv->buffer;
#line 962 "valagirwriter.vala"
		_tmp15_ = self->priv->enum_value;
#line 962 "valagirwriter.vala"
		self->priv->enum_value = _tmp15_ + 1;
#line 962 "valagirwriter.vala"
		g_string_append_printf (_tmp14_, " value=\"%d\"", _tmp15_);
#line 6478 "valagirwriter.vala.c"
	}
#line 964 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) ecode);
#line 966 "valagirwriter.vala"
	_tmp16_ = vala_gir_writer_get_error_code_comment (self, ecode);
#line 966 "valagirwriter.vala"
	comment = _tmp16_;
#line 967 "valagirwriter.vala"
	_tmp17_ = comment;
#line 967 "valagirwriter.vala"
	if (_tmp17_ == NULL) {
#line 6490 "valagirwriter.vala.c"
		GString* _tmp18_;
#line 968 "valagirwriter.vala"
		_tmp18_ = self->priv->buffer;
#line 968 "valagirwriter.vala"
		g_string_append_printf (_tmp18_, "/>\n");
#line 6496 "valagirwriter.vala.c"
	} else {
		GString* _tmp19_;
		gint _tmp20_;
		const gchar* _tmp21_;
		gint _tmp22_;
		GString* _tmp23_;
#line 970 "valagirwriter.vala"
		_tmp19_ = self->priv->buffer;
#line 970 "valagirwriter.vala"
		g_string_append_printf (_tmp19_, ">\n");
#line 971 "valagirwriter.vala"
		_tmp20_ = self->priv->indent;
#line 971 "valagirwriter.vala"
		self->priv->indent = _tmp20_ + 1;
#line 973 "valagirwriter.vala"
		_tmp21_ = comment;
#line 973 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp21_);
#line 975 "valagirwriter.vala"
		_tmp22_ = self->priv->indent;
#line 975 "valagirwriter.vala"
		self->priv->indent = _tmp22_ - 1;
#line 976 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 977 "valagirwriter.vala"
		_tmp23_ = self->priv->buffer;
#line 977 "valagirwriter.vala"
		g_string_append_printf (_tmp23_, "</member>\n");
#line 6525 "valagirwriter.vala.c"
	}
#line 955 "valagirwriter.vala"
	_g_free0 (comment);
#line 6529 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_constant (ValaCodeVisitor* base,
                                     ValaConstant* c)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	ValaExpression* initializer = NULL;
	ValaExpression* _tmp2_;
	ValaExpression* _tmp3_;
	ValaExpression* _tmp4_;
	gchar* value = NULL;
	ValaExpression* _tmp5_;
	gchar* _tmp6_;
	GString* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	GString* _tmp12_;
	const gchar* _tmp13_;
	GString* _tmp14_;
	gint _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	ValaExpression* _tmp18_;
	ValaDataType* _tmp19_;
	ValaDataType* _tmp20_;
	gint _tmp21_;
	GString* _tmp22_;
#line 981 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 982 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) c);
#line 982 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 982 "valagirwriter.vala"
	if (_tmp1_) {
#line 983 "valagirwriter.vala"
		return;
#line 6572 "valagirwriter.vala.c"
	}
#line 986 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) c)) {
#line 987 "valagirwriter.vala"
		return;
#line 6578 "valagirwriter.vala.c"
	}
#line 990 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) c)) {
#line 991 "valagirwriter.vala"
		return;
#line 6584 "valagirwriter.vala.c"
	}
#line 995 "valagirwriter.vala"
	_tmp2_ = vala_constant_get_value (c);
#line 995 "valagirwriter.vala"
	_tmp3_ = _tmp2_;
#line 995 "valagirwriter.vala"
	_tmp4_ = _vala_code_node_ref0 (_tmp3_);
#line 995 "valagirwriter.vala"
	initializer = _tmp4_;
#line 996 "valagirwriter.vala"
	_tmp5_ = initializer;
#line 996 "valagirwriter.vala"
	_tmp6_ = vala_gir_writer_literal_expression_to_value_string (self, _tmp5_);
#line 996 "valagirwriter.vala"
	value = _tmp6_;
#line 998 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 999 "valagirwriter.vala"
	_tmp7_ = self->priv->buffer;
#line 999 "valagirwriter.vala"
	_tmp8_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) c);
#line 999 "valagirwriter.vala"
	_tmp9_ = _tmp8_;
#line 999 "valagirwriter.vala"
	_tmp10_ = vala_get_ccode_name ((ValaCodeNode*) c);
#line 999 "valagirwriter.vala"
	_tmp11_ = _tmp10_;
#line 999 "valagirwriter.vala"
	g_string_append_printf (_tmp7_, "<constant name=\"%s\" c:identifier=\"%s\"", _tmp9_, _tmp11_);
#line 999 "valagirwriter.vala"
	_g_free0 (_tmp11_);
#line 999 "valagirwriter.vala"
	_g_free0 (_tmp9_);
#line 1000 "valagirwriter.vala"
	_tmp12_ = self->priv->buffer;
#line 1000 "valagirwriter.vala"
	_tmp13_ = value;
#line 1000 "valagirwriter.vala"
	g_string_append_printf (_tmp12_, " value=\"%s\"", _tmp13_);
#line 1001 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) c);
#line 1002 "valagirwriter.vala"
	_tmp14_ = self->priv->buffer;
#line 1002 "valagirwriter.vala"
	g_string_append_printf (_tmp14_, ">\n");
#line 1003 "valagirwriter.vala"
	_tmp15_ = self->priv->indent;
#line 1003 "valagirwriter.vala"
	self->priv->indent = _tmp15_ + 1;
#line 1005 "valagirwriter.vala"
	_tmp16_ = vala_gir_writer_get_constant_comment (self, c);
#line 1005 "valagirwriter.vala"
	_tmp17_ = _tmp16_;
#line 1005 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp17_);
#line 1005 "valagirwriter.vala"
	_g_free0 (_tmp17_);
#line 1007 "valagirwriter.vala"
	_tmp18_ = initializer;
#line 1007 "valagirwriter.vala"
	_tmp19_ = vala_expression_get_value_type (_tmp18_);
#line 1007 "valagirwriter.vala"
	_tmp20_ = _tmp19_;
#line 1007 "valagirwriter.vala"
	vala_gir_writer_write_type (self, _tmp20_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1009 "valagirwriter.vala"
	_tmp21_ = self->priv->indent;
#line 1009 "valagirwriter.vala"
	self->priv->indent = _tmp21_ - 1;
#line 1010 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1011 "valagirwriter.vala"
	_tmp22_ = self->priv->buffer;
#line 1011 "valagirwriter.vala"
	g_string_append_printf (_tmp22_, "</constant>\n");
#line 981 "valagirwriter.vala"
	_g_free0 (value);
#line 981 "valagirwriter.vala"
	_vala_code_node_unref0 (initializer);
#line 6664 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_field (ValaCodeVisitor* base,
                                  ValaField* f)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	GString* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	ValaDataType* _tmp5_;
	ValaDataType* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	GString* _tmp10_;
	gint _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	ValaDataType* _tmp14_;
	ValaDataType* _tmp15_;
	gint _tmp16_;
	GString* _tmp17_;
	gboolean _tmp18_ = FALSE;
	ValaDataType* _tmp19_;
	ValaDataType* _tmp20_;
#line 1014 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1015 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) f);
#line 1015 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1015 "valagirwriter.vala"
	if (_tmp1_) {
#line 1016 "valagirwriter.vala"
		return;
#line 6702 "valagirwriter.vala.c"
	}
#line 1019 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) f)) {
#line 1020 "valagirwriter.vala"
		return;
#line 6708 "valagirwriter.vala.c"
	}
#line 1023 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) f)) {
#line 1024 "valagirwriter.vala"
		return;
#line 6714 "valagirwriter.vala.c"
	}
#line 1027 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1028 "valagirwriter.vala"
	_tmp2_ = self->priv->buffer;
#line 1028 "valagirwriter.vala"
	_tmp3_ = vala_get_ccode_name ((ValaCodeNode*) f);
#line 1028 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 1028 "valagirwriter.vala"
	g_string_append_printf (_tmp2_, "<field name=\"%s\" writable=\"1\"", _tmp4_);
#line 1028 "valagirwriter.vala"
	_g_free0 (_tmp4_);
#line 1029 "valagirwriter.vala"
	_tmp5_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1029 "valagirwriter.vala"
	_tmp6_ = _tmp5_;
#line 1029 "valagirwriter.vala"
	_tmp7_ = vala_data_type_get_nullable (_tmp6_);
#line 1029 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 1029 "valagirwriter.vala"
	if (_tmp8_) {
#line 6738 "valagirwriter.vala.c"
		GString* _tmp9_;
#line 1030 "valagirwriter.vala"
		_tmp9_ = self->priv->buffer;
#line 1030 "valagirwriter.vala"
		g_string_append_printf (_tmp9_, " nullable=\"1\"");
#line 6744 "valagirwriter.vala.c"
	}
#line 1032 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) f);
#line 1033 "valagirwriter.vala"
	_tmp10_ = self->priv->buffer;
#line 1033 "valagirwriter.vala"
	g_string_append_printf (_tmp10_, ">\n");
#line 1034 "valagirwriter.vala"
	_tmp11_ = self->priv->indent;
#line 1034 "valagirwriter.vala"
	self->priv->indent = _tmp11_ + 1;
#line 1036 "valagirwriter.vala"
	_tmp12_ = vala_gir_writer_get_field_comment (self, f);
#line 1036 "valagirwriter.vala"
	_tmp13_ = _tmp12_;
#line 1036 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp13_);
#line 1036 "valagirwriter.vala"
	_g_free0 (_tmp13_);
#line 1038 "valagirwriter.vala"
	_tmp14_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1038 "valagirwriter.vala"
	_tmp15_ = _tmp14_;
#line 1038 "valagirwriter.vala"
	vala_gir_writer_write_type (self, _tmp15_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1040 "valagirwriter.vala"
	_tmp16_ = self->priv->indent;
#line 1040 "valagirwriter.vala"
	self->priv->indent = _tmp16_ - 1;
#line 1041 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1042 "valagirwriter.vala"
	_tmp17_ = self->priv->buffer;
#line 1042 "valagirwriter.vala"
	g_string_append_printf (_tmp17_, "</field>\n");
#line 1044 "valagirwriter.vala"
	_tmp19_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1044 "valagirwriter.vala"
	_tmp20_ = _tmp19_;
#line 1044 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp20_, VALA_TYPE_ARRAY_TYPE)) {
#line 1044 "valagirwriter.vala"
		_tmp18_ = vala_get_ccode_array_length ((ValaCodeNode*) f);
#line 6788 "valagirwriter.vala.c"
	} else {
#line 1044 "valagirwriter.vala"
		_tmp18_ = FALSE;
#line 6792 "valagirwriter.vala.c"
	}
#line 1044 "valagirwriter.vala"
	if (_tmp18_) {
#line 6796 "valagirwriter.vala.c"
		ValaArrayType* array_type = NULL;
		ValaDataType* _tmp21_;
		ValaDataType* _tmp22_;
		ValaArrayType* _tmp23_;
		ValaArrayType* _tmp24_;
		gboolean _tmp25_;
		gboolean _tmp26_;
#line 1045 "valagirwriter.vala"
		_tmp21_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1045 "valagirwriter.vala"
		_tmp22_ = _tmp21_;
#line 1045 "valagirwriter.vala"
		_tmp23_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp22_, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1045 "valagirwriter.vala"
		array_type = _tmp23_;
#line 1046 "valagirwriter.vala"
		_tmp24_ = array_type;
#line 1046 "valagirwriter.vala"
		_tmp25_ = vala_array_type_get_fixed_length (_tmp24_);
#line 1046 "valagirwriter.vala"
		_tmp26_ = _tmp25_;
#line 1046 "valagirwriter.vala"
		if (!_tmp26_) {
#line 6820 "valagirwriter.vala.c"
			{
				gint i = 0;
#line 1047 "valagirwriter.vala"
				i = 0;
#line 6825 "valagirwriter.vala.c"
				{
					gboolean _tmp27_ = FALSE;
#line 1047 "valagirwriter.vala"
					_tmp27_ = TRUE;
#line 1047 "valagirwriter.vala"
					while (TRUE) {
#line 6832 "valagirwriter.vala.c"
						ValaArrayType* _tmp29_;
						gint _tmp30_;
						gint _tmp31_;
						GString* _tmp32_;
						gchar* _tmp33_;
						gchar* _tmp34_;
						GString* _tmp35_;
						gint _tmp36_;
						ValaArrayType* _tmp37_;
						ValaDataType* _tmp38_;
						ValaDataType* _tmp39_;
						gint _tmp40_;
						GString* _tmp41_;
#line 1047 "valagirwriter.vala"
						if (!_tmp27_) {
#line 6848 "valagirwriter.vala.c"
							gint _tmp28_;
#line 1047 "valagirwriter.vala"
							_tmp28_ = i;
#line 1047 "valagirwriter.vala"
							i = _tmp28_ + 1;
#line 6854 "valagirwriter.vala.c"
						}
#line 1047 "valagirwriter.vala"
						_tmp27_ = FALSE;
#line 1047 "valagirwriter.vala"
						_tmp29_ = array_type;
#line 1047 "valagirwriter.vala"
						_tmp30_ = vala_array_type_get_rank (_tmp29_);
#line 1047 "valagirwriter.vala"
						_tmp31_ = _tmp30_;
#line 1047 "valagirwriter.vala"
						if (!(i < _tmp31_)) {
#line 1047 "valagirwriter.vala"
							break;
#line 6868 "valagirwriter.vala.c"
						}
#line 1048 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 1049 "valagirwriter.vala"
						_tmp32_ = self->priv->buffer;
#line 1049 "valagirwriter.vala"
						_tmp33_ = vala_get_ccode_name ((ValaCodeNode*) f);
#line 1049 "valagirwriter.vala"
						_tmp34_ = _tmp33_;
#line 1049 "valagirwriter.vala"
						g_string_append_printf (_tmp32_, "<field name=\"%s_length%i\"", _tmp34_, i + 1);
#line 1049 "valagirwriter.vala"
						_g_free0 (_tmp34_);
#line 1050 "valagirwriter.vala"
						vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) f);
#line 1051 "valagirwriter.vala"
						_tmp35_ = self->priv->buffer;
#line 1051 "valagirwriter.vala"
						g_string_append_printf (_tmp35_, ">\n");
#line 1052 "valagirwriter.vala"
						_tmp36_ = self->priv->indent;
#line 1052 "valagirwriter.vala"
						self->priv->indent = _tmp36_ + 1;
#line 1053 "valagirwriter.vala"
						_tmp37_ = array_type;
#line 1053 "valagirwriter.vala"
						_tmp38_ = vala_array_type_get_length_type (_tmp37_);
#line 1053 "valagirwriter.vala"
						_tmp39_ = _tmp38_;
#line 1053 "valagirwriter.vala"
						vala_gir_writer_write_type (self, _tmp39_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1054 "valagirwriter.vala"
						_tmp40_ = self->priv->indent;
#line 1054 "valagirwriter.vala"
						self->priv->indent = _tmp40_ - 1;
#line 1055 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 1056 "valagirwriter.vala"
						_tmp41_ = self->priv->buffer;
#line 1056 "valagirwriter.vala"
						g_string_append_printf (_tmp41_, "</field>\n");
#line 6910 "valagirwriter.vala.c"
					}
				}
			}
		}
#line 1044 "valagirwriter.vala"
		_vala_code_node_unref0 (array_type);
#line 6917 "valagirwriter.vala.c"
	} else {
		ValaDataType* _tmp42_;
		ValaDataType* _tmp43_;
#line 1059 "valagirwriter.vala"
		_tmp42_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1059 "valagirwriter.vala"
		_tmp43_ = _tmp42_;
#line 1059 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp43_, VALA_TYPE_DELEGATE_TYPE)) {
#line 6927 "valagirwriter.vala.c"
			ValaDelegateType* deleg_type = NULL;
			ValaDataType* _tmp44_;
			ValaDataType* _tmp45_;
			ValaDelegateType* _tmp46_;
			ValaDelegateType* _tmp47_;
			ValaDelegate* _tmp48_;
			ValaDelegate* _tmp49_;
			gboolean _tmp50_;
			gboolean _tmp51_;
#line 1060 "valagirwriter.vala"
			_tmp44_ = vala_variable_get_variable_type ((ValaVariable*) f);
#line 1060 "valagirwriter.vala"
			_tmp45_ = _tmp44_;
#line 1060 "valagirwriter.vala"
			_tmp46_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp45_, VALA_TYPE_DELEGATE_TYPE, ValaDelegateType));
#line 1060 "valagirwriter.vala"
			deleg_type = _tmp46_;
#line 1061 "valagirwriter.vala"
			_tmp47_ = deleg_type;
#line 1061 "valagirwriter.vala"
			_tmp48_ = vala_delegate_type_get_delegate_symbol (_tmp47_);
#line 1061 "valagirwriter.vala"
			_tmp49_ = _tmp48_;
#line 1061 "valagirwriter.vala"
			_tmp50_ = vala_delegate_get_has_target (_tmp49_);
#line 1061 "valagirwriter.vala"
			_tmp51_ = _tmp50_;
#line 1061 "valagirwriter.vala"
			if (_tmp51_) {
#line 6957 "valagirwriter.vala.c"
				GString* _tmp52_;
				gchar* _tmp53_;
				gchar* _tmp54_;
				GString* _tmp55_;
				gint _tmp56_;
				GString* _tmp57_;
				gint _tmp58_;
				GString* _tmp59_;
				ValaDelegateType* _tmp60_;
#line 1062 "valagirwriter.vala"
				vala_gir_writer_write_indent (self);
#line 1063 "valagirwriter.vala"
				_tmp52_ = self->priv->buffer;
#line 1063 "valagirwriter.vala"
				_tmp53_ = vala_get_ccode_delegate_target_name ((ValaVariable*) f);
#line 1063 "valagirwriter.vala"
				_tmp54_ = _tmp53_;
#line 1063 "valagirwriter.vala"
				g_string_append_printf (_tmp52_, "<field name=\"%s\"", _tmp54_);
#line 1063 "valagirwriter.vala"
				_g_free0 (_tmp54_);
#line 1064 "valagirwriter.vala"
				vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) f);
#line 1065 "valagirwriter.vala"
				_tmp55_ = self->priv->buffer;
#line 1065 "valagirwriter.vala"
				g_string_append_printf (_tmp55_, ">\n");
#line 1066 "valagirwriter.vala"
				_tmp56_ = self->priv->indent;
#line 1066 "valagirwriter.vala"
				self->priv->indent = _tmp56_ + 1;
#line 1067 "valagirwriter.vala"
				vala_gir_writer_write_indent (self);
#line 1068 "valagirwriter.vala"
				_tmp57_ = self->priv->buffer;
#line 1068 "valagirwriter.vala"
				g_string_append_printf (_tmp57_, "<type name=\"gpointer\" c:type=\"gpointer\"/>\n");
#line 1069 "valagirwriter.vala"
				_tmp58_ = self->priv->indent;
#line 1069 "valagirwriter.vala"
				self->priv->indent = _tmp58_ - 1;
#line 1070 "valagirwriter.vala"
				vala_gir_writer_write_indent (self);
#line 1071 "valagirwriter.vala"
				_tmp59_ = self->priv->buffer;
#line 1071 "valagirwriter.vala"
				g_string_append_printf (_tmp59_, "</field>\n");
#line 1072 "valagirwriter.vala"
				_tmp60_ = deleg_type;
#line 1072 "valagirwriter.vala"
				if (vala_data_type_is_disposable ((ValaDataType*) _tmp60_)) {
#line 7009 "valagirwriter.vala.c"
					GString* _tmp61_;
					gchar* _tmp62_;
					gchar* _tmp63_;
					GString* _tmp64_;
					gint _tmp65_;
					GString* _tmp66_;
					gint _tmp67_;
					GString* _tmp68_;
#line 1073 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 1074 "valagirwriter.vala"
					_tmp61_ = self->priv->buffer;
#line 1074 "valagirwriter.vala"
					_tmp62_ = vala_get_ccode_delegate_target_destroy_notify_name ((ValaVariable*) f);
#line 1074 "valagirwriter.vala"
					_tmp63_ = _tmp62_;
#line 1074 "valagirwriter.vala"
					g_string_append_printf (_tmp61_, "<field name=\"%s\"", _tmp63_);
#line 1074 "valagirwriter.vala"
					_g_free0 (_tmp63_);
#line 1075 "valagirwriter.vala"
					vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) f);
#line 1076 "valagirwriter.vala"
					_tmp64_ = self->priv->buffer;
#line 1076 "valagirwriter.vala"
					g_string_append_printf (_tmp64_, ">\n");
#line 1077 "valagirwriter.vala"
					_tmp65_ = self->priv->indent;
#line 1077 "valagirwriter.vala"
					self->priv->indent = _tmp65_ + 1;
#line 1078 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 1079 "valagirwriter.vala"
					_tmp66_ = self->priv->buffer;
#line 1079 "valagirwriter.vala"
					g_string_append_printf (_tmp66_, "<type name=\"GLib.DestroyNotify\" c:type=\"GDestroyNotify\"/>\n");
#line 1080 "valagirwriter.vala"
					_tmp67_ = self->priv->indent;
#line 1080 "valagirwriter.vala"
					self->priv->indent = _tmp67_ - 1;
#line 1081 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 1082 "valagirwriter.vala"
					_tmp68_ = self->priv->buffer;
#line 1082 "valagirwriter.vala"
					g_string_append_printf (_tmp68_, "</field>\n");
#line 7056 "valagirwriter.vala.c"
				}
			}
#line 1059 "valagirwriter.vala"
			_vala_code_node_unref0 (deleg_type);
#line 7061 "valagirwriter.vala.c"
		}
	}
}

static void
vala_gir_writer_write_implicit_params (ValaGIRWriter* self,
                                       ValaDataType* type,
                                       gint* index,
                                       gboolean has_array_length,
                                       const gchar* name,
                                       ValaParameterDirection direction)
{
	gboolean _tmp0_ = FALSE;
#line 1089 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_ARRAY_TYPE)) {
#line 1089 "valagirwriter.vala"
		_tmp0_ = has_array_length;
#line 7079 "valagirwriter.vala.c"
	} else {
#line 1089 "valagirwriter.vala"
		_tmp0_ = FALSE;
#line 7083 "valagirwriter.vala.c"
	}
#line 1089 "valagirwriter.vala"
	if (_tmp0_) {
#line 7087 "valagirwriter.vala.c"
		{
			gint i = 0;
#line 1090 "valagirwriter.vala"
			i = 0;
#line 7092 "valagirwriter.vala.c"
			{
				gboolean _tmp1_ = FALSE;
#line 1090 "valagirwriter.vala"
				_tmp1_ = TRUE;
#line 1090 "valagirwriter.vala"
				while (TRUE) {
#line 7099 "valagirwriter.vala.c"
					gint _tmp3_;
					gint _tmp4_;
					ValaDataType* _tmp5_;
					ValaDataType* _tmp6_;
					gchar* _tmp7_;
					gchar* _tmp8_;
#line 1090 "valagirwriter.vala"
					if (!_tmp1_) {
#line 7108 "valagirwriter.vala.c"
						gint _tmp2_;
#line 1090 "valagirwriter.vala"
						_tmp2_ = i;
#line 1090 "valagirwriter.vala"
						i = _tmp2_ + 1;
#line 7114 "valagirwriter.vala.c"
					}
#line 1090 "valagirwriter.vala"
					_tmp1_ = FALSE;
#line 1090 "valagirwriter.vala"
					_tmp3_ = vala_array_type_get_rank (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1090 "valagirwriter.vala"
					_tmp4_ = _tmp3_;
#line 1090 "valagirwriter.vala"
					if (!(i < _tmp4_)) {
#line 1090 "valagirwriter.vala"
						break;
#line 7126 "valagirwriter.vala.c"
					}
#line 1091 "valagirwriter.vala"
					_tmp5_ = vala_array_type_get_length_type (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1091 "valagirwriter.vala"
					_tmp6_ = _tmp5_;
#line 1091 "valagirwriter.vala"
					_tmp7_ = g_strdup_printf ("%s_length%i", name, i + 1);
#line 1091 "valagirwriter.vala"
					_tmp8_ = _tmp7_;
#line 1091 "valagirwriter.vala"
					vala_gir_writer_write_param_or_return (self, _tmp6_, "parameter", index, has_array_length, _tmp8_, NULL, direction, FALSE, FALSE, FALSE);
#line 1091 "valagirwriter.vala"
					_g_free0 (_tmp8_);
#line 7140 "valagirwriter.vala.c"
				}
			}
		}
	} else {
#line 1093 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_DELEGATE_TYPE)) {
#line 7147 "valagirwriter.vala.c"
			ValaDelegateType* deleg_type = NULL;
			ValaDelegateType* _tmp9_;
			ValaDelegateType* _tmp10_;
			ValaDelegate* _tmp11_;
			ValaDelegate* _tmp12_;
			gboolean _tmp13_;
			gboolean _tmp14_;
#line 1094 "valagirwriter.vala"
			_tmp9_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_DELEGATE_TYPE, ValaDelegateType));
#line 1094 "valagirwriter.vala"
			deleg_type = _tmp9_;
#line 1095 "valagirwriter.vala"
			_tmp10_ = deleg_type;
#line 1095 "valagirwriter.vala"
			_tmp11_ = vala_delegate_type_get_delegate_symbol (_tmp10_);
#line 1095 "valagirwriter.vala"
			_tmp12_ = _tmp11_;
#line 1095 "valagirwriter.vala"
			_tmp13_ = vala_delegate_get_has_target (_tmp12_);
#line 1095 "valagirwriter.vala"
			_tmp14_ = _tmp13_;
#line 1095 "valagirwriter.vala"
			if (_tmp14_) {
#line 7171 "valagirwriter.vala.c"
				ValaPointerType* data_type = NULL;
				ValaVoidType* _tmp15_;
				ValaVoidType* _tmp16_;
				ValaPointerType* _tmp17_;
				ValaPointerType* _tmp18_;
				ValaPointerType* _tmp19_;
				gchar* _tmp20_;
				gchar* _tmp21_;
				ValaDelegateType* _tmp22_;
#line 1096 "valagirwriter.vala"
				_tmp15_ = vala_void_type_new (NULL);
#line 1096 "valagirwriter.vala"
				_tmp16_ = _tmp15_;
#line 1096 "valagirwriter.vala"
				_tmp17_ = vala_pointer_type_new ((ValaDataType*) _tmp16_, NULL);
#line 1096 "valagirwriter.vala"
				_tmp18_ = _tmp17_;
#line 1096 "valagirwriter.vala"
				_vala_code_node_unref0 (_tmp16_);
#line 1096 "valagirwriter.vala"
				data_type = _tmp18_;
#line 1097 "valagirwriter.vala"
				_tmp19_ = data_type;
#line 1097 "valagirwriter.vala"
				_tmp20_ = g_strdup_printf ("%s_target", name);
#line 1097 "valagirwriter.vala"
				_tmp21_ = _tmp20_;
#line 1097 "valagirwriter.vala"
				vala_gir_writer_write_param_or_return (self, (ValaDataType*) _tmp19_, "parameter", index, FALSE, _tmp21_, NULL, direction, FALSE, FALSE, FALSE);
#line 1097 "valagirwriter.vala"
				_g_free0 (_tmp21_);
#line 1098 "valagirwriter.vala"
				_tmp22_ = deleg_type;
#line 1098 "valagirwriter.vala"
				if (vala_data_type_is_disposable ((ValaDataType*) _tmp22_)) {
#line 7207 "valagirwriter.vala.c"
					ValaDelegateType* notify_type = NULL;
					ValaCodeContext* _tmp23_;
					ValaNamespace* _tmp24_;
					ValaNamespace* _tmp25_;
					ValaScope* _tmp26_;
					ValaScope* _tmp27_;
					ValaSymbol* _tmp28_;
					ValaSymbol* _tmp29_;
					ValaScope* _tmp30_;
					ValaScope* _tmp31_;
					ValaSymbol* _tmp32_;
					ValaDelegate* _tmp33_;
					ValaDelegate* _tmp34_;
					ValaDelegateType* _tmp35_;
					ValaDelegateType* _tmp36_;
					ValaDelegateType* _tmp37_;
					gchar* _tmp38_;
					gchar* _tmp39_;
#line 1099 "valagirwriter.vala"
					_tmp23_ = self->priv->context;
#line 1099 "valagirwriter.vala"
					_tmp24_ = vala_code_context_get_root (_tmp23_);
#line 1099 "valagirwriter.vala"
					_tmp25_ = _tmp24_;
#line 1099 "valagirwriter.vala"
					_tmp26_ = vala_symbol_get_scope ((ValaSymbol*) _tmp25_);
#line 1099 "valagirwriter.vala"
					_tmp27_ = _tmp26_;
#line 1099 "valagirwriter.vala"
					_tmp28_ = vala_scope_lookup (_tmp27_, "GLib");
#line 1099 "valagirwriter.vala"
					_tmp29_ = _tmp28_;
#line 1099 "valagirwriter.vala"
					_tmp30_ = vala_symbol_get_scope (_tmp29_);
#line 1099 "valagirwriter.vala"
					_tmp31_ = _tmp30_;
#line 1099 "valagirwriter.vala"
					_tmp32_ = vala_scope_lookup (_tmp31_, "DestroyNotify");
#line 1099 "valagirwriter.vala"
					_tmp33_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp32_, VALA_TYPE_DELEGATE) ? ((ValaDelegate*) _tmp32_) : NULL;
#line 1099 "valagirwriter.vala"
					if (_tmp33_ == NULL) {
#line 1099 "valagirwriter.vala"
						_vala_code_node_unref0 (_tmp32_);
#line 7252 "valagirwriter.vala.c"
					}
#line 1099 "valagirwriter.vala"
					_tmp34_ = _tmp33_;
#line 1099 "valagirwriter.vala"
					_tmp35_ = vala_delegate_type_new (_tmp34_, NULL);
#line 1099 "valagirwriter.vala"
					_tmp36_ = _tmp35_;
#line 1099 "valagirwriter.vala"
					_vala_code_node_unref0 (_tmp34_);
#line 1099 "valagirwriter.vala"
					_vala_code_node_unref0 (_tmp29_);
#line 1099 "valagirwriter.vala"
					notify_type = _tmp36_;
#line 1100 "valagirwriter.vala"
					_tmp37_ = notify_type;
#line 1100 "valagirwriter.vala"
					_tmp38_ = g_strdup_printf ("%s_target_destroy_notify", name);
#line 1100 "valagirwriter.vala"
					_tmp39_ = _tmp38_;
#line 1100 "valagirwriter.vala"
					vala_gir_writer_write_param_or_return (self, (ValaDataType*) _tmp37_, "parameter", index, FALSE, _tmp39_, NULL, direction, FALSE, FALSE, FALSE);
#line 1100 "valagirwriter.vala"
					_g_free0 (_tmp39_);
#line 1098 "valagirwriter.vala"
					_vala_code_node_unref0 (notify_type);
#line 7278 "valagirwriter.vala.c"
				}
#line 1095 "valagirwriter.vala"
				_vala_code_node_unref0 (data_type);
#line 7282 "valagirwriter.vala.c"
			}
#line 1093 "valagirwriter.vala"
			_vala_code_node_unref0 (deleg_type);
#line 7286 "valagirwriter.vala.c"
		}
	}
}

static void
vala_gir_writer_skip_implicit_params (ValaGIRWriter* self,
                                      ValaDataType* type,
                                      gint* index,
                                      gboolean has_array_length)
{
	gboolean _tmp0_ = FALSE;
#line 1107 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_ARRAY_TYPE)) {
#line 1107 "valagirwriter.vala"
		_tmp0_ = has_array_length;
#line 7302 "valagirwriter.vala.c"
	} else {
#line 1107 "valagirwriter.vala"
		_tmp0_ = FALSE;
#line 7306 "valagirwriter.vala.c"
	}
#line 1107 "valagirwriter.vala"
	if (_tmp0_) {
#line 7310 "valagirwriter.vala.c"
		gint _tmp1_;
		gint _tmp2_;
#line 1108 "valagirwriter.vala"
		_tmp1_ = vala_array_type_get_rank (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1108 "valagirwriter.vala"
		_tmp2_ = _tmp1_;
#line 1108 "valagirwriter.vala"
		*index = (*index) + _tmp2_;
#line 7319 "valagirwriter.vala.c"
	} else {
#line 1109 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_DELEGATE_TYPE)) {
#line 7323 "valagirwriter.vala.c"
			gint _tmp3_;
			ValaDelegateType* deleg_type = NULL;
			ValaDelegateType* _tmp4_;
			ValaDelegateType* _tmp5_;
#line 1110 "valagirwriter.vala"
			_tmp3_ = *index;
#line 1110 "valagirwriter.vala"
			*index = _tmp3_ + 1;
#line 1111 "valagirwriter.vala"
			_tmp4_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_DELEGATE_TYPE, ValaDelegateType));
#line 1111 "valagirwriter.vala"
			deleg_type = _tmp4_;
#line 1112 "valagirwriter.vala"
			_tmp5_ = deleg_type;
#line 1112 "valagirwriter.vala"
			if (vala_data_type_is_disposable ((ValaDataType*) _tmp5_)) {
#line 7340 "valagirwriter.vala.c"
				gint _tmp6_;
#line 1113 "valagirwriter.vala"
				_tmp6_ = *index;
#line 1113 "valagirwriter.vala"
				*index = _tmp6_ + 1;
#line 7346 "valagirwriter.vala.c"
			}
#line 1109 "valagirwriter.vala"
			_vala_code_node_unref0 (deleg_type);
#line 7350 "valagirwriter.vala.c"
		}
	}
}

static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
	gchar* result;
#line 1543 "glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1543 "glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 7368 "valagirwriter.vala.c"
	} else {
#line 1543 "glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 7372 "valagirwriter.vala.c"
	}
#line 1543 "glib-2.0.vapi"
	if (_tmp1_) {
#line 1543 "glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 7378 "valagirwriter.vala.c"
	} else {
#line 1543 "glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 7382 "valagirwriter.vala.c"
	}
#line 1543 "glib-2.0.vapi"
	if (_tmp0_) {
#line 7386 "valagirwriter.vala.c"
		gchar* _tmp2_;
#line 1544 "glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1544 "glib-2.0.vapi"
		result = _tmp2_;
#line 1544 "glib-2.0.vapi"
		return result;
#line 7394 "valagirwriter.vala.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1547 "glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1547 "glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1547 "glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1547 "glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1547 "glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1547 "glib-2.0.vapi"
		regex = _tmp6_;
#line 1547 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1547 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 7422 "valagirwriter.vala.c"
				goto __catch0_g_regex_error;
			}
#line 1547 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1547 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1547 "glib-2.0.vapi"
			return NULL;
#line 7431 "valagirwriter.vala.c"
		}
#line 1548 "glib-2.0.vapi"
		_tmp8_ = regex;
#line 1548 "glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1548 "glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1548 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1548 "glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1548 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 7445 "valagirwriter.vala.c"
				goto __catch0_g_regex_error;
			}
#line 1548 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1548 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1548 "glib-2.0.vapi"
			return NULL;
#line 7454 "valagirwriter.vala.c"
		}
#line 1548 "glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1548 "glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1548 "glib-2.0.vapi"
		result = _tmp10_;
#line 1548 "glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1548 "glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1548 "glib-2.0.vapi"
		return result;
#line 7468 "valagirwriter.vala.c"
	}
	goto __finally0;
	__catch0_g_regex_error:
	{
#line 1546 "glib-2.0.vapi"
		g_clear_error (&_inner_error0_);
#line 1550 "glib-2.0.vapi"
		g_assert_not_reached ();
#line 7477 "valagirwriter.vala.c"
	}
	__finally0:
#line 1546 "glib-2.0.vapi"
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1546 "glib-2.0.vapi"
	g_clear_error (&_inner_error0_);
#line 1546 "glib-2.0.vapi"
	return NULL;
#line 7486 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_type_parameter (ValaGIRWriter* self,
                                      ValaTypeParameter* type_parameter,
                                      const gchar* tag_type)
{
	gint _tmp8_;
	GString* _tmp9_;
	gint _tmp10_;
	GString* _tmp11_;
	gint _tmp20_;
	GString* _tmp21_;
	gint _tmp22_;
	GString* _tmp23_;
	gint _tmp32_;
	GString* _tmp33_;
	gint _tmp34_;
	GString* _tmp35_;
#line 1119 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1120 "valagirwriter.vala"
	if (g_strcmp0 (tag_type, "property") == 0) {
#line 7510 "valagirwriter.vala.c"
		GString* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
#line 1121 "valagirwriter.vala"
		_tmp0_ = self->priv->buffer;
#line 1121 "valagirwriter.vala"
		_tmp1_ = vala_get_ccode_type_id ((ValaCodeNode*) type_parameter);
#line 1121 "valagirwriter.vala"
		_tmp2_ = _tmp1_;
#line 1121 "valagirwriter.vala"
		_tmp3_ = string_replace (_tmp2_, "_", "-");
#line 1121 "valagirwriter.vala"
		_tmp4_ = _tmp3_;
#line 1121 "valagirwriter.vala"
		g_string_append_printf (_tmp0_, "<%s name=\"%s\" writable=\"1\" construct-only=\"1\">\n", tag_type, _tmp4_);
#line 1121 "valagirwriter.vala"
		_g_free0 (_tmp4_);
#line 1121 "valagirwriter.vala"
		_g_free0 (_tmp2_);
#line 7532 "valagirwriter.vala.c"
	} else {
		GString* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
#line 1123 "valagirwriter.vala"
		_tmp5_ = self->priv->buffer;
#line 1123 "valagirwriter.vala"
		_tmp6_ = vala_get_ccode_type_id ((ValaCodeNode*) type_parameter);
#line 1123 "valagirwriter.vala"
		_tmp7_ = _tmp6_;
#line 1123 "valagirwriter.vala"
		g_string_append_printf (_tmp5_, "<%s name=\"%s\" transfer-ownership=\"none\">\n", tag_type, _tmp7_);
#line 1123 "valagirwriter.vala"
		_g_free0 (_tmp7_);
#line 7547 "valagirwriter.vala.c"
	}
#line 1125 "valagirwriter.vala"
	_tmp8_ = self->priv->indent;
#line 1125 "valagirwriter.vala"
	self->priv->indent = _tmp8_ + 1;
#line 1126 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1127 "valagirwriter.vala"
	_tmp9_ = self->priv->buffer;
#line 1127 "valagirwriter.vala"
	g_string_append_printf (_tmp9_, "<type name=\"GType\" c:type=\"GType\"/>\n");
#line 1128 "valagirwriter.vala"
	_tmp10_ = self->priv->indent;
#line 1128 "valagirwriter.vala"
	self->priv->indent = _tmp10_ - 1;
#line 1129 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1130 "valagirwriter.vala"
	_tmp11_ = self->priv->buffer;
#line 1130 "valagirwriter.vala"
	g_string_append_printf (_tmp11_, "</%s>\n", tag_type);
#line 1131 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1132 "valagirwriter.vala"
	if (g_strcmp0 (tag_type, "property") == 0) {
#line 7573 "valagirwriter.vala.c"
		GString* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
#line 1133 "valagirwriter.vala"
		_tmp12_ = self->priv->buffer;
#line 1133 "valagirwriter.vala"
		_tmp13_ = vala_get_ccode_copy_function ((ValaTypeSymbol*) type_parameter);
#line 1133 "valagirwriter.vala"
		_tmp14_ = _tmp13_;
#line 1133 "valagirwriter.vala"
		_tmp15_ = string_replace (_tmp14_, "_", "-");
#line 1133 "valagirwriter.vala"
		_tmp16_ = _tmp15_;
#line 1133 "valagirwriter.vala"
		g_string_append_printf (_tmp12_, "<%s name=\"%s\" writable=\"1\" construct-only=\"1\">\n", tag_type, _tmp16_);
#line 1133 "valagirwriter.vala"
		_g_free0 (_tmp16_);
#line 1133 "valagirwriter.vala"
		_g_free0 (_tmp14_);
#line 7595 "valagirwriter.vala.c"
	} else {
		GString* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
#line 1135 "valagirwriter.vala"
		_tmp17_ = self->priv->buffer;
#line 1135 "valagirwriter.vala"
		_tmp18_ = vala_get_ccode_copy_function ((ValaTypeSymbol*) type_parameter);
#line 1135 "valagirwriter.vala"
		_tmp19_ = _tmp18_;
#line 1135 "valagirwriter.vala"
		g_string_append_printf (_tmp17_, "<%s name=\"%s\" transfer-ownership=\"none\">\n", tag_type, _tmp19_);
#line 1135 "valagirwriter.vala"
		_g_free0 (_tmp19_);
#line 7610 "valagirwriter.vala.c"
	}
#line 1137 "valagirwriter.vala"
	_tmp20_ = self->priv->indent;
#line 1137 "valagirwriter.vala"
	self->priv->indent = _tmp20_ + 1;
#line 1138 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1139 "valagirwriter.vala"
	_tmp21_ = self->priv->buffer;
#line 1139 "valagirwriter.vala"
	g_string_append_printf (_tmp21_, "<type name=\"GObject.BoxedCopyFunc\" c:type=\"GBoxedCopyFunc\"/>\n");
#line 1140 "valagirwriter.vala"
	_tmp22_ = self->priv->indent;
#line 1140 "valagirwriter.vala"
	self->priv->indent = _tmp22_ - 1;
#line 1141 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1142 "valagirwriter.vala"
	_tmp23_ = self->priv->buffer;
#line 1142 "valagirwriter.vala"
	g_string_append_printf (_tmp23_, "</%s>\n", tag_type);
#line 1143 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1144 "valagirwriter.vala"
	if (g_strcmp0 (tag_type, "property") == 0) {
#line 7636 "valagirwriter.vala.c"
		GString* _tmp24_;
		gchar* _tmp25_;
		gchar* _tmp26_;
		gchar* _tmp27_;
		gchar* _tmp28_;
#line 1145 "valagirwriter.vala"
		_tmp24_ = self->priv->buffer;
#line 1145 "valagirwriter.vala"
		_tmp25_ = vala_get_ccode_destroy_function ((ValaTypeSymbol*) type_parameter);
#line 1145 "valagirwriter.vala"
		_tmp26_ = _tmp25_;
#line 1145 "valagirwriter.vala"
		_tmp27_ = string_replace (_tmp26_, "_", "-");
#line 1145 "valagirwriter.vala"
		_tmp28_ = _tmp27_;
#line 1145 "valagirwriter.vala"
		g_string_append_printf (_tmp24_, "<%s name=\"%s\" writable=\"1\" construct-only=\"1\">\n", tag_type, _tmp28_);
#line 1145 "valagirwriter.vala"
		_g_free0 (_tmp28_);
#line 1145 "valagirwriter.vala"
		_g_free0 (_tmp26_);
#line 7658 "valagirwriter.vala.c"
	} else {
		GString* _tmp29_;
		gchar* _tmp30_;
		gchar* _tmp31_;
#line 1147 "valagirwriter.vala"
		_tmp29_ = self->priv->buffer;
#line 1147 "valagirwriter.vala"
		_tmp30_ = vala_get_ccode_destroy_function ((ValaTypeSymbol*) type_parameter);
#line 1147 "valagirwriter.vala"
		_tmp31_ = _tmp30_;
#line 1147 "valagirwriter.vala"
		g_string_append_printf (_tmp29_, "<%s name=\"%s\" transfer-ownership=\"none\">\n", tag_type, _tmp31_);
#line 1147 "valagirwriter.vala"
		_g_free0 (_tmp31_);
#line 7673 "valagirwriter.vala.c"
	}
#line 1149 "valagirwriter.vala"
	_tmp32_ = self->priv->indent;
#line 1149 "valagirwriter.vala"
	self->priv->indent = _tmp32_ + 1;
#line 1150 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1151 "valagirwriter.vala"
	_tmp33_ = self->priv->buffer;
#line 1151 "valagirwriter.vala"
	g_string_append_printf (_tmp33_, "<type name=\"GLib.DestroyNotify\" c:type=\"GDestroyNotify\"/>\n");
#line 1152 "valagirwriter.vala"
	_tmp34_ = self->priv->indent;
#line 1152 "valagirwriter.vala"
	self->priv->indent = _tmp34_ - 1;
#line 1153 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1154 "valagirwriter.vala"
	_tmp35_ = self->priv->buffer;
#line 1154 "valagirwriter.vala"
	g_string_append_printf (_tmp35_, "</%s>\n", tag_type);
#line 7695 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_params_and_return (ValaGIRWriter* self,
                                         const gchar* tag_name,
                                         ValaList* params,
                                         ValaList* type_params,
                                         ValaDataType* return_type,
                                         gboolean return_array_length,
                                         const gchar* return_comment,
                                         gboolean constructor,
                                         ValaParameter* instance_param,
                                         gboolean user_data)
{
	gint last_index = 0;
	gboolean _tmp0_ = FALSE;
	gboolean ret_is_struct = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gint _tmp4_;
	gint _tmp5_;
	gboolean _tmp23_ = FALSE;
	gboolean _tmp26_ = FALSE;
	gboolean _tmp27_ = FALSE;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp29_ = FALSE;
	gboolean _tmp30_ = FALSE;
	gint _tmp31_;
	gint _tmp32_;
#line 1158 "valagirwriter.vala"
	last_index = 0;
#line 1159 "valagirwriter.vala"
	if (return_type != NULL) {
#line 1159 "valagirwriter.vala"
		_tmp0_ = vala_data_type_is_real_non_null_struct_type (return_type);
#line 7732 "valagirwriter.vala.c"
	} else {
#line 1159 "valagirwriter.vala"
		_tmp0_ = FALSE;
#line 7736 "valagirwriter.vala.c"
	}
#line 1159 "valagirwriter.vala"
	ret_is_struct = _tmp0_;
#line 1161 "valagirwriter.vala"
	_tmp4_ = vala_collection_get_size ((ValaCollection*) params);
#line 1161 "valagirwriter.vala"
	_tmp5_ = _tmp4_;
#line 1161 "valagirwriter.vala"
	if (_tmp5_ != 0) {
#line 1161 "valagirwriter.vala"
		_tmp3_ = TRUE;
#line 7748 "valagirwriter.vala.c"
	} else {
		gboolean _tmp6_ = FALSE;
#line 1161 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (return_type, VALA_TYPE_ARRAY_TYPE)) {
#line 1161 "valagirwriter.vala"
			_tmp6_ = return_array_length;
#line 7755 "valagirwriter.vala.c"
		} else {
#line 1161 "valagirwriter.vala"
			_tmp6_ = FALSE;
#line 7759 "valagirwriter.vala.c"
		}
#line 1161 "valagirwriter.vala"
		_tmp3_ = _tmp6_;
#line 7763 "valagirwriter.vala.c"
	}
#line 1161 "valagirwriter.vala"
	if (_tmp3_) {
#line 1161 "valagirwriter.vala"
		_tmp2_ = TRUE;
#line 7769 "valagirwriter.vala.c"
	} else {
#line 1161 "valagirwriter.vala"
		_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (return_type, VALA_TYPE_DELEGATE_TYPE);
#line 7773 "valagirwriter.vala.c"
	}
#line 1161 "valagirwriter.vala"
	if (_tmp2_) {
#line 1161 "valagirwriter.vala"
		_tmp1_ = TRUE;
#line 7779 "valagirwriter.vala.c"
	} else {
#line 1161 "valagirwriter.vala"
		_tmp1_ = ret_is_struct;
#line 7783 "valagirwriter.vala.c"
	}
#line 1161 "valagirwriter.vala"
	if (_tmp1_) {
#line 7787 "valagirwriter.vala.c"
		gint index = 0;
#line 1162 "valagirwriter.vala"
		index = 0;
#line 7791 "valagirwriter.vala.c"
		{
			ValaList* _param_list = NULL;
			gint _param_size = 0;
			ValaList* _tmp7_;
			gint _tmp8_;
			gint _tmp9_;
			gint _param_index = 0;
#line 1164 "valagirwriter.vala"
			_param_list = params;
#line 1164 "valagirwriter.vala"
			_tmp7_ = _param_list;
#line 1164 "valagirwriter.vala"
			_tmp8_ = vala_collection_get_size ((ValaCollection*) _tmp7_);
#line 1164 "valagirwriter.vala"
			_tmp9_ = _tmp8_;
#line 1164 "valagirwriter.vala"
			_param_size = _tmp9_;
#line 1164 "valagirwriter.vala"
			_param_index = -1;
#line 1164 "valagirwriter.vala"
			while (TRUE) {
#line 7813 "valagirwriter.vala.c"
				gint _tmp10_;
				gint _tmp11_;
				ValaParameter* param = NULL;
				ValaList* _tmp12_;
				gpointer _tmp13_;
				gint _tmp14_;
				ValaParameter* _tmp15_;
				ValaDataType* _tmp16_;
				ValaDataType* _tmp17_;
				ValaParameter* _tmp18_;
#line 1164 "valagirwriter.vala"
				_param_index = _param_index + 1;
#line 1164 "valagirwriter.vala"
				_tmp10_ = _param_index;
#line 1164 "valagirwriter.vala"
				_tmp11_ = _param_size;
#line 1164 "valagirwriter.vala"
				if (!(_tmp10_ < _tmp11_)) {
#line 1164 "valagirwriter.vala"
					break;
#line 7834 "valagirwriter.vala.c"
				}
#line 1164 "valagirwriter.vala"
				_tmp12_ = _param_list;
#line 1164 "valagirwriter.vala"
				_tmp13_ = vala_list_get (_tmp12_, _param_index);
#line 1164 "valagirwriter.vala"
				param = (ValaParameter*) _tmp13_;
#line 1165 "valagirwriter.vala"
				_tmp14_ = index;
#line 1165 "valagirwriter.vala"
				index = _tmp14_ + 1;
#line 1167 "valagirwriter.vala"
				_tmp15_ = param;
#line 1167 "valagirwriter.vala"
				_tmp16_ = vala_variable_get_variable_type ((ValaVariable*) _tmp15_);
#line 1167 "valagirwriter.vala"
				_tmp17_ = _tmp16_;
#line 1167 "valagirwriter.vala"
				_tmp18_ = param;
#line 1167 "valagirwriter.vala"
				vala_gir_writer_skip_implicit_params (self, _tmp17_, &index, vala_get_ccode_array_length ((ValaCodeNode*) _tmp18_));
#line 1164 "valagirwriter.vala"
				_vala_code_node_unref0 (param);
#line 7858 "valagirwriter.vala.c"
			}
		}
#line 1170 "valagirwriter.vala"
		if (ret_is_struct) {
#line 7863 "valagirwriter.vala.c"
			gint _tmp19_;
#line 1171 "valagirwriter.vala"
			_tmp19_ = index;
#line 1171 "valagirwriter.vala"
			index = _tmp19_ + 1;
#line 7869 "valagirwriter.vala.c"
		} else {
			gboolean _tmp20_ = FALSE;
#line 1173 "valagirwriter.vala"
			vala_gir_writer_skip_implicit_params (self, return_type, &index, return_array_length);
#line 1174 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (return_type, VALA_TYPE_ARRAY_TYPE)) {
#line 1174 "valagirwriter.vala"
				_tmp20_ = return_array_length;
#line 7878 "valagirwriter.vala.c"
			} else {
#line 1174 "valagirwriter.vala"
				_tmp20_ = FALSE;
#line 7882 "valagirwriter.vala.c"
			}
#line 1174 "valagirwriter.vala"
			if (_tmp20_) {
#line 7886 "valagirwriter.vala.c"
				gint _tmp21_;
				gint _tmp22_;
#line 1175 "valagirwriter.vala"
				_tmp21_ = vala_array_type_get_rank (G_TYPE_CHECK_INSTANCE_CAST (return_type, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1175 "valagirwriter.vala"
				_tmp22_ = _tmp21_;
#line 1175 "valagirwriter.vala"
				index -= _tmp22_ - 1;
#line 7895 "valagirwriter.vala.c"
			}
		}
#line 1179 "valagirwriter.vala"
		last_index = index - 1;
#line 7900 "valagirwriter.vala.c"
	}
#line 1182 "valagirwriter.vala"
	if (return_type != NULL) {
#line 1182 "valagirwriter.vala"
		_tmp23_ = !ret_is_struct;
#line 7906 "valagirwriter.vala.c"
	} else {
#line 1182 "valagirwriter.vala"
		_tmp23_ = FALSE;
#line 7910 "valagirwriter.vala.c"
	}
#line 1182 "valagirwriter.vala"
	if (_tmp23_) {
#line 1183 "valagirwriter.vala"
		vala_gir_writer_write_param_or_return (self, return_type, "return-value", &last_index, return_array_length, NULL, return_comment, VALA_PARAMETER_DIRECTION_IN, constructor, FALSE, FALSE);
#line 7916 "valagirwriter.vala.c"
	} else {
#line 1184 "valagirwriter.vala"
		if (ret_is_struct) {
#line 7920 "valagirwriter.vala.c"
			ValaVoidType* _tmp24_;
			ValaVoidType* _tmp25_;
#line 1185 "valagirwriter.vala"
			_tmp24_ = vala_void_type_new (NULL);
#line 1185 "valagirwriter.vala"
			_tmp25_ = _tmp24_;
#line 1185 "valagirwriter.vala"
			vala_gir_writer_write_param_or_return (self, (ValaDataType*) _tmp25_, "return-value", &last_index, FALSE, NULL, return_comment, VALA_PARAMETER_DIRECTION_IN, FALSE, FALSE, FALSE);
#line 1185 "valagirwriter.vala"
			_vala_code_node_unref0 (_tmp25_);
#line 7931 "valagirwriter.vala.c"
		}
	}
#line 1188 "valagirwriter.vala"
	_tmp31_ = vala_collection_get_size ((ValaCollection*) params);
#line 1188 "valagirwriter.vala"
	_tmp32_ = _tmp31_;
#line 1188 "valagirwriter.vala"
	if (_tmp32_ != 0) {
#line 1188 "valagirwriter.vala"
		_tmp30_ = TRUE;
#line 7942 "valagirwriter.vala.c"
	} else {
		gboolean _tmp33_ = FALSE;
#line 1188 "valagirwriter.vala"
		if (type_params != NULL) {
#line 7947 "valagirwriter.vala.c"
			gint _tmp34_;
			gint _tmp35_;
#line 1188 "valagirwriter.vala"
			_tmp34_ = vala_collection_get_size ((ValaCollection*) type_params);
#line 1188 "valagirwriter.vala"
			_tmp35_ = _tmp34_;
#line 1188 "valagirwriter.vala"
			_tmp33_ = _tmp35_ > 0;
#line 7956 "valagirwriter.vala.c"
		} else {
#line 1188 "valagirwriter.vala"
			_tmp33_ = FALSE;
#line 7960 "valagirwriter.vala.c"
		}
#line 1188 "valagirwriter.vala"
		_tmp30_ = _tmp33_;
#line 7964 "valagirwriter.vala.c"
	}
#line 1188 "valagirwriter.vala"
	if (_tmp30_) {
#line 1188 "valagirwriter.vala"
		_tmp29_ = TRUE;
#line 7970 "valagirwriter.vala.c"
	} else {
#line 1188 "valagirwriter.vala"
		_tmp29_ = instance_param != NULL;
#line 7974 "valagirwriter.vala.c"
	}
#line 1188 "valagirwriter.vala"
	if (_tmp29_) {
#line 1188 "valagirwriter.vala"
		_tmp28_ = TRUE;
#line 7980 "valagirwriter.vala.c"
	} else {
		gboolean _tmp36_ = FALSE;
#line 1188 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (return_type, VALA_TYPE_ARRAY_TYPE)) {
#line 1188 "valagirwriter.vala"
			_tmp36_ = return_array_length;
#line 7987 "valagirwriter.vala.c"
		} else {
#line 1188 "valagirwriter.vala"
			_tmp36_ = FALSE;
#line 7991 "valagirwriter.vala.c"
		}
#line 1188 "valagirwriter.vala"
		_tmp28_ = _tmp36_;
#line 7995 "valagirwriter.vala.c"
	}
#line 1188 "valagirwriter.vala"
	if (_tmp28_) {
#line 1188 "valagirwriter.vala"
		_tmp27_ = TRUE;
#line 8001 "valagirwriter.vala.c"
	} else {
#line 1188 "valagirwriter.vala"
		_tmp27_ = G_TYPE_CHECK_INSTANCE_TYPE (return_type, VALA_TYPE_DELEGATE_TYPE);
#line 8005 "valagirwriter.vala.c"
	}
#line 1188 "valagirwriter.vala"
	if (_tmp27_) {
#line 1188 "valagirwriter.vala"
		_tmp26_ = TRUE;
#line 8011 "valagirwriter.vala.c"
	} else {
#line 1188 "valagirwriter.vala"
		_tmp26_ = ret_is_struct;
#line 8015 "valagirwriter.vala.c"
	}
#line 1188 "valagirwriter.vala"
	if (_tmp26_) {
#line 8019 "valagirwriter.vala.c"
		GString* _tmp37_;
		gint _tmp38_;
		gint index = 0;
		gboolean _tmp52_ = FALSE;
		gboolean _tmp98_ = FALSE;
		gint _tmp104_;
		GString* _tmp105_;
#line 1189 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1190 "valagirwriter.vala"
		_tmp37_ = self->priv->buffer;
#line 1190 "valagirwriter.vala"
		g_string_append_printf (_tmp37_, "<parameters>\n");
#line 1191 "valagirwriter.vala"
		_tmp38_ = self->priv->indent;
#line 1191 "valagirwriter.vala"
		self->priv->indent = _tmp38_ + 1;
#line 1192 "valagirwriter.vala"
		index = 0;
#line 1194 "valagirwriter.vala"
		if (instance_param != NULL) {
#line 8041 "valagirwriter.vala.c"
			ValaDataType* type = NULL;
			ValaDataType* _tmp39_;
			ValaDataType* _tmp40_;
			ValaDataType* _tmp41_;
			ValaStruct* st = NULL;
			ValaDataType* _tmp42_;
			ValaTypeSymbol* _tmp43_;
			ValaTypeSymbol* _tmp44_;
			gboolean _tmp45_ = FALSE;
			ValaStruct* _tmp46_;
			gint skip = 0;
#line 1195 "valagirwriter.vala"
			_tmp39_ = vala_variable_get_variable_type ((ValaVariable*) instance_param);
#line 1195 "valagirwriter.vala"
			_tmp40_ = _tmp39_;
#line 1195 "valagirwriter.vala"
			_tmp41_ = vala_data_type_copy (_tmp40_);
#line 1195 "valagirwriter.vala"
			type = _tmp41_;
#line 1196 "valagirwriter.vala"
			_tmp42_ = type;
#line 1196 "valagirwriter.vala"
			_tmp43_ = vala_data_type_get_type_symbol (_tmp42_);
#line 1196 "valagirwriter.vala"
			_tmp44_ = _tmp43_;
#line 1196 "valagirwriter.vala"
			st = G_TYPE_CHECK_INSTANCE_TYPE (_tmp44_, VALA_TYPE_STRUCT) ? ((ValaStruct*) _tmp44_) : NULL;
#line 1197 "valagirwriter.vala"
			_tmp46_ = st;
#line 1197 "valagirwriter.vala"
			if (_tmp46_ != NULL) {
#line 8073 "valagirwriter.vala.c"
				ValaStruct* _tmp47_;
#line 1197 "valagirwriter.vala"
				_tmp47_ = st;
#line 1197 "valagirwriter.vala"
				_tmp45_ = !vala_struct_is_simple_type (_tmp47_);
#line 8079 "valagirwriter.vala.c"
			} else {
#line 1197 "valagirwriter.vala"
				_tmp45_ = FALSE;
#line 8083 "valagirwriter.vala.c"
			}
#line 1197 "valagirwriter.vala"
			if (_tmp45_) {
#line 8087 "valagirwriter.vala.c"
				ValaDataType* _tmp48_;
#line 1198 "valagirwriter.vala"
				_tmp48_ = type;
#line 1198 "valagirwriter.vala"
				vala_data_type_set_nullable (_tmp48_, TRUE);
#line 8093 "valagirwriter.vala.c"
			}
#line 1200 "valagirwriter.vala"
			skip = 0;
#line 1201 "valagirwriter.vala"
			if (g_strcmp0 (tag_name, "callback") == 0) {
#line 8099 "valagirwriter.vala.c"
				ValaDataType* _tmp49_;
				gint _tmp50_;
#line 1202 "valagirwriter.vala"
				_tmp49_ = type;
#line 1202 "valagirwriter.vala"
				vala_gir_writer_write_param_or_return (self, _tmp49_, "parameter", &skip, FALSE, "self", NULL, VALA_PARAMETER_DIRECTION_IN, FALSE, FALSE, FALSE);
#line 1203 "valagirwriter.vala"
				_tmp50_ = index;
#line 1203 "valagirwriter.vala"
				index = _tmp50_ + 1;
#line 8110 "valagirwriter.vala.c"
			} else {
				ValaDataType* _tmp51_;
#line 1205 "valagirwriter.vala"
				_tmp51_ = type;
#line 1205 "valagirwriter.vala"
				vala_gir_writer_write_param_or_return (self, _tmp51_, "instance-parameter", &skip, FALSE, "self", NULL, VALA_PARAMETER_DIRECTION_IN, FALSE, FALSE, FALSE);
#line 8117 "valagirwriter.vala.c"
			}
#line 1194 "valagirwriter.vala"
			_vala_code_node_unref0 (type);
#line 8121 "valagirwriter.vala.c"
		}
#line 1209 "valagirwriter.vala"
		if (constructor) {
#line 1209 "valagirwriter.vala"
			_tmp52_ = ret_is_struct;
#line 8127 "valagirwriter.vala.c"
		} else {
#line 1209 "valagirwriter.vala"
			_tmp52_ = FALSE;
#line 8131 "valagirwriter.vala.c"
		}
#line 1209 "valagirwriter.vala"
		if (_tmp52_) {
#line 1211 "valagirwriter.vala"
			vala_gir_writer_write_param_or_return (self, return_type, "instance-parameter", &index, FALSE, "self", return_comment, VALA_PARAMETER_DIRECTION_OUT, constructor, TRUE, FALSE);
#line 8137 "valagirwriter.vala.c"
		}
#line 1214 "valagirwriter.vala"
		if (type_params != NULL) {
#line 8141 "valagirwriter.vala.c"
			{
				ValaList* _p_list = NULL;
				gint _p_size = 0;
				ValaList* _tmp53_;
				gint _tmp54_;
				gint _tmp55_;
				gint _p_index = 0;
#line 1215 "valagirwriter.vala"
				_p_list = type_params;
#line 1215 "valagirwriter.vala"
				_tmp53_ = _p_list;
#line 1215 "valagirwriter.vala"
				_tmp54_ = vala_collection_get_size ((ValaCollection*) _tmp53_);
#line 1215 "valagirwriter.vala"
				_tmp55_ = _tmp54_;
#line 1215 "valagirwriter.vala"
				_p_size = _tmp55_;
#line 1215 "valagirwriter.vala"
				_p_index = -1;
#line 1215 "valagirwriter.vala"
				while (TRUE) {
#line 8163 "valagirwriter.vala.c"
					gint _tmp56_;
					gint _tmp57_;
					ValaTypeParameter* p = NULL;
					ValaList* _tmp58_;
					gpointer _tmp59_;
					ValaTypeParameter* _tmp60_;
#line 1215 "valagirwriter.vala"
					_p_index = _p_index + 1;
#line 1215 "valagirwriter.vala"
					_tmp56_ = _p_index;
#line 1215 "valagirwriter.vala"
					_tmp57_ = _p_size;
#line 1215 "valagirwriter.vala"
					if (!(_tmp56_ < _tmp57_)) {
#line 1215 "valagirwriter.vala"
						break;
#line 8180 "valagirwriter.vala.c"
					}
#line 1215 "valagirwriter.vala"
					_tmp58_ = _p_list;
#line 1215 "valagirwriter.vala"
					_tmp59_ = vala_list_get (_tmp58_, _p_index);
#line 1215 "valagirwriter.vala"
					p = (ValaTypeParameter*) _tmp59_;
#line 1216 "valagirwriter.vala"
					_tmp60_ = p;
#line 1216 "valagirwriter.vala"
					vala_gir_writer_write_type_parameter (self, _tmp60_, "parameter");
#line 1217 "valagirwriter.vala"
					index += 3;
#line 1215 "valagirwriter.vala"
					_vala_code_node_unref0 (p);
#line 8196 "valagirwriter.vala.c"
				}
			}
		}
		{
			ValaList* _param_list = NULL;
			gint _param_size = 0;
			ValaList* _tmp61_;
			gint _tmp62_;
			gint _tmp63_;
			gint _param_index = 0;
#line 1221 "valagirwriter.vala"
			_param_list = params;
#line 1221 "valagirwriter.vala"
			_tmp61_ = _param_list;
#line 1221 "valagirwriter.vala"
			_tmp62_ = vala_collection_get_size ((ValaCollection*) _tmp61_);
#line 1221 "valagirwriter.vala"
			_tmp63_ = _tmp62_;
#line 1221 "valagirwriter.vala"
			_param_size = _tmp63_;
#line 1221 "valagirwriter.vala"
			_param_index = -1;
#line 1221 "valagirwriter.vala"
			while (TRUE) {
#line 8221 "valagirwriter.vala.c"
				gint _tmp64_;
				gint _tmp65_;
				ValaParameter* param = NULL;
				ValaList* _tmp66_;
				gpointer _tmp67_;
				gboolean _tmp68_ = FALSE;
				ValaParameter* _tmp69_;
				gboolean _tmp70_;
				gboolean _tmp71_;
				ValaParameter* _tmp75_;
				ValaDataType* _tmp76_;
				ValaDataType* _tmp77_;
				ValaParameter* _tmp78_;
				ValaParameter* _tmp79_;
				gchar* _tmp80_;
				gchar* _tmp81_;
				ValaParameter* _tmp82_;
				gchar* _tmp83_;
				gchar* _tmp84_;
				ValaParameter* _tmp85_;
				ValaParameterDirection _tmp86_;
				ValaParameterDirection _tmp87_;
				ValaParameter* _tmp88_;
				ValaDataType* _tmp89_;
				ValaDataType* _tmp90_;
				ValaParameter* _tmp91_;
				ValaParameter* _tmp92_;
				gchar* _tmp93_;
				gchar* _tmp94_;
				ValaParameter* _tmp95_;
				ValaParameterDirection _tmp96_;
				ValaParameterDirection _tmp97_;
#line 1221 "valagirwriter.vala"
				_param_index = _param_index + 1;
#line 1221 "valagirwriter.vala"
				_tmp64_ = _param_index;
#line 1221 "valagirwriter.vala"
				_tmp65_ = _param_size;
#line 1221 "valagirwriter.vala"
				if (!(_tmp64_ < _tmp65_)) {
#line 1221 "valagirwriter.vala"
					break;
#line 8264 "valagirwriter.vala.c"
				}
#line 1221 "valagirwriter.vala"
				_tmp66_ = _param_list;
#line 1221 "valagirwriter.vala"
				_tmp67_ = vala_list_get (_tmp66_, _param_index);
#line 1221 "valagirwriter.vala"
				param = (ValaParameter*) _tmp67_;
#line 1222 "valagirwriter.vala"
				_tmp69_ = param;
#line 1222 "valagirwriter.vala"
				_tmp70_ = vala_parameter_get_ellipsis (_tmp69_);
#line 1222 "valagirwriter.vala"
				_tmp71_ = _tmp70_;
#line 1222 "valagirwriter.vala"
				if (_tmp71_) {
#line 1222 "valagirwriter.vala"
					_tmp68_ = TRUE;
#line 8282 "valagirwriter.vala.c"
				} else {
					ValaParameter* _tmp72_;
					gboolean _tmp73_;
					gboolean _tmp74_;
#line 1222 "valagirwriter.vala"
					_tmp72_ = param;
#line 1222 "valagirwriter.vala"
					_tmp73_ = vala_parameter_get_params_array (_tmp72_);
#line 1222 "valagirwriter.vala"
					_tmp74_ = _tmp73_;
#line 1222 "valagirwriter.vala"
					_tmp68_ = _tmp74_;
#line 8295 "valagirwriter.vala.c"
				}
#line 1222 "valagirwriter.vala"
				_tmp75_ = param;
#line 1222 "valagirwriter.vala"
				_tmp76_ = vala_variable_get_variable_type ((ValaVariable*) _tmp75_);
#line 1222 "valagirwriter.vala"
				_tmp77_ = _tmp76_;
#line 1222 "valagirwriter.vala"
				_tmp78_ = param;
#line 1222 "valagirwriter.vala"
				_tmp79_ = param;
#line 1222 "valagirwriter.vala"
				_tmp80_ = vala_get_ccode_name ((ValaCodeNode*) _tmp79_);
#line 1222 "valagirwriter.vala"
				_tmp81_ = _tmp80_;
#line 1222 "valagirwriter.vala"
				_tmp82_ = param;
#line 1222 "valagirwriter.vala"
				_tmp83_ = vala_gir_writer_get_parameter_comment (self, _tmp82_);
#line 1222 "valagirwriter.vala"
				_tmp84_ = _tmp83_;
#line 1222 "valagirwriter.vala"
				_tmp85_ = param;
#line 1222 "valagirwriter.vala"
				_tmp86_ = vala_parameter_get_direction (_tmp85_);
#line 1222 "valagirwriter.vala"
				_tmp87_ = _tmp86_;
#line 1222 "valagirwriter.vala"
				vala_gir_writer_write_param_or_return (self, _tmp77_, "parameter", &index, vala_get_ccode_array_length ((ValaCodeNode*) _tmp78_), _tmp81_, _tmp84_, _tmp87_, FALSE, FALSE, _tmp68_);
#line 1222 "valagirwriter.vala"
				_g_free0 (_tmp84_);
#line 1222 "valagirwriter.vala"
				_g_free0 (_tmp81_);
#line 1224 "valagirwriter.vala"
				_tmp88_ = param;
#line 1224 "valagirwriter.vala"
				_tmp89_ = vala_variable_get_variable_type ((ValaVariable*) _tmp88_);
#line 1224 "valagirwriter.vala"
				_tmp90_ = _tmp89_;
#line 1224 "valagirwriter.vala"
				_tmp91_ = param;
#line 1224 "valagirwriter.vala"
				_tmp92_ = param;
#line 1224 "valagirwriter.vala"
				_tmp93_ = vala_get_ccode_name ((ValaCodeNode*) _tmp92_);
#line 1224 "valagirwriter.vala"
				_tmp94_ = _tmp93_;
#line 1224 "valagirwriter.vala"
				_tmp95_ = param;
#line 1224 "valagirwriter.vala"
				_tmp96_ = vala_parameter_get_direction (_tmp95_);
#line 1224 "valagirwriter.vala"
				_tmp97_ = _tmp96_;
#line 1224 "valagirwriter.vala"
				vala_gir_writer_write_implicit_params (self, _tmp90_, &index, vala_get_ccode_array_length ((ValaCodeNode*) _tmp91_), _tmp94_, _tmp97_);
#line 1224 "valagirwriter.vala"
				_g_free0 (_tmp94_);
#line 1221 "valagirwriter.vala"
				_vala_code_node_unref0 (param);
#line 8355 "valagirwriter.vala.c"
			}
		}
#line 1227 "valagirwriter.vala"
		if (!constructor) {
#line 1227 "valagirwriter.vala"
			_tmp98_ = ret_is_struct;
#line 8362 "valagirwriter.vala.c"
		} else {
#line 1227 "valagirwriter.vala"
			_tmp98_ = FALSE;
#line 8366 "valagirwriter.vala.c"
		}
#line 1227 "valagirwriter.vala"
		if (_tmp98_) {
#line 1229 "valagirwriter.vala"
			vala_gir_writer_write_param_or_return (self, return_type, "parameter", &index, FALSE, "result", return_comment, VALA_PARAMETER_DIRECTION_OUT, constructor, TRUE, FALSE);
#line 8372 "valagirwriter.vala.c"
		} else {
#line 1230 "valagirwriter.vala"
			if (!constructor) {
#line 1231 "valagirwriter.vala"
				vala_gir_writer_write_implicit_params (self, return_type, &index, return_array_length, "result", VALA_PARAMETER_DIRECTION_OUT);
#line 8378 "valagirwriter.vala.c"
			}
		}
#line 1234 "valagirwriter.vala"
		if (user_data) {
#line 8383 "valagirwriter.vala.c"
			GString* _tmp99_;
			gint _tmp100_;
			GString* _tmp101_;
			gint _tmp102_;
			GString* _tmp103_;
#line 1235 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 1236 "valagirwriter.vala"
			_tmp99_ = self->priv->buffer;
#line 1236 "valagirwriter.vala"
			g_string_append_printf (_tmp99_, "<parameter name=\"user_data\" transfer-ownership=\"none\" closure=\"%d" \
"\">\n", index);
#line 1237 "valagirwriter.vala"
			_tmp100_ = self->priv->indent;
#line 1237 "valagirwriter.vala"
			self->priv->indent = _tmp100_ + 1;
#line 1238 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 1239 "valagirwriter.vala"
			_tmp101_ = self->priv->buffer;
#line 1239 "valagirwriter.vala"
			g_string_append_printf (_tmp101_, "<type name=\"gpointer\" c:type=\"void*\"/>\n");
#line 1240 "valagirwriter.vala"
			_tmp102_ = self->priv->indent;
#line 1240 "valagirwriter.vala"
			self->priv->indent = _tmp102_ - 1;
#line 1241 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 1242 "valagirwriter.vala"
			_tmp103_ = self->priv->buffer;
#line 1242 "valagirwriter.vala"
			g_string_append_printf (_tmp103_, "</parameter>\n");
#line 8415 "valagirwriter.vala.c"
		}
#line 1245 "valagirwriter.vala"
		_tmp104_ = self->priv->indent;
#line 1245 "valagirwriter.vala"
		self->priv->indent = _tmp104_ - 1;
#line 1246 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1247 "valagirwriter.vala"
		_tmp105_ = self->priv->buffer;
#line 1247 "valagirwriter.vala"
		g_string_append_printf (_tmp105_, "</parameters>\n");
#line 8427 "valagirwriter.vala.c"
	}
}

static void
vala_gir_writer_real_visit_delegate (ValaCodeVisitor* base,
                                     ValaDelegate* cb)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	GString* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	GString* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	GString* _tmp11_;
	gint _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	ValaList* _tmp15_;
	ValaList* _tmp16_;
	ValaDataType* _tmp17_;
	ValaDataType* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gboolean _tmp21_;
	gboolean _tmp22_;
	gint _tmp23_;
	GString* _tmp24_;
#line 1251 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1252 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) cb);
#line 1252 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1252 "valagirwriter.vala"
	if (_tmp1_) {
#line 1253 "valagirwriter.vala"
		return;
#line 8470 "valagirwriter.vala.c"
	}
#line 1256 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) cb)) {
#line 1257 "valagirwriter.vala"
		return;
#line 8476 "valagirwriter.vala.c"
	}
#line 1260 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) cb)) {
#line 1261 "valagirwriter.vala"
		return;
#line 8482 "valagirwriter.vala.c"
	}
#line 1264 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1265 "valagirwriter.vala"
	_tmp2_ = self->priv->buffer;
#line 1265 "valagirwriter.vala"
	_tmp3_ = vala_gir_writer_get_gir_name (self, (ValaSymbol*) cb);
#line 1265 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 1265 "valagirwriter.vala"
	g_string_append_printf (_tmp2_, "<callback name=\"%s\"", _tmp4_);
#line 1265 "valagirwriter.vala"
	_g_free0 (_tmp4_);
#line 1266 "valagirwriter.vala"
	_tmp5_ = self->priv->buffer;
#line 1266 "valagirwriter.vala"
	_tmp6_ = vala_get_ccode_name ((ValaCodeNode*) cb);
#line 1266 "valagirwriter.vala"
	_tmp7_ = _tmp6_;
#line 1266 "valagirwriter.vala"
	g_string_append_printf (_tmp5_, " c:type=\"%s\"", _tmp7_);
#line 1266 "valagirwriter.vala"
	_g_free0 (_tmp7_);
#line 1267 "valagirwriter.vala"
	_tmp8_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) cb);
#line 1267 "valagirwriter.vala"
	_tmp9_ = _tmp8_;
#line 1267 "valagirwriter.vala"
	if (_tmp9_) {
#line 8512 "valagirwriter.vala.c"
		GString* _tmp10_;
#line 1268 "valagirwriter.vala"
		_tmp10_ = self->priv->buffer;
#line 1268 "valagirwriter.vala"
		g_string_append_printf (_tmp10_, " throws=\"1\"");
#line 8518 "valagirwriter.vala.c"
	}
#line 1270 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) cb);
#line 1271 "valagirwriter.vala"
	_tmp11_ = self->priv->buffer;
#line 1271 "valagirwriter.vala"
	g_string_append_printf (_tmp11_, ">\n");
#line 1272 "valagirwriter.vala"
	_tmp12_ = self->priv->indent;
#line 1272 "valagirwriter.vala"
	self->priv->indent = _tmp12_ + 1;
#line 1274 "valagirwriter.vala"
	_tmp13_ = vala_gir_writer_get_delegate_comment (self, cb);
#line 1274 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 1274 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp14_);
#line 1274 "valagirwriter.vala"
	_g_free0 (_tmp14_);
#line 1276 "valagirwriter.vala"
	_tmp15_ = vala_callable_get_parameters ((ValaCallable*) cb);
#line 1276 "valagirwriter.vala"
	_tmp16_ = vala_delegate_get_type_parameters (cb);
#line 1276 "valagirwriter.vala"
	_tmp17_ = vala_callable_get_return_type ((ValaCallable*) cb);
#line 1276 "valagirwriter.vala"
	_tmp18_ = _tmp17_;
#line 1276 "valagirwriter.vala"
	_tmp19_ = vala_gir_writer_get_delegate_return_comment (self, cb);
#line 1276 "valagirwriter.vala"
	_tmp20_ = _tmp19_;
#line 1276 "valagirwriter.vala"
	_tmp21_ = vala_delegate_get_has_target (cb);
#line 1276 "valagirwriter.vala"
	_tmp22_ = _tmp21_;
#line 1276 "valagirwriter.vala"
	vala_gir_writer_write_params_and_return (self, "callback", _tmp15_, _tmp16_, _tmp18_, vala_get_ccode_array_length ((ValaCodeNode*) cb), _tmp20_, FALSE, NULL, _tmp22_);
#line 1276 "valagirwriter.vala"
	_g_free0 (_tmp20_);
#line 1278 "valagirwriter.vala"
	_tmp23_ = self->priv->indent;
#line 1278 "valagirwriter.vala"
	self->priv->indent = _tmp23_ - 1;
#line 1279 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1280 "valagirwriter.vala"
	_tmp24_ = self->priv->buffer;
#line 1280 "valagirwriter.vala"
	g_string_append_printf (_tmp24_, "</callback>\n");
#line 8568 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_method (ValaCodeVisitor* base,
                                   ValaMethod* m)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	gchar* tag_name = NULL;
	gchar* _tmp14_;
	ValaSymbol* parent = NULL;
	ValaArrayList* _tmp15_;
	gpointer _tmp16_;
	ValaSymbol* _tmp17_;
	gboolean _tmp19_ = FALSE;
	gboolean _tmp20_ = FALSE;
	ValaSymbol* _tmp21_;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp32_ = FALSE;
	gboolean _tmp33_;
	gboolean _tmp34_;
#line 1283 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1284 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) m);
#line 1284 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1284 "valagirwriter.vala"
	if (_tmp1_) {
#line 1285 "valagirwriter.vala"
		return;
#line 8603 "valagirwriter.vala.c"
	}
#line 1289 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) m)) {
#line 1289 "valagirwriter.vala"
		_tmp3_ = TRUE;
#line 8609 "valagirwriter.vala.c"
	} else {
		gboolean _tmp4_;
		gboolean _tmp5_;
#line 1289 "valagirwriter.vala"
		_tmp4_ = vala_method_get_overrides (m);
#line 1289 "valagirwriter.vala"
		_tmp5_ = _tmp4_;
#line 1289 "valagirwriter.vala"
		_tmp3_ = _tmp5_;
#line 8619 "valagirwriter.vala.c"
	}
#line 1289 "valagirwriter.vala"
	if (_tmp3_) {
#line 1289 "valagirwriter.vala"
		_tmp2_ = TRUE;
#line 8625 "valagirwriter.vala.c"
	} else {
		gboolean _tmp6_ = FALSE;
		gboolean _tmp7_ = FALSE;
		ValaMethod* _tmp8_;
		ValaMethod* _tmp9_;
#line 1289 "valagirwriter.vala"
		_tmp8_ = vala_method_get_base_interface_method (m);
#line 1289 "valagirwriter.vala"
		_tmp9_ = _tmp8_;
#line 1289 "valagirwriter.vala"
		if (_tmp9_ != NULL) {
#line 8637 "valagirwriter.vala.c"
			gboolean _tmp10_;
			gboolean _tmp11_;
#line 1289 "valagirwriter.vala"
			_tmp10_ = vala_method_get_is_abstract (m);
#line 1289 "valagirwriter.vala"
			_tmp11_ = _tmp10_;
#line 1289 "valagirwriter.vala"
			_tmp7_ = !_tmp11_;
#line 8646 "valagirwriter.vala.c"
		} else {
#line 1289 "valagirwriter.vala"
			_tmp7_ = FALSE;
#line 8650 "valagirwriter.vala.c"
		}
#line 1289 "valagirwriter.vala"
		if (_tmp7_) {
#line 8654 "valagirwriter.vala.c"
			gboolean _tmp12_;
			gboolean _tmp13_;
#line 1289 "valagirwriter.vala"
			_tmp12_ = vala_method_get_is_virtual (m);
#line 1289 "valagirwriter.vala"
			_tmp13_ = _tmp12_;
#line 1289 "valagirwriter.vala"
			_tmp6_ = !_tmp13_;
#line 8663 "valagirwriter.vala.c"
		} else {
#line 1289 "valagirwriter.vala"
			_tmp6_ = FALSE;
#line 8667 "valagirwriter.vala.c"
		}
#line 1289 "valagirwriter.vala"
		_tmp2_ = _tmp6_;
#line 8671 "valagirwriter.vala.c"
	}
#line 1289 "valagirwriter.vala"
	if (_tmp2_) {
#line 1290 "valagirwriter.vala"
		return;
#line 8677 "valagirwriter.vala.c"
	}
#line 1293 "valagirwriter.vala"
	if (!vala_gir_writer_has_namespace (self, (ValaSymbol*) m)) {
#line 1294 "valagirwriter.vala"
		return;
#line 8683 "valagirwriter.vala.c"
	}
#line 1297 "valagirwriter.vala"
	_tmp14_ = g_strdup ("method");
#line 1297 "valagirwriter.vala"
	tag_name = _tmp14_;
#line 1298 "valagirwriter.vala"
	_tmp15_ = self->priv->hierarchy;
#line 1298 "valagirwriter.vala"
	_tmp16_ = vala_list_get ((ValaList*) _tmp15_, 0);
#line 1298 "valagirwriter.vala"
	parent = (ValaSymbol*) _tmp16_;
#line 1299 "valagirwriter.vala"
	_tmp17_ = parent;
#line 1299 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp17_, VALA_TYPE_ENUM)) {
#line 8699 "valagirwriter.vala.c"
		ValaArrayList* _tmp18_;
#line 1300 "valagirwriter.vala"
		_tmp18_ = self->priv->deferred;
#line 1300 "valagirwriter.vala"
		vala_collection_add ((ValaCollection*) _tmp18_, (ValaCodeNode*) m);
#line 1301 "valagirwriter.vala"
		_vala_code_node_unref0 (parent);
#line 1301 "valagirwriter.vala"
		_g_free0 (tag_name);
#line 1301 "valagirwriter.vala"
		return;
#line 8711 "valagirwriter.vala.c"
	}
#line 1304 "valagirwriter.vala"
	_tmp21_ = parent;
#line 1304 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp21_, VALA_TYPE_NAMESPACE)) {
#line 1304 "valagirwriter.vala"
		_tmp20_ = TRUE;
#line 8719 "valagirwriter.vala.c"
	} else {
		ValaMemberBinding _tmp22_;
		ValaMemberBinding _tmp23_;
#line 1304 "valagirwriter.vala"
		_tmp22_ = vala_method_get_binding (m);
#line 1304 "valagirwriter.vala"
		_tmp23_ = _tmp22_;
#line 1304 "valagirwriter.vala"
		_tmp20_ = _tmp23_ == VALA_MEMBER_BINDING_STATIC;
#line 8729 "valagirwriter.vala.c"
	}
#line 1304 "valagirwriter.vala"
	if (_tmp20_) {
#line 1304 "valagirwriter.vala"
		_tmp19_ = TRUE;
#line 8735 "valagirwriter.vala.c"
	} else {
		ValaSymbol* _tmp24_;
		ValaSymbol* _tmp25_;
		ValaSymbol* _tmp26_;
#line 1304 "valagirwriter.vala"
		_tmp24_ = parent;
#line 1304 "valagirwriter.vala"
		_tmp25_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1304 "valagirwriter.vala"
		_tmp26_ = _tmp25_;
#line 1304 "valagirwriter.vala"
		_tmp19_ = _tmp24_ != _tmp26_;
#line 8748 "valagirwriter.vala.c"
	}
#line 1304 "valagirwriter.vala"
	if (_tmp19_) {
#line 8752 "valagirwriter.vala.c"
		gchar* _tmp27_;
#line 1305 "valagirwriter.vala"
		_tmp27_ = g_strdup ("function");
#line 1305 "valagirwriter.vala"
		_g_free0 (tag_name);
#line 1305 "valagirwriter.vala"
		tag_name = _tmp27_;
#line 8760 "valagirwriter.vala.c"
	}
#line 1308 "valagirwriter.vala"
	if (!vala_get_ccode_no_wrapper (m)) {
#line 8764 "valagirwriter.vala.c"
		ValaSignal* _tmp29_;
		ValaSignal* _tmp30_;
#line 1308 "valagirwriter.vala"
		_tmp29_ = vala_method_get_signal_reference (m);
#line 1308 "valagirwriter.vala"
		_tmp30_ = _tmp29_;
#line 1308 "valagirwriter.vala"
		_tmp28_ = _tmp30_ == NULL;
#line 8773 "valagirwriter.vala.c"
	} else {
#line 1308 "valagirwriter.vala"
		_tmp28_ = FALSE;
#line 8777 "valagirwriter.vala.c"
	}
#line 1308 "valagirwriter.vala"
	if (_tmp28_) {
#line 8781 "valagirwriter.vala.c"
		const gchar* _tmp31_;
#line 1309 "valagirwriter.vala"
		_tmp31_ = tag_name;
#line 1309 "valagirwriter.vala"
		vala_gir_writer_write_signature (self, m, _tmp31_, TRUE, FALSE, TRUE);
#line 8787 "valagirwriter.vala.c"
	}
#line 1312 "valagirwriter.vala"
	_tmp33_ = vala_method_get_is_abstract (m);
#line 1312 "valagirwriter.vala"
	_tmp34_ = _tmp33_;
#line 1312 "valagirwriter.vala"
	if (_tmp34_) {
#line 1312 "valagirwriter.vala"
		_tmp32_ = TRUE;
#line 8797 "valagirwriter.vala.c"
	} else {
		gboolean _tmp35_;
		gboolean _tmp36_;
#line 1312 "valagirwriter.vala"
		_tmp35_ = vala_method_get_is_virtual (m);
#line 1312 "valagirwriter.vala"
		_tmp36_ = _tmp35_;
#line 1312 "valagirwriter.vala"
		_tmp32_ = _tmp36_;
#line 8807 "valagirwriter.vala.c"
	}
#line 1312 "valagirwriter.vala"
	if (_tmp32_) {
#line 1313 "valagirwriter.vala"
		vala_gir_writer_write_signature (self, m, "virtual-method", TRUE, FALSE, TRUE);
#line 8813 "valagirwriter.vala.c"
	}
#line 1283 "valagirwriter.vala"
	_vala_code_node_unref0 (parent);
#line 1283 "valagirwriter.vala"
	_g_free0 (tag_name);
#line 8819 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_is_type_introspectable (ValaGIRWriter* self,
                                        ValaDataType* type)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	gboolean result;
#line 1319 "valagirwriter.vala"
	_tmp0_ = vala_get_ccode_name ((ValaCodeNode*) type);
#line 1319 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1319 "valagirwriter.vala"
	_tmp2_ = g_strcmp0 (_tmp1_, "va_list") == 0;
#line 1319 "valagirwriter.vala"
	_g_free0 (_tmp1_);
#line 1319 "valagirwriter.vala"
	if (_tmp2_) {
#line 1320 "valagirwriter.vala"
		result = FALSE;
#line 1320 "valagirwriter.vala"
		return result;
#line 8844 "valagirwriter.vala.c"
	}
#line 1323 "valagirwriter.vala"
	result = TRUE;
#line 1323 "valagirwriter.vala"
	return result;
#line 8850 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_is_method_introspectable (ValaGIRWriter* self,
                                          ValaMethod* m)
{
	ValaDataType* _tmp0_;
	ValaDataType* _tmp1_;
	gboolean result;
#line 1327 "valagirwriter.vala"
	_tmp0_ = vala_callable_get_return_type ((ValaCallable*) m);
#line 1327 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1327 "valagirwriter.vala"
	if (!vala_gir_writer_is_type_introspectable (self, _tmp1_)) {
#line 1328 "valagirwriter.vala"
		result = FALSE;
#line 1328 "valagirwriter.vala"
		return result;
#line 8870 "valagirwriter.vala.c"
	}
	{
		ValaList* _param_list = NULL;
		ValaList* _tmp2_;
		gint _param_size = 0;
		ValaList* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		gint _param_index = 0;
#line 1330 "valagirwriter.vala"
		_tmp2_ = vala_callable_get_parameters ((ValaCallable*) m);
#line 1330 "valagirwriter.vala"
		_param_list = _tmp2_;
#line 1330 "valagirwriter.vala"
		_tmp3_ = _param_list;
#line 1330 "valagirwriter.vala"
		_tmp4_ = vala_collection_get_size ((ValaCollection*) _tmp3_);
#line 1330 "valagirwriter.vala"
		_tmp5_ = _tmp4_;
#line 1330 "valagirwriter.vala"
		_param_size = _tmp5_;
#line 1330 "valagirwriter.vala"
		_param_index = -1;
#line 1330 "valagirwriter.vala"
		while (TRUE) {
#line 8896 "valagirwriter.vala.c"
			gint _tmp6_;
			gint _tmp7_;
			ValaParameter* param = NULL;
			ValaList* _tmp8_;
			gpointer _tmp9_;
			gboolean _tmp10_ = FALSE;
			gboolean _tmp11_ = FALSE;
			ValaParameter* _tmp12_;
			gboolean _tmp13_;
			gboolean _tmp14_;
#line 1330 "valagirwriter.vala"
			_param_index = _param_index + 1;
#line 1330 "valagirwriter.vala"
			_tmp6_ = _param_index;
#line 1330 "valagirwriter.vala"
			_tmp7_ = _param_size;
#line 1330 "valagirwriter.vala"
			if (!(_tmp6_ < _tmp7_)) {
#line 1330 "valagirwriter.vala"
				break;
#line 8917 "valagirwriter.vala.c"
			}
#line 1330 "valagirwriter.vala"
			_tmp8_ = _param_list;
#line 1330 "valagirwriter.vala"
			_tmp9_ = vala_list_get (_tmp8_, _param_index);
#line 1330 "valagirwriter.vala"
			param = (ValaParameter*) _tmp9_;
#line 1331 "valagirwriter.vala"
			_tmp12_ = param;
#line 1331 "valagirwriter.vala"
			_tmp13_ = vala_parameter_get_ellipsis (_tmp12_);
#line 1331 "valagirwriter.vala"
			_tmp14_ = _tmp13_;
#line 1331 "valagirwriter.vala"
			if (_tmp14_) {
#line 1331 "valagirwriter.vala"
				_tmp11_ = TRUE;
#line 8935 "valagirwriter.vala.c"
			} else {
				ValaParameter* _tmp15_;
				gboolean _tmp16_;
				gboolean _tmp17_;
#line 1331 "valagirwriter.vala"
				_tmp15_ = param;
#line 1331 "valagirwriter.vala"
				_tmp16_ = vala_parameter_get_params_array (_tmp15_);
#line 1331 "valagirwriter.vala"
				_tmp17_ = _tmp16_;
#line 1331 "valagirwriter.vala"
				_tmp11_ = _tmp17_;
#line 8948 "valagirwriter.vala.c"
			}
#line 1331 "valagirwriter.vala"
			if (_tmp11_) {
#line 1331 "valagirwriter.vala"
				_tmp10_ = TRUE;
#line 8954 "valagirwriter.vala.c"
			} else {
				ValaParameter* _tmp18_;
				ValaDataType* _tmp19_;
				ValaDataType* _tmp20_;
#line 1331 "valagirwriter.vala"
				_tmp18_ = param;
#line 1331 "valagirwriter.vala"
				_tmp19_ = vala_variable_get_variable_type ((ValaVariable*) _tmp18_);
#line 1331 "valagirwriter.vala"
				_tmp20_ = _tmp19_;
#line 1331 "valagirwriter.vala"
				_tmp10_ = !vala_gir_writer_is_type_introspectable (self, _tmp20_);
#line 8967 "valagirwriter.vala.c"
			}
#line 1331 "valagirwriter.vala"
			if (_tmp10_) {
#line 1332 "valagirwriter.vala"
				result = FALSE;
#line 1332 "valagirwriter.vala"
				_vala_code_node_unref0 (param);
#line 1332 "valagirwriter.vala"
				return result;
#line 8977 "valagirwriter.vala.c"
			}
#line 1330 "valagirwriter.vala"
			_vala_code_node_unref0 (param);
#line 8981 "valagirwriter.vala.c"
		}
	}
#line 1335 "valagirwriter.vala"
	result = TRUE;
#line 1335 "valagirwriter.vala"
	return result;
#line 8988 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_is_introspectable (ValaGIRWriter* self,
                                   ValaSymbol* sym)
{
	gboolean _tmp0_ = FALSE;
	gboolean result;
#line 1339 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (sym, VALA_TYPE_METHOD)) {
#line 1339 "valagirwriter.vala"
		_tmp0_ = !vala_gir_writer_is_method_introspectable (self, G_TYPE_CHECK_INSTANCE_CAST (sym, VALA_TYPE_METHOD, ValaMethod));
#line 9001 "valagirwriter.vala.c"
	} else {
#line 1339 "valagirwriter.vala"
		_tmp0_ = FALSE;
#line 9005 "valagirwriter.vala.c"
	}
#line 1339 "valagirwriter.vala"
	if (_tmp0_) {
#line 1340 "valagirwriter.vala"
		result = FALSE;
#line 1340 "valagirwriter.vala"
		return result;
#line 9013 "valagirwriter.vala.c"
	}
#line 1343 "valagirwriter.vala"
	result = vala_gir_writer_is_visibility (self, sym);
#line 1343 "valagirwriter.vala"
	return result;
#line 9019 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_signature (ValaGIRWriter* self,
                                 ValaMethod* m,
                                 const gchar* tag_name,
                                 gboolean write_doc,
                                 gboolean instance,
                                 gboolean write_attributes)
{
	ValaSymbol* parent = NULL;
	ValaArrayList* _tmp0_;
	gpointer _tmp1_;
	gchar* name = NULL;
	ValaSymbol* _tmp2_;
	ValaSymbol* _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean _tmp18_;
	gboolean _tmp19_;
#line 1347 "valagirwriter.vala"
	_tmp0_ = self->priv->hierarchy;
#line 1347 "valagirwriter.vala"
	_tmp1_ = vala_list_get ((ValaList*) _tmp0_, 0);
#line 1347 "valagirwriter.vala"
	parent = (ValaSymbol*) _tmp1_;
#line 1349 "valagirwriter.vala"
	_tmp2_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1349 "valagirwriter.vala"
	_tmp3_ = _tmp2_;
#line 1349 "valagirwriter.vala"
	_tmp4_ = parent;
#line 1349 "valagirwriter.vala"
	if (_tmp3_ != _tmp4_) {
#line 9053 "valagirwriter.vala.c"
		gchar* _tmp5_;
		gchar* parent_prefix = NULL;
		ValaSymbol* _tmp6_;
		gchar* _tmp7_;
		const gchar* _tmp8_;
		const gchar* _tmp9_;
#line 1350 "valagirwriter.vala"
		instance = FALSE;
#line 1351 "valagirwriter.vala"
		_tmp5_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1351 "valagirwriter.vala"
		_g_free0 (name);
#line 1351 "valagirwriter.vala"
		name = _tmp5_;
#line 1352 "valagirwriter.vala"
		_tmp6_ = parent;
#line 1352 "valagirwriter.vala"
		_tmp7_ = vala_get_ccode_lower_case_prefix (_tmp6_);
#line 1352 "valagirwriter.vala"
		parent_prefix = _tmp7_;
#line 1353 "valagirwriter.vala"
		_tmp8_ = name;
#line 1353 "valagirwriter.vala"
		_tmp9_ = parent_prefix;
#line 1353 "valagirwriter.vala"
		if (g_str_has_prefix (_tmp8_, _tmp9_)) {
#line 9080 "valagirwriter.vala.c"
			const gchar* _tmp10_;
			const gchar* _tmp11_;
			gint _tmp12_;
			gint _tmp13_;
			gchar* _tmp14_;
#line 1354 "valagirwriter.vala"
			_tmp10_ = name;
#line 1354 "valagirwriter.vala"
			_tmp11_ = parent_prefix;
#line 1354 "valagirwriter.vala"
			_tmp12_ = strlen (_tmp11_);
#line 1354 "valagirwriter.vala"
			_tmp13_ = _tmp12_;
#line 1354 "valagirwriter.vala"
			_tmp14_ = string_substring (_tmp10_, (glong) _tmp13_, (glong) -1);
#line 1354 "valagirwriter.vala"
			_g_free0 (name);
#line 1354 "valagirwriter.vala"
			name = _tmp14_;
#line 9100 "valagirwriter.vala.c"
		}
#line 1349 "valagirwriter.vala"
		_g_free0 (parent_prefix);
#line 9104 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp15_;
		const gchar* _tmp16_;
		gchar* _tmp17_;
#line 1357 "valagirwriter.vala"
		_tmp15_ = vala_symbol_get_name ((ValaSymbol*) m);
#line 1357 "valagirwriter.vala"
		_tmp16_ = _tmp15_;
#line 1357 "valagirwriter.vala"
		_tmp17_ = g_strdup (_tmp16_);
#line 1357 "valagirwriter.vala"
		_g_free0 (name);
#line 1357 "valagirwriter.vala"
		name = _tmp17_;
#line 9119 "valagirwriter.vala.c"
	}
#line 1360 "valagirwriter.vala"
	_tmp18_ = vala_method_get_coroutine (m);
#line 1360 "valagirwriter.vala"
	_tmp19_ = _tmp18_;
#line 1360 "valagirwriter.vala"
	if (_tmp19_) {
#line 9127 "valagirwriter.vala.c"
		gchar* finish_name = NULL;
		const gchar* _tmp20_;
		gchar* _tmp21_;
		const gchar* _tmp22_;
		const gchar* _tmp30_;
		gchar* _tmp31_;
		const gchar* _tmp32_;
		gchar* _tmp33_;
		gchar* _tmp34_;
		ValaList* _tmp35_;
		ValaVoidType* _tmp36_;
		ValaVoidType* _tmp37_;
		const gchar* _tmp38_;
		gchar* _tmp39_;
		gchar* _tmp40_;
		ValaList* _tmp41_;
		ValaDataType* _tmp42_;
		ValaDataType* _tmp43_;
		gboolean _tmp44_;
		gboolean _tmp45_;
#line 1361 "valagirwriter.vala"
		_tmp20_ = name;
#line 1361 "valagirwriter.vala"
		_tmp21_ = g_strdup (_tmp20_);
#line 1361 "valagirwriter.vala"
		finish_name = _tmp21_;
#line 1362 "valagirwriter.vala"
		_tmp22_ = finish_name;
#line 1362 "valagirwriter.vala"
		if (g_str_has_suffix (_tmp22_, "_async")) {
#line 9158 "valagirwriter.vala.c"
			const gchar* _tmp23_;
			const gchar* _tmp24_;
			gint _tmp25_;
			gint _tmp26_;
			gint _tmp27_;
			gint _tmp28_;
			gchar* _tmp29_;
#line 1363 "valagirwriter.vala"
			_tmp23_ = finish_name;
#line 1363 "valagirwriter.vala"
			_tmp24_ = finish_name;
#line 1363 "valagirwriter.vala"
			_tmp25_ = strlen (_tmp24_);
#line 1363 "valagirwriter.vala"
			_tmp26_ = _tmp25_;
#line 1363 "valagirwriter.vala"
			_tmp27_ = strlen ("_async");
#line 1363 "valagirwriter.vala"
			_tmp28_ = _tmp27_;
#line 1363 "valagirwriter.vala"
			_tmp29_ = string_substring (_tmp23_, (glong) 0, (glong) (_tmp26_ - _tmp28_));
#line 1363 "valagirwriter.vala"
			_g_free0 (finish_name);
#line 1363 "valagirwriter.vala"
			finish_name = _tmp29_;
#line 9184 "valagirwriter.vala.c"
		}
#line 1365 "valagirwriter.vala"
		_tmp30_ = finish_name;
#line 1365 "valagirwriter.vala"
		_tmp31_ = g_strconcat (_tmp30_, "_finish", NULL);
#line 1365 "valagirwriter.vala"
		_g_free0 (finish_name);
#line 1365 "valagirwriter.vala"
		finish_name = _tmp31_;
#line 1366 "valagirwriter.vala"
		_tmp32_ = name;
#line 1366 "valagirwriter.vala"
		_tmp33_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1366 "valagirwriter.vala"
		_tmp34_ = _tmp33_;
#line 1366 "valagirwriter.vala"
		_tmp35_ = vala_method_get_async_begin_parameters (m);
#line 1366 "valagirwriter.vala"
		_tmp36_ = vala_void_type_new (NULL);
#line 1366 "valagirwriter.vala"
		_tmp37_ = _tmp36_;
#line 1366 "valagirwriter.vala"
		vala_gir_writer_do_write_signature (self, m, tag_name, instance, _tmp32_, _tmp34_, _tmp35_, (ValaDataType*) _tmp37_, FALSE, TRUE, write_attributes);
#line 1366 "valagirwriter.vala"
		_vala_code_node_unref0 (_tmp37_);
#line 1366 "valagirwriter.vala"
		_g_free0 (_tmp34_);
#line 1367 "valagirwriter.vala"
		_tmp38_ = finish_name;
#line 1367 "valagirwriter.vala"
		_tmp39_ = vala_get_ccode_finish_name (m);
#line 1367 "valagirwriter.vala"
		_tmp40_ = _tmp39_;
#line 1367 "valagirwriter.vala"
		_tmp41_ = vala_method_get_async_end_parameters (m);
#line 1367 "valagirwriter.vala"
		_tmp42_ = vala_callable_get_return_type ((ValaCallable*) m);
#line 1367 "valagirwriter.vala"
		_tmp43_ = _tmp42_;
#line 1367 "valagirwriter.vala"
		_tmp44_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) m);
#line 1367 "valagirwriter.vala"
		_tmp45_ = _tmp44_;
#line 1367 "valagirwriter.vala"
		vala_gir_writer_do_write_signature (self, m, tag_name, instance, _tmp38_, _tmp40_, _tmp41_, _tmp43_, _tmp45_, FALSE, write_attributes);
#line 1367 "valagirwriter.vala"
		_g_free0 (_tmp40_);
#line 1360 "valagirwriter.vala"
		_g_free0 (finish_name);
#line 9234 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp46_;
		gchar* _tmp47_;
		gchar* _tmp48_;
		ValaList* _tmp49_;
		ValaDataType* _tmp50_;
		ValaDataType* _tmp51_;
		gboolean _tmp52_;
		gboolean _tmp53_;
#line 1369 "valagirwriter.vala"
		_tmp46_ = name;
#line 1369 "valagirwriter.vala"
		_tmp47_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1369 "valagirwriter.vala"
		_tmp48_ = _tmp47_;
#line 1369 "valagirwriter.vala"
		_tmp49_ = vala_callable_get_parameters ((ValaCallable*) m);
#line 1369 "valagirwriter.vala"
		_tmp50_ = vala_callable_get_return_type ((ValaCallable*) m);
#line 1369 "valagirwriter.vala"
		_tmp51_ = _tmp50_;
#line 1369 "valagirwriter.vala"
		_tmp52_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) m);
#line 1369 "valagirwriter.vala"
		_tmp53_ = _tmp52_;
#line 1369 "valagirwriter.vala"
		vala_gir_writer_do_write_signature (self, m, tag_name, instance, _tmp46_, _tmp48_, _tmp49_, _tmp51_, _tmp53_, TRUE, write_attributes);
#line 1369 "valagirwriter.vala"
		_g_free0 (_tmp48_);
#line 9264 "valagirwriter.vala.c"
	}
#line 1346 "valagirwriter.vala"
	_g_free0 (name);
#line 1346 "valagirwriter.vala"
	_vala_code_node_unref0 (parent);
#line 9270 "valagirwriter.vala.c"
}

static void
vala_gir_writer_do_write_signature (ValaGIRWriter* self,
                                    ValaMethod* m,
                                    const gchar* tag_name,
                                    gboolean instance,
                                    const gchar* name,
                                    const gchar* cname,
                                    ValaList* params,
                                    ValaDataType* return_type,
                                    gboolean can_fail,
                                    gboolean write_comment,
                                    gboolean write_attributes)
{
	GString* _tmp0_;
	GString* _tmp5_;
	gint _tmp6_;
	gchar* return_comment = NULL;
	ValaList* _tmp10_;
	const gchar* _tmp11_;
	ValaParameter* _tmp12_;
	ValaParameter* _tmp13_;
	gint _tmp14_;
	GString* _tmp15_;
#line 1374 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1375 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 1375 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, "<%s name=\"%s\"", tag_name, name);
#line 1376 "valagirwriter.vala"
	if (g_strcmp0 (tag_name, "virtual-method") == 0) {
#line 1377 "valagirwriter.vala"
		if (!vala_get_ccode_no_wrapper (m)) {
#line 9306 "valagirwriter.vala.c"
			GString* _tmp1_;
#line 1378 "valagirwriter.vala"
			_tmp1_ = self->priv->buffer;
#line 1378 "valagirwriter.vala"
			g_string_append_printf (_tmp1_, " invoker=\"%s\"", name);
#line 9312 "valagirwriter.vala.c"
		}
	} else {
#line 1380 "valagirwriter.vala"
		if (g_strcmp0 (tag_name, "callback") == 0) {
#line 9317 "valagirwriter.vala.c"
			GString* _tmp2_;
#line 1382 "valagirwriter.vala"
			_tmp2_ = self->priv->buffer;
#line 1382 "valagirwriter.vala"
			g_string_append_printf (_tmp2_, " c:type=\"%s\"", name);
#line 9323 "valagirwriter.vala.c"
		} else {
			GString* _tmp3_;
#line 1384 "valagirwriter.vala"
			_tmp3_ = self->priv->buffer;
#line 1384 "valagirwriter.vala"
			g_string_append_printf (_tmp3_, " c:identifier=\"%s\"", cname);
#line 9330 "valagirwriter.vala.c"
		}
	}
#line 1386 "valagirwriter.vala"
	if (can_fail) {
#line 9335 "valagirwriter.vala.c"
		GString* _tmp4_;
#line 1387 "valagirwriter.vala"
		_tmp4_ = self->priv->buffer;
#line 1387 "valagirwriter.vala"
		g_string_append_printf (_tmp4_, " throws=\"1\"");
#line 9341 "valagirwriter.vala.c"
	}
#line 1389 "valagirwriter.vala"
	if (write_attributes) {
#line 1390 "valagirwriter.vala"
		vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) m);
#line 9347 "valagirwriter.vala.c"
	}
#line 1392 "valagirwriter.vala"
	_tmp5_ = self->priv->buffer;
#line 1392 "valagirwriter.vala"
	g_string_append_printf (_tmp5_, ">\n");
#line 1393 "valagirwriter.vala"
	_tmp6_ = self->priv->indent;
#line 1393 "valagirwriter.vala"
	self->priv->indent = _tmp6_ + 1;
#line 1395 "valagirwriter.vala"
	return_comment = NULL;
#line 1396 "valagirwriter.vala"
	if (write_comment) {
#line 9361 "valagirwriter.vala.c"
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
#line 1397 "valagirwriter.vala"
		_tmp7_ = vala_gir_writer_get_method_return_comment (self, m);
#line 1397 "valagirwriter.vala"
		_g_free0 (return_comment);
#line 1397 "valagirwriter.vala"
		return_comment = _tmp7_;
#line 1398 "valagirwriter.vala"
		_tmp8_ = vala_gir_writer_get_method_comment (self, m);
#line 1398 "valagirwriter.vala"
		_tmp9_ = _tmp8_;
#line 1398 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp9_);
#line 1398 "valagirwriter.vala"
		_g_free0 (_tmp9_);
#line 9379 "valagirwriter.vala.c"
	}
#line 1401 "valagirwriter.vala"
	_tmp10_ = vala_method_get_type_parameters (m);
#line 1401 "valagirwriter.vala"
	_tmp11_ = return_comment;
#line 1401 "valagirwriter.vala"
	_tmp12_ = vala_method_get_this_parameter (m);
#line 1401 "valagirwriter.vala"
	_tmp13_ = _tmp12_;
#line 1401 "valagirwriter.vala"
	vala_gir_writer_write_params_and_return (self, tag_name, params, _tmp10_, return_type, vala_get_ccode_array_length ((ValaCodeNode*) m), _tmp11_, FALSE, _tmp13_, FALSE);
#line 1403 "valagirwriter.vala"
	_tmp14_ = self->priv->indent;
#line 1403 "valagirwriter.vala"
	self->priv->indent = _tmp14_ - 1;
#line 1404 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1405 "valagirwriter.vala"
	_tmp15_ = self->priv->buffer;
#line 1405 "valagirwriter.vala"
	g_string_append_printf (_tmp15_, "</%s>\n", tag_name);
#line 1373 "valagirwriter.vala"
	_g_free0 (return_comment);
#line 9403 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_creation_method (ValaCodeVisitor* base,
                                            ValaCreationMethod* m)
{
	ValaGIRWriter * self;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_ = FALSE;
	ValaSymbol* _tmp3_;
	ValaSymbol* _tmp4_;
	gboolean is_struct = FALSE;
	ValaSymbol* _tmp9_;
	ValaSymbol* _tmp10_;
	const gchar* _tmp11_ = NULL;
	gchar* tag_name = NULL;
	gchar* _tmp12_;
	gboolean _tmp13_ = FALSE;
	gboolean _tmp14_ = FALSE;
	ValaSymbol* _tmp15_;
	ValaSymbol* _tmp16_;
	gboolean _tmp47_;
	gboolean _tmp48_;
	GString* _tmp50_;
	gint _tmp51_;
	gchar* _tmp52_;
	gchar* _tmp53_;
	ValaDataType* datatype = NULL;
	ValaSymbol* _tmp54_;
	ValaSymbol* _tmp55_;
	ValaDataType* _tmp56_;
	ValaList* type_params = NULL;
	ValaSymbol* _tmp57_;
	ValaSymbol* _tmp58_;
	const gchar* _tmp63_;
	ValaList* _tmp64_;
	ValaList* _tmp65_;
	ValaDataType* _tmp66_;
	gchar* _tmp67_;
	gchar* _tmp68_;
	gint _tmp69_;
	GString* _tmp70_;
	const gchar* _tmp71_;
#line 1408 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1409 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_external_package ((ValaSymbol*) m);
#line 1409 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1409 "valagirwriter.vala"
	if (_tmp1_) {
#line 1410 "valagirwriter.vala"
		return;
#line 9458 "valagirwriter.vala.c"
	}
#line 1413 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) m)) {
#line 1414 "valagirwriter.vala"
		return;
#line 9464 "valagirwriter.vala.c"
	}
#line 1417 "valagirwriter.vala"
	_tmp3_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1417 "valagirwriter.vala"
	_tmp4_ = _tmp3_;
#line 1417 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_CLASS)) {
#line 9472 "valagirwriter.vala.c"
		ValaSymbol* _tmp5_;
		ValaSymbol* _tmp6_;
		gboolean _tmp7_;
		gboolean _tmp8_;
#line 1417 "valagirwriter.vala"
		_tmp5_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1417 "valagirwriter.vala"
		_tmp6_ = _tmp5_;
#line 1417 "valagirwriter.vala"
		_tmp7_ = vala_class_get_is_abstract (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, VALA_TYPE_CLASS, ValaClass));
#line 1417 "valagirwriter.vala"
		_tmp8_ = _tmp7_;
#line 1417 "valagirwriter.vala"
		_tmp2_ = _tmp8_;
#line 9487 "valagirwriter.vala.c"
	} else {
#line 1417 "valagirwriter.vala"
		_tmp2_ = FALSE;
#line 9491 "valagirwriter.vala.c"
	}
#line 1417 "valagirwriter.vala"
	if (_tmp2_) {
#line 1418 "valagirwriter.vala"
		return;
#line 9497 "valagirwriter.vala.c"
	}
#line 1421 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1423 "valagirwriter.vala"
	_tmp9_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1423 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 1423 "valagirwriter.vala"
	is_struct = G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, VALA_TYPE_STRUCT);
#line 1425 "valagirwriter.vala"
	if (is_struct) {
#line 1425 "valagirwriter.vala"
		_tmp11_ = "method";
#line 9511 "valagirwriter.vala.c"
	} else {
#line 1425 "valagirwriter.vala"
		_tmp11_ = "constructor";
#line 9515 "valagirwriter.vala.c"
	}
#line 1425 "valagirwriter.vala"
	_tmp12_ = g_strdup (_tmp11_);
#line 1425 "valagirwriter.vala"
	tag_name = _tmp12_;
#line 1427 "valagirwriter.vala"
	_tmp15_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1427 "valagirwriter.vala"
	_tmp16_ = _tmp15_;
#line 1427 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp16_, VALA_TYPE_CLASS)) {
#line 9527 "valagirwriter.vala.c"
		ValaSymbol* _tmp17_;
		ValaSymbol* _tmp18_;
		ValaCreationMethod* _tmp19_;
		ValaCreationMethod* _tmp20_;
#line 1427 "valagirwriter.vala"
		_tmp17_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1427 "valagirwriter.vala"
		_tmp18_ = _tmp17_;
#line 1427 "valagirwriter.vala"
		_tmp19_ = vala_class_get_default_construction_method (G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, VALA_TYPE_CLASS, ValaClass));
#line 1427 "valagirwriter.vala"
		_tmp20_ = _tmp19_;
#line 1427 "valagirwriter.vala"
		_tmp14_ = m == _tmp20_;
#line 9542 "valagirwriter.vala.c"
	} else {
#line 1427 "valagirwriter.vala"
		_tmp14_ = FALSE;
#line 9546 "valagirwriter.vala.c"
	}
#line 1427 "valagirwriter.vala"
	if (_tmp14_) {
#line 1427 "valagirwriter.vala"
		_tmp13_ = TRUE;
#line 9552 "valagirwriter.vala.c"
	} else {
		gboolean _tmp21_ = FALSE;
		ValaSymbol* _tmp22_;
		ValaSymbol* _tmp23_;
#line 1428 "valagirwriter.vala"
		_tmp22_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1428 "valagirwriter.vala"
		_tmp23_ = _tmp22_;
#line 1428 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp23_, VALA_TYPE_STRUCT)) {
#line 9563 "valagirwriter.vala.c"
			ValaSymbol* _tmp24_;
			ValaSymbol* _tmp25_;
			ValaCreationMethod* _tmp26_;
			ValaCreationMethod* _tmp27_;
#line 1428 "valagirwriter.vala"
			_tmp24_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1428 "valagirwriter.vala"
			_tmp25_ = _tmp24_;
#line 1428 "valagirwriter.vala"
			_tmp26_ = vala_struct_get_default_construction_method (G_TYPE_CHECK_INSTANCE_CAST (_tmp25_, VALA_TYPE_STRUCT, ValaStruct));
#line 1428 "valagirwriter.vala"
			_tmp27_ = _tmp26_;
#line 1428 "valagirwriter.vala"
			_tmp21_ = m == _tmp27_;
#line 9578 "valagirwriter.vala.c"
		} else {
#line 1428 "valagirwriter.vala"
			_tmp21_ = FALSE;
#line 9582 "valagirwriter.vala.c"
		}
#line 1428 "valagirwriter.vala"
		_tmp13_ = _tmp21_;
#line 9586 "valagirwriter.vala.c"
	}
#line 1427 "valagirwriter.vala"
	if (_tmp13_) {
#line 9590 "valagirwriter.vala.c"
		const gchar* _tmp28_ = NULL;
		gchar* m_name = NULL;
		gchar* _tmp29_;
		GString* _tmp30_;
		const gchar* _tmp31_;
		const gchar* _tmp32_;
		gchar* _tmp33_;
		gchar* _tmp34_;
#line 1429 "valagirwriter.vala"
		if (is_struct) {
#line 1429 "valagirwriter.vala"
			_tmp28_ = "init";
#line 9603 "valagirwriter.vala.c"
		} else {
#line 1429 "valagirwriter.vala"
			_tmp28_ = "new";
#line 9607 "valagirwriter.vala.c"
		}
#line 1429 "valagirwriter.vala"
		_tmp29_ = g_strdup (_tmp28_);
#line 1429 "valagirwriter.vala"
		m_name = _tmp29_;
#line 1430 "valagirwriter.vala"
		_tmp30_ = self->priv->buffer;
#line 1430 "valagirwriter.vala"
		_tmp31_ = tag_name;
#line 1430 "valagirwriter.vala"
		_tmp32_ = m_name;
#line 1430 "valagirwriter.vala"
		_tmp33_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1430 "valagirwriter.vala"
		_tmp34_ = _tmp33_;
#line 1430 "valagirwriter.vala"
		g_string_append_printf (_tmp30_, "<%s name=\"%s\" c:identifier=\"%s\"", _tmp31_, _tmp32_, _tmp34_);
#line 1430 "valagirwriter.vala"
		_g_free0 (_tmp34_);
#line 1427 "valagirwriter.vala"
		_g_free0 (m_name);
#line 9629 "valagirwriter.vala.c"
	} else {
#line 1431 "valagirwriter.vala"
		if (is_struct) {
#line 9633 "valagirwriter.vala.c"
			GString* _tmp35_;
			const gchar* _tmp36_;
			const gchar* _tmp37_;
			const gchar* _tmp38_;
			gchar* _tmp39_;
			gchar* _tmp40_;
#line 1432 "valagirwriter.vala"
			_tmp35_ = self->priv->buffer;
#line 1432 "valagirwriter.vala"
			_tmp36_ = tag_name;
#line 1432 "valagirwriter.vala"
			_tmp37_ = vala_symbol_get_name ((ValaSymbol*) m);
#line 1432 "valagirwriter.vala"
			_tmp38_ = _tmp37_;
#line 1432 "valagirwriter.vala"
			_tmp39_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1432 "valagirwriter.vala"
			_tmp40_ = _tmp39_;
#line 1432 "valagirwriter.vala"
			g_string_append_printf (_tmp35_, "<%s name=\"init_%s\" c:identifier=\"%s\"", _tmp36_, _tmp38_, _tmp40_);
#line 1432 "valagirwriter.vala"
			_g_free0 (_tmp40_);
#line 9656 "valagirwriter.vala.c"
		} else {
			GString* _tmp41_;
			const gchar* _tmp42_;
			const gchar* _tmp43_;
			const gchar* _tmp44_;
			gchar* _tmp45_;
			gchar* _tmp46_;
#line 1434 "valagirwriter.vala"
			_tmp41_ = self->priv->buffer;
#line 1434 "valagirwriter.vala"
			_tmp42_ = tag_name;
#line 1434 "valagirwriter.vala"
			_tmp43_ = vala_symbol_get_name ((ValaSymbol*) m);
#line 1434 "valagirwriter.vala"
			_tmp44_ = _tmp43_;
#line 1434 "valagirwriter.vala"
			_tmp45_ = vala_get_ccode_name ((ValaCodeNode*) m);
#line 1434 "valagirwriter.vala"
			_tmp46_ = _tmp45_;
#line 1434 "valagirwriter.vala"
			g_string_append_printf (_tmp41_, "<%s name=\"%s\" c:identifier=\"%s\"", _tmp42_, _tmp44_, _tmp46_);
#line 1434 "valagirwriter.vala"
			_g_free0 (_tmp46_);
#line 9680 "valagirwriter.vala.c"
		}
	}
#line 1437 "valagirwriter.vala"
	_tmp47_ = vala_code_node_get_tree_can_fail ((ValaCodeNode*) m);
#line 1437 "valagirwriter.vala"
	_tmp48_ = _tmp47_;
#line 1437 "valagirwriter.vala"
	if (_tmp48_) {
#line 9689 "valagirwriter.vala.c"
		GString* _tmp49_;
#line 1438 "valagirwriter.vala"
		_tmp49_ = self->priv->buffer;
#line 1438 "valagirwriter.vala"
		g_string_append_printf (_tmp49_, " throws=\"1\"");
#line 9695 "valagirwriter.vala.c"
	}
#line 1440 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) m);
#line 1441 "valagirwriter.vala"
	_tmp50_ = self->priv->buffer;
#line 1441 "valagirwriter.vala"
	g_string_append_printf (_tmp50_, ">\n");
#line 1442 "valagirwriter.vala"
	_tmp51_ = self->priv->indent;
#line 1442 "valagirwriter.vala"
	self->priv->indent = _tmp51_ + 1;
#line 1444 "valagirwriter.vala"
	_tmp52_ = vala_gir_writer_get_method_comment (self, (ValaMethod*) m);
#line 1444 "valagirwriter.vala"
	_tmp53_ = _tmp52_;
#line 1444 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp53_);
#line 1444 "valagirwriter.vala"
	_g_free0 (_tmp53_);
#line 1446 "valagirwriter.vala"
	_tmp54_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1446 "valagirwriter.vala"
	_tmp55_ = _tmp54_;
#line 1446 "valagirwriter.vala"
	_tmp56_ = vala_semantic_analyzer_get_data_type_for_symbol (_tmp55_);
#line 1446 "valagirwriter.vala"
	datatype = _tmp56_;
#line 1447 "valagirwriter.vala"
	type_params = NULL;
#line 1448 "valagirwriter.vala"
	_tmp57_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1448 "valagirwriter.vala"
	_tmp58_ = _tmp57_;
#line 1448 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp58_, VALA_TYPE_CLASS)) {
#line 9731 "valagirwriter.vala.c"
		ValaSymbol* _tmp59_;
		ValaSymbol* _tmp60_;
		ValaList* _tmp61_;
		ValaList* _tmp62_;
#line 1449 "valagirwriter.vala"
		_tmp59_ = vala_symbol_get_parent_symbol ((ValaSymbol*) m);
#line 1449 "valagirwriter.vala"
		_tmp60_ = _tmp59_;
#line 1449 "valagirwriter.vala"
		_tmp61_ = vala_object_type_symbol_get_type_parameters ((ValaObjectTypeSymbol*) G_TYPE_CHECK_INSTANCE_CAST (_tmp60_, VALA_TYPE_CLASS, ValaClass));
#line 1449 "valagirwriter.vala"
		_tmp62_ = _vala_iterable_ref0 (_tmp61_);
#line 1449 "valagirwriter.vala"
		_vala_iterable_unref0 (type_params);
#line 1449 "valagirwriter.vala"
		type_params = _tmp62_;
#line 9748 "valagirwriter.vala.c"
	}
#line 1451 "valagirwriter.vala"
	_tmp63_ = tag_name;
#line 1451 "valagirwriter.vala"
	_tmp64_ = vala_callable_get_parameters ((ValaCallable*) m);
#line 1451 "valagirwriter.vala"
	_tmp65_ = type_params;
#line 1451 "valagirwriter.vala"
	_tmp66_ = datatype;
#line 1451 "valagirwriter.vala"
	_tmp67_ = vala_gir_writer_get_method_return_comment (self, (ValaMethod*) m);
#line 1451 "valagirwriter.vala"
	_tmp68_ = _tmp67_;
#line 1451 "valagirwriter.vala"
	vala_gir_writer_write_params_and_return (self, _tmp63_, _tmp64_, _tmp65_, _tmp66_, FALSE, _tmp68_, TRUE, NULL, FALSE);
#line 1451 "valagirwriter.vala"
	_g_free0 (_tmp68_);
#line 1453 "valagirwriter.vala"
	_tmp69_ = self->priv->indent;
#line 1453 "valagirwriter.vala"
	self->priv->indent = _tmp69_ - 1;
#line 1454 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1455 "valagirwriter.vala"
	_tmp70_ = self->priv->buffer;
#line 1455 "valagirwriter.vala"
	_tmp71_ = tag_name;
#line 1455 "valagirwriter.vala"
	g_string_append_printf (_tmp70_, "</%s>\n", _tmp71_);
#line 1408 "valagirwriter.vala"
	_vala_iterable_unref0 (type_params);
#line 1408 "valagirwriter.vala"
	_vala_code_node_unref0 (datatype);
#line 1408 "valagirwriter.vala"
	_g_free0 (tag_name);
#line 9784 "valagirwriter.vala.c"
}

static void
vala_gir_writer_real_visit_property (ValaCodeVisitor* base,
                                     ValaProperty* prop)
{
	ValaGIRWriter * self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	ValaCodeContext* _tmp12_;
	ValaSemanticAnalyzer* _tmp13_;
	ValaSemanticAnalyzer* _tmp14_;
	ValaPropertyAccessor* _tmp42_;
	ValaPropertyAccessor* _tmp43_;
	ValaPropertyAccessor* _tmp49_;
	ValaPropertyAccessor* _tmp50_;
#line 1458 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1459 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) prop)) {
#line 1459 "valagirwriter.vala"
		_tmp1_ = TRUE;
#line 9807 "valagirwriter.vala.c"
	} else {
		gboolean _tmp2_;
		gboolean _tmp3_;
#line 1459 "valagirwriter.vala"
		_tmp2_ = vala_property_get_overrides (prop);
#line 1459 "valagirwriter.vala"
		_tmp3_ = _tmp2_;
#line 1459 "valagirwriter.vala"
		_tmp1_ = _tmp3_;
#line 9817 "valagirwriter.vala.c"
	}
#line 1459 "valagirwriter.vala"
	if (_tmp1_) {
#line 1459 "valagirwriter.vala"
		_tmp0_ = TRUE;
#line 9823 "valagirwriter.vala.c"
	} else {
		gboolean _tmp4_ = FALSE;
		gboolean _tmp5_ = FALSE;
		ValaProperty* _tmp6_;
		ValaProperty* _tmp7_;
#line 1459 "valagirwriter.vala"
		_tmp6_ = vala_property_get_base_interface_property (prop);
#line 1459 "valagirwriter.vala"
		_tmp7_ = _tmp6_;
#line 1459 "valagirwriter.vala"
		if (_tmp7_ != NULL) {
#line 9835 "valagirwriter.vala.c"
			gboolean _tmp8_;
			gboolean _tmp9_;
#line 1459 "valagirwriter.vala"
			_tmp8_ = vala_property_get_is_abstract (prop);
#line 1459 "valagirwriter.vala"
			_tmp9_ = _tmp8_;
#line 1459 "valagirwriter.vala"
			_tmp5_ = !_tmp9_;
#line 9844 "valagirwriter.vala.c"
		} else {
#line 1459 "valagirwriter.vala"
			_tmp5_ = FALSE;
#line 9848 "valagirwriter.vala.c"
		}
#line 1459 "valagirwriter.vala"
		if (_tmp5_) {
#line 9852 "valagirwriter.vala.c"
			gboolean _tmp10_;
			gboolean _tmp11_;
#line 1459 "valagirwriter.vala"
			_tmp10_ = vala_property_get_is_virtual (prop);
#line 1459 "valagirwriter.vala"
			_tmp11_ = _tmp10_;
#line 1459 "valagirwriter.vala"
			_tmp4_ = !_tmp11_;
#line 9861 "valagirwriter.vala.c"
		} else {
#line 1459 "valagirwriter.vala"
			_tmp4_ = FALSE;
#line 9865 "valagirwriter.vala.c"
		}
#line 1459 "valagirwriter.vala"
		_tmp0_ = _tmp4_;
#line 9869 "valagirwriter.vala.c"
	}
#line 1459 "valagirwriter.vala"
	if (_tmp0_) {
#line 1460 "valagirwriter.vala"
		return;
#line 9875 "valagirwriter.vala.c"
	}
#line 1463 "valagirwriter.vala"
	_tmp12_ = self->priv->context;
#line 1463 "valagirwriter.vala"
	_tmp13_ = vala_code_context_get_analyzer (_tmp12_);
#line 1463 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 1463 "valagirwriter.vala"
	if (vala_semantic_analyzer_is_gobject_property (_tmp14_, prop)) {
#line 9885 "valagirwriter.vala.c"
		GString* _tmp15_;
		gchar* _tmp16_;
		gchar* _tmp17_;
		ValaPropertyAccessor* _tmp18_;
		ValaPropertyAccessor* _tmp19_;
		ValaPropertyAccessor* _tmp21_;
		ValaPropertyAccessor* _tmp22_;
		GString* _tmp34_;
		gint _tmp35_;
		gchar* _tmp36_;
		gchar* _tmp37_;
		ValaDataType* _tmp38_;
		ValaDataType* _tmp39_;
		gint _tmp40_;
		GString* _tmp41_;
#line 1464 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1465 "valagirwriter.vala"
		_tmp15_ = self->priv->buffer;
#line 1465 "valagirwriter.vala"
		_tmp16_ = vala_get_ccode_name ((ValaCodeNode*) prop);
#line 1465 "valagirwriter.vala"
		_tmp17_ = _tmp16_;
#line 1465 "valagirwriter.vala"
		g_string_append_printf (_tmp15_, "<property name=\"%s\"", _tmp17_);
#line 1465 "valagirwriter.vala"
		_g_free0 (_tmp17_);
#line 1466 "valagirwriter.vala"
		_tmp18_ = vala_property_get_get_accessor (prop);
#line 1466 "valagirwriter.vala"
		_tmp19_ = _tmp18_;
#line 1466 "valagirwriter.vala"
		if (_tmp19_ == NULL) {
#line 9919 "valagirwriter.vala.c"
			GString* _tmp20_;
#line 1467 "valagirwriter.vala"
			_tmp20_ = self->priv->buffer;
#line 1467 "valagirwriter.vala"
			g_string_append_printf (_tmp20_, " readable=\"0\"");
#line 9925 "valagirwriter.vala.c"
		}
#line 1469 "valagirwriter.vala"
		_tmp21_ = vala_property_get_set_accessor (prop);
#line 1469 "valagirwriter.vala"
		_tmp22_ = _tmp21_;
#line 1469 "valagirwriter.vala"
		if (_tmp22_ != NULL) {
#line 9933 "valagirwriter.vala.c"
			GString* _tmp23_;
			ValaPropertyAccessor* _tmp24_;
			ValaPropertyAccessor* _tmp25_;
			gboolean _tmp26_;
			gboolean _tmp27_;
#line 1470 "valagirwriter.vala"
			_tmp23_ = self->priv->buffer;
#line 1470 "valagirwriter.vala"
			g_string_append_printf (_tmp23_, " writable=\"1\"");
#line 1471 "valagirwriter.vala"
			_tmp24_ = vala_property_get_set_accessor (prop);
#line 1471 "valagirwriter.vala"
			_tmp25_ = _tmp24_;
#line 1471 "valagirwriter.vala"
			_tmp26_ = vala_property_accessor_get_construction (_tmp25_);
#line 1471 "valagirwriter.vala"
			_tmp27_ = _tmp26_;
#line 1471 "valagirwriter.vala"
			if (_tmp27_) {
#line 9953 "valagirwriter.vala.c"
				ValaPropertyAccessor* _tmp28_;
				ValaPropertyAccessor* _tmp29_;
				gboolean _tmp30_;
				gboolean _tmp31_;
#line 1472 "valagirwriter.vala"
				_tmp28_ = vala_property_get_set_accessor (prop);
#line 1472 "valagirwriter.vala"
				_tmp29_ = _tmp28_;
#line 1472 "valagirwriter.vala"
				_tmp30_ = vala_property_accessor_get_writable (_tmp29_);
#line 1472 "valagirwriter.vala"
				_tmp31_ = _tmp30_;
#line 1472 "valagirwriter.vala"
				if (!_tmp31_) {
#line 9968 "valagirwriter.vala.c"
					GString* _tmp32_;
#line 1473 "valagirwriter.vala"
					_tmp32_ = self->priv->buffer;
#line 1473 "valagirwriter.vala"
					g_string_append_printf (_tmp32_, " construct-only=\"1\"");
#line 9974 "valagirwriter.vala.c"
				} else {
					GString* _tmp33_;
#line 1475 "valagirwriter.vala"
					_tmp33_ = self->priv->buffer;
#line 1475 "valagirwriter.vala"
					g_string_append_printf (_tmp33_, " construct=\"1\"");
#line 9981 "valagirwriter.vala.c"
				}
			}
		}
#line 1479 "valagirwriter.vala"
		vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) prop);
#line 1480 "valagirwriter.vala"
		_tmp34_ = self->priv->buffer;
#line 1480 "valagirwriter.vala"
		g_string_append_printf (_tmp34_, ">\n");
#line 1481 "valagirwriter.vala"
		_tmp35_ = self->priv->indent;
#line 1481 "valagirwriter.vala"
		self->priv->indent = _tmp35_ + 1;
#line 1483 "valagirwriter.vala"
		_tmp36_ = vala_gir_writer_get_property_comment (self, prop);
#line 1483 "valagirwriter.vala"
		_tmp37_ = _tmp36_;
#line 1483 "valagirwriter.vala"
		vala_gir_writer_write_doc (self, _tmp37_);
#line 1483 "valagirwriter.vala"
		_g_free0 (_tmp37_);
#line 1485 "valagirwriter.vala"
		_tmp38_ = vala_property_get_property_type (prop);
#line 1485 "valagirwriter.vala"
		_tmp39_ = _tmp38_;
#line 1485 "valagirwriter.vala"
		vala_gir_writer_write_type (self, _tmp39_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1487 "valagirwriter.vala"
		_tmp40_ = self->priv->indent;
#line 1487 "valagirwriter.vala"
		self->priv->indent = _tmp40_ - 1;
#line 1488 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1489 "valagirwriter.vala"
		_tmp41_ = self->priv->buffer;
#line 1489 "valagirwriter.vala"
		g_string_append_printf (_tmp41_, "</property>\n");
#line 10019 "valagirwriter.vala.c"
	}
#line 1492 "valagirwriter.vala"
	_tmp42_ = vala_property_get_get_accessor (prop);
#line 1492 "valagirwriter.vala"
	_tmp43_ = _tmp42_;
#line 1492 "valagirwriter.vala"
	if (_tmp43_ != NULL) {
#line 10027 "valagirwriter.vala.c"
		ValaMethod* m = NULL;
		ValaPropertyAccessor* _tmp44_;
		ValaPropertyAccessor* _tmp45_;
		ValaMethod* _tmp46_;
		ValaMethod* _tmp47_;
#line 1493 "valagirwriter.vala"
		_tmp44_ = vala_property_get_get_accessor (prop);
#line 1493 "valagirwriter.vala"
		_tmp45_ = _tmp44_;
#line 1493 "valagirwriter.vala"
		_tmp46_ = vala_property_accessor_get_method (_tmp45_);
#line 1493 "valagirwriter.vala"
		m = _tmp46_;
#line 1494 "valagirwriter.vala"
		_tmp47_ = m;
#line 1494 "valagirwriter.vala"
		if (_tmp47_ != NULL) {
#line 10045 "valagirwriter.vala.c"
			ValaMethod* _tmp48_;
#line 1495 "valagirwriter.vala"
			_tmp48_ = m;
#line 1495 "valagirwriter.vala"
			vala_code_visitor_visit_method ((ValaCodeVisitor*) self, _tmp48_);
#line 10051 "valagirwriter.vala.c"
		}
#line 1492 "valagirwriter.vala"
		_vala_code_node_unref0 (m);
#line 10055 "valagirwriter.vala.c"
	}
#line 1499 "valagirwriter.vala"
	_tmp49_ = vala_property_get_set_accessor (prop);
#line 1499 "valagirwriter.vala"
	_tmp50_ = _tmp49_;
#line 1499 "valagirwriter.vala"
	if (_tmp50_ != NULL) {
#line 10063 "valagirwriter.vala.c"
		ValaMethod* m = NULL;
		ValaPropertyAccessor* _tmp51_;
		ValaPropertyAccessor* _tmp52_;
		ValaMethod* _tmp53_;
		ValaMethod* _tmp54_;
#line 1500 "valagirwriter.vala"
		_tmp51_ = vala_property_get_set_accessor (prop);
#line 1500 "valagirwriter.vala"
		_tmp52_ = _tmp51_;
#line 1500 "valagirwriter.vala"
		_tmp53_ = vala_property_accessor_get_method (_tmp52_);
#line 1500 "valagirwriter.vala"
		m = _tmp53_;
#line 1501 "valagirwriter.vala"
		_tmp54_ = m;
#line 1501 "valagirwriter.vala"
		if (_tmp54_ != NULL) {
#line 10081 "valagirwriter.vala.c"
			ValaMethod* _tmp55_;
#line 1502 "valagirwriter.vala"
			_tmp55_ = m;
#line 1502 "valagirwriter.vala"
			vala_code_visitor_visit_method ((ValaCodeVisitor*) self, _tmp55_);
#line 10087 "valagirwriter.vala.c"
		}
#line 1499 "valagirwriter.vala"
		_vala_code_node_unref0 (m);
#line 10091 "valagirwriter.vala.c"
	}
}

static void
vala_gir_writer_real_visit_signal (ValaCodeVisitor* base,
                                   ValaSignal* sig)
{
	ValaGIRWriter * self;
	ValaMethod* _tmp0_;
	ValaMethod* _tmp1_;
	ValaMethod* _tmp4_;
	ValaMethod* _tmp5_;
	GString* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	GString* _tmp11_;
	gint _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	ValaList* _tmp15_;
	ValaDataType* _tmp16_;
	ValaDataType* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gint _tmp20_;
	GString* _tmp21_;
#line 1507 "valagirwriter.vala"
	self = (ValaGIRWriter*) base;
#line 1508 "valagirwriter.vala"
	if (!vala_gir_writer_check_accessibility (self, (ValaSymbol*) sig)) {
#line 1509 "valagirwriter.vala"
		return;
#line 10124 "valagirwriter.vala.c"
	}
#line 1512 "valagirwriter.vala"
	_tmp0_ = vala_signal_get_emitter (sig);
#line 1512 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1512 "valagirwriter.vala"
	if (_tmp1_ != NULL) {
#line 10132 "valagirwriter.vala.c"
		ValaMethod* _tmp2_;
		ValaMethod* _tmp3_;
#line 1513 "valagirwriter.vala"
		_tmp2_ = vala_signal_get_emitter (sig);
#line 1513 "valagirwriter.vala"
		_tmp3_ = _tmp2_;
#line 1513 "valagirwriter.vala"
		vala_code_node_accept ((ValaCodeNode*) _tmp3_, (ValaCodeVisitor*) self);
#line 10141 "valagirwriter.vala.c"
	}
#line 1516 "valagirwriter.vala"
	_tmp4_ = vala_signal_get_default_handler (sig);
#line 1516 "valagirwriter.vala"
	_tmp5_ = _tmp4_;
#line 1516 "valagirwriter.vala"
	if (_tmp5_ != NULL) {
#line 10149 "valagirwriter.vala.c"
		ValaMethod* _tmp6_;
		ValaMethod* _tmp7_;
#line 1517 "valagirwriter.vala"
		_tmp6_ = vala_signal_get_default_handler (sig);
#line 1517 "valagirwriter.vala"
		_tmp7_ = _tmp6_;
#line 1517 "valagirwriter.vala"
		vala_code_node_accept ((ValaCodeNode*) _tmp7_, (ValaCodeVisitor*) self);
#line 10158 "valagirwriter.vala.c"
	}
#line 1520 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1521 "valagirwriter.vala"
	_tmp8_ = self->priv->buffer;
#line 1521 "valagirwriter.vala"
	_tmp9_ = vala_get_ccode_name ((ValaCodeNode*) sig);
#line 1521 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 1521 "valagirwriter.vala"
	g_string_append_printf (_tmp8_, "<glib:signal name=\"%s\"", _tmp10_);
#line 1521 "valagirwriter.vala"
	_g_free0 (_tmp10_);
#line 1522 "valagirwriter.vala"
	vala_gir_writer_write_symbol_attributes (self, (ValaSymbol*) sig);
#line 1523 "valagirwriter.vala"
	_tmp11_ = self->priv->buffer;
#line 1523 "valagirwriter.vala"
	g_string_append_printf (_tmp11_, ">\n");
#line 1524 "valagirwriter.vala"
	_tmp12_ = self->priv->indent;
#line 1524 "valagirwriter.vala"
	self->priv->indent = _tmp12_ + 1;
#line 1526 "valagirwriter.vala"
	_tmp13_ = vala_gir_writer_get_signal_comment (self, sig);
#line 1526 "valagirwriter.vala"
	_tmp14_ = _tmp13_;
#line 1526 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, _tmp14_);
#line 1526 "valagirwriter.vala"
	_g_free0 (_tmp14_);
#line 1528 "valagirwriter.vala"
	_tmp15_ = vala_callable_get_parameters ((ValaCallable*) sig);
#line 1528 "valagirwriter.vala"
	_tmp16_ = vala_callable_get_return_type ((ValaCallable*) sig);
#line 1528 "valagirwriter.vala"
	_tmp17_ = _tmp16_;
#line 1528 "valagirwriter.vala"
	_tmp18_ = vala_gir_writer_get_signal_return_comment (self, sig);
#line 1528 "valagirwriter.vala"
	_tmp19_ = _tmp18_;
#line 1528 "valagirwriter.vala"
	vala_gir_writer_write_params_and_return (self, "glib:signal", _tmp15_, NULL, _tmp17_, FALSE, _tmp19_, FALSE, NULL, FALSE);
#line 1528 "valagirwriter.vala"
	_g_free0 (_tmp19_);
#line 1530 "valagirwriter.vala"
	_tmp20_ = self->priv->indent;
#line 1530 "valagirwriter.vala"
	self->priv->indent = _tmp20_ - 1;
#line 1531 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1532 "valagirwriter.vala"
	_tmp21_ = self->priv->buffer;
#line 1532 "valagirwriter.vala"
	g_string_append_printf (_tmp21_, "</glib:signal>\n");
#line 10214 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_indent (ValaGIRWriter* self)
{
	gint i = 0;
	{
		gboolean _tmp0_ = FALSE;
#line 1538 "valagirwriter.vala"
		i = 0;
#line 1538 "valagirwriter.vala"
		_tmp0_ = TRUE;
#line 1538 "valagirwriter.vala"
		while (TRUE) {
#line 10229 "valagirwriter.vala.c"
			GString* _tmp2_;
#line 1538 "valagirwriter.vala"
			if (!_tmp0_) {
#line 10233 "valagirwriter.vala.c"
				gint _tmp1_;
#line 1538 "valagirwriter.vala"
				_tmp1_ = i;
#line 1538 "valagirwriter.vala"
				i = _tmp1_ + 1;
#line 10239 "valagirwriter.vala.c"
			}
#line 1538 "valagirwriter.vala"
			_tmp0_ = FALSE;
#line 1538 "valagirwriter.vala"
			if (!(i < self->priv->indent)) {
#line 1538 "valagirwriter.vala"
				break;
#line 10247 "valagirwriter.vala.c"
			}
#line 1539 "valagirwriter.vala"
			_tmp2_ = self->priv->buffer;
#line 1539 "valagirwriter.vala"
			g_string_append_c (_tmp2_, '\t');
#line 10253 "valagirwriter.vala.c"
		}
	}
}

static void
vala_gir_writer_write_indent_stream (ValaGIRWriter* self)
{
	gint i = 0;
	{
		gboolean _tmp0_ = FALSE;
#line 1546 "valagirwriter.vala"
		i = 0;
#line 1546 "valagirwriter.vala"
		_tmp0_ = TRUE;
#line 1546 "valagirwriter.vala"
		while (TRUE) {
#line 10270 "valagirwriter.vala.c"
			FILE* _tmp2_;
#line 1546 "valagirwriter.vala"
			if (!_tmp0_) {
#line 10274 "valagirwriter.vala.c"
				gint _tmp1_;
#line 1546 "valagirwriter.vala"
				_tmp1_ = i;
#line 1546 "valagirwriter.vala"
				i = _tmp1_ + 1;
#line 10280 "valagirwriter.vala.c"
			}
#line 1546 "valagirwriter.vala"
			_tmp0_ = FALSE;
#line 1546 "valagirwriter.vala"
			if (!(i < self->priv->indent)) {
#line 1546 "valagirwriter.vala"
				break;
#line 10288 "valagirwriter.vala.c"
			}
#line 1547 "valagirwriter.vala"
			_tmp2_ = self->priv->stream;
#line 1547 "valagirwriter.vala"
			fputc ('\t', _tmp2_);
#line 10294 "valagirwriter.vala.c"
		}
	}
}

static void
vala_gir_writer_write_param_or_return (ValaGIRWriter* self,
                                       ValaDataType* type,
                                       const gchar* tag,
                                       gint* index,
                                       gboolean has_array_length,
                                       const gchar* name,
                                       const gchar* comment,
                                       ValaParameterDirection direction,
                                       gboolean constructor,
                                       gboolean caller_allocates,
                                       gboolean ellipsis)
{
	GString* _tmp0_;
	ValaDelegateType* delegate_type = NULL;
	ValaArrayType* array_type = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp41_ = FALSE;
	gboolean _tmp48_ = FALSE;
	ValaDelegateType* _tmp49_;
	GString* _tmp70_;
	gint _tmp71_;
	gint _tmp74_;
	GString* _tmp75_;
	gint _tmp76_;
#line 1553 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1554 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 1554 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, "<%s", tag);
#line 1555 "valagirwriter.vala"
	if (ellipsis) {
#line 1556 "valagirwriter.vala"
		name = "...";
#line 10334 "valagirwriter.vala.c"
	}
#line 1558 "valagirwriter.vala"
	if (name != NULL) {
#line 10338 "valagirwriter.vala.c"
		GString* _tmp1_;
#line 1559 "valagirwriter.vala"
		_tmp1_ = self->priv->buffer;
#line 1559 "valagirwriter.vala"
		g_string_append_printf (_tmp1_, " name=\"%s\"", name);
#line 10344 "valagirwriter.vala.c"
	}
#line 1561 "valagirwriter.vala"
	if (direction == VALA_PARAMETER_DIRECTION_REF) {
#line 10348 "valagirwriter.vala.c"
		GString* _tmp2_;
#line 1562 "valagirwriter.vala"
		_tmp2_ = self->priv->buffer;
#line 1562 "valagirwriter.vala"
		g_string_append_printf (_tmp2_, " direction=\"inout\"");
#line 10354 "valagirwriter.vala.c"
	} else {
#line 1563 "valagirwriter.vala"
		if (direction == VALA_PARAMETER_DIRECTION_OUT) {
#line 10358 "valagirwriter.vala.c"
			GString* _tmp3_;
#line 1564 "valagirwriter.vala"
			_tmp3_ = self->priv->buffer;
#line 1564 "valagirwriter.vala"
			g_string_append_printf (_tmp3_, " direction=\"out\"");
#line 10364 "valagirwriter.vala.c"
		}
	}
#line 1567 "valagirwriter.vala"
	delegate_type = G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_DELEGATE_TYPE) ? ((ValaDelegateType*) type) : NULL;
#line 1568 "valagirwriter.vala"
	array_type = G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_ARRAY_TYPE) ? ((ValaArrayType*) type) : NULL;
#line 1570 "valagirwriter.vala"
	if (type != NULL) {
#line 10373 "valagirwriter.vala.c"
		gboolean _tmp5_ = FALSE;
		gboolean _tmp6_ = FALSE;
		gboolean _tmp7_;
		gboolean _tmp8_;
#line 1570 "valagirwriter.vala"
		_tmp7_ = vala_data_type_get_value_owned (type);
#line 1570 "valagirwriter.vala"
		_tmp8_ = _tmp7_;
#line 1570 "valagirwriter.vala"
		if (_tmp8_) {
#line 10384 "valagirwriter.vala.c"
			ValaDelegateType* _tmp9_;
#line 1570 "valagirwriter.vala"
			_tmp9_ = delegate_type;
#line 1570 "valagirwriter.vala"
			_tmp6_ = _tmp9_ == NULL;
#line 10390 "valagirwriter.vala.c"
		} else {
#line 1570 "valagirwriter.vala"
			_tmp6_ = FALSE;
#line 10394 "valagirwriter.vala.c"
		}
#line 1570 "valagirwriter.vala"
		if (_tmp6_) {
#line 1570 "valagirwriter.vala"
			_tmp5_ = TRUE;
#line 10400 "valagirwriter.vala.c"
		} else {
			gboolean _tmp10_ = FALSE;
#line 1570 "valagirwriter.vala"
			if (constructor) {
#line 10405 "valagirwriter.vala.c"
				gboolean _tmp11_ = FALSE;
				ValaTypeSymbol* _tmp12_;
				ValaTypeSymbol* _tmp13_;
#line 1571 "valagirwriter.vala"
				_tmp12_ = vala_data_type_get_type_symbol (type);
#line 1571 "valagirwriter.vala"
				_tmp13_ = _tmp12_;
#line 1571 "valagirwriter.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, VALA_TYPE_STRUCT)) {
#line 1571 "valagirwriter.vala"
					_tmp11_ = TRUE;
#line 10417 "valagirwriter.vala.c"
				} else {
					ValaTypeSymbol* _tmp14_;
					ValaTypeSymbol* _tmp15_;
					ValaTypeSymbol* _tmp16_;
#line 1571 "valagirwriter.vala"
					_tmp14_ = vala_data_type_get_type_symbol (type);
#line 1571 "valagirwriter.vala"
					_tmp15_ = _tmp14_;
#line 1571 "valagirwriter.vala"
					_tmp16_ = self->priv->ginitiallyunowned_type;
#line 1571 "valagirwriter.vala"
					_tmp11_ = vala_typesymbol_is_subtype_of (_tmp15_, _tmp16_);
#line 10430 "valagirwriter.vala.c"
				}
#line 1571 "valagirwriter.vala"
				_tmp10_ = !_tmp11_;
#line 10434 "valagirwriter.vala.c"
			} else {
#line 1570 "valagirwriter.vala"
				_tmp10_ = FALSE;
#line 10438 "valagirwriter.vala.c"
			}
#line 1570 "valagirwriter.vala"
			_tmp5_ = _tmp10_;
#line 10442 "valagirwriter.vala.c"
		}
#line 1570 "valagirwriter.vala"
		_tmp4_ = _tmp5_;
#line 10446 "valagirwriter.vala.c"
	} else {
#line 1570 "valagirwriter.vala"
		_tmp4_ = FALSE;
#line 10450 "valagirwriter.vala.c"
	}
#line 1570 "valagirwriter.vala"
	if (_tmp4_) {
#line 10454 "valagirwriter.vala.c"
		gboolean any_owned = FALSE;
		gboolean _tmp28_ = FALSE;
#line 1572 "valagirwriter.vala"
		any_owned = FALSE;
#line 10459 "valagirwriter.vala.c"
		{
			ValaList* _generic_arg_list = NULL;
			ValaList* _tmp17_;
			gint _generic_arg_size = 0;
			ValaList* _tmp18_;
			gint _tmp19_;
			gint _tmp20_;
			gint _generic_arg_index = 0;
#line 1573 "valagirwriter.vala"
			_tmp17_ = vala_data_type_get_type_arguments (type);
#line 1573 "valagirwriter.vala"
			_generic_arg_list = _tmp17_;
#line 1573 "valagirwriter.vala"
			_tmp18_ = _generic_arg_list;
#line 1573 "valagirwriter.vala"
			_tmp19_ = vala_collection_get_size ((ValaCollection*) _tmp18_);
#line 1573 "valagirwriter.vala"
			_tmp20_ = _tmp19_;
#line 1573 "valagirwriter.vala"
			_generic_arg_size = _tmp20_;
#line 1573 "valagirwriter.vala"
			_generic_arg_index = -1;
#line 1573 "valagirwriter.vala"
			while (TRUE) {
#line 10484 "valagirwriter.vala.c"
				gint _tmp21_;
				gint _tmp22_;
				ValaDataType* generic_arg = NULL;
				ValaList* _tmp23_;
				gpointer _tmp24_;
				ValaDataType* _tmp25_;
				gboolean _tmp26_;
				gboolean _tmp27_;
#line 1573 "valagirwriter.vala"
				_generic_arg_index = _generic_arg_index + 1;
#line 1573 "valagirwriter.vala"
				_tmp21_ = _generic_arg_index;
#line 1573 "valagirwriter.vala"
				_tmp22_ = _generic_arg_size;
#line 1573 "valagirwriter.vala"
				if (!(_tmp21_ < _tmp22_)) {
#line 1573 "valagirwriter.vala"
					break;
#line 10503 "valagirwriter.vala.c"
				}
#line 1573 "valagirwriter.vala"
				_tmp23_ = _generic_arg_list;
#line 1573 "valagirwriter.vala"
				_tmp24_ = vala_list_get (_tmp23_, _generic_arg_index);
#line 1573 "valagirwriter.vala"
				generic_arg = (ValaDataType*) _tmp24_;
#line 1574 "valagirwriter.vala"
				_tmp25_ = generic_arg;
#line 1574 "valagirwriter.vala"
				_tmp26_ = vala_data_type_get_value_owned (_tmp25_);
#line 1574 "valagirwriter.vala"
				_tmp27_ = _tmp26_;
#line 1574 "valagirwriter.vala"
				any_owned |= _tmp27_;
#line 1573 "valagirwriter.vala"
				_vala_code_node_unref0 (generic_arg);
#line 10521 "valagirwriter.vala.c"
			}
		}
#line 1576 "valagirwriter.vala"
		if (vala_data_type_has_type_arguments (type)) {
#line 1576 "valagirwriter.vala"
			_tmp28_ = !any_owned;
#line 10528 "valagirwriter.vala.c"
		} else {
#line 1576 "valagirwriter.vala"
			_tmp28_ = FALSE;
#line 10532 "valagirwriter.vala.c"
		}
#line 1576 "valagirwriter.vala"
		if (_tmp28_) {
#line 10536 "valagirwriter.vala.c"
			GString* _tmp29_;
#line 1577 "valagirwriter.vala"
			_tmp29_ = self->priv->buffer;
#line 1577 "valagirwriter.vala"
			g_string_append_printf (_tmp29_, " transfer-ownership=\"container\"");
#line 10542 "valagirwriter.vala.c"
		} else {
			gboolean _tmp30_ = FALSE;
			ValaArrayType* _tmp31_;
#line 1578 "valagirwriter.vala"
			_tmp31_ = array_type;
#line 1578 "valagirwriter.vala"
			if (_tmp31_ != NULL) {
#line 10550 "valagirwriter.vala.c"
				ValaArrayType* _tmp32_;
				ValaDataType* _tmp33_;
				ValaDataType* _tmp34_;
				gboolean _tmp35_;
				gboolean _tmp36_;
#line 1578 "valagirwriter.vala"
				_tmp32_ = array_type;
#line 1578 "valagirwriter.vala"
				_tmp33_ = vala_array_type_get_element_type (_tmp32_);
#line 1578 "valagirwriter.vala"
				_tmp34_ = _tmp33_;
#line 1578 "valagirwriter.vala"
				_tmp35_ = vala_data_type_get_value_owned (_tmp34_);
#line 1578 "valagirwriter.vala"
				_tmp36_ = _tmp35_;
#line 1578 "valagirwriter.vala"
				_tmp30_ = !_tmp36_;
#line 10568 "valagirwriter.vala.c"
			} else {
#line 1578 "valagirwriter.vala"
				_tmp30_ = FALSE;
#line 10572 "valagirwriter.vala.c"
			}
#line 1578 "valagirwriter.vala"
			if (_tmp30_) {
#line 10576 "valagirwriter.vala.c"
				GString* _tmp37_;
#line 1579 "valagirwriter.vala"
				_tmp37_ = self->priv->buffer;
#line 1579 "valagirwriter.vala"
				g_string_append_printf (_tmp37_, " transfer-ownership=\"container\"");
#line 10582 "valagirwriter.vala.c"
			} else {
				GString* _tmp38_;
#line 1581 "valagirwriter.vala"
				_tmp38_ = self->priv->buffer;
#line 1581 "valagirwriter.vala"
				g_string_append_printf (_tmp38_, " transfer-ownership=\"full\"");
#line 10589 "valagirwriter.vala.c"
			}
		}
	} else {
		GString* _tmp39_;
#line 1584 "valagirwriter.vala"
		_tmp39_ = self->priv->buffer;
#line 1584 "valagirwriter.vala"
		g_string_append_printf (_tmp39_, " transfer-ownership=\"none\"");
#line 10598 "valagirwriter.vala.c"
	}
#line 1586 "valagirwriter.vala"
	if (caller_allocates) {
#line 10602 "valagirwriter.vala.c"
		GString* _tmp40_;
#line 1587 "valagirwriter.vala"
		_tmp40_ = self->priv->buffer;
#line 1587 "valagirwriter.vala"
		g_string_append_printf (_tmp40_, " caller-allocates=\"1\"");
#line 10608 "valagirwriter.vala.c"
	}
#line 1589 "valagirwriter.vala"
	if (type != NULL) {
#line 10612 "valagirwriter.vala.c"
		gboolean _tmp42_;
		gboolean _tmp43_;
#line 1589 "valagirwriter.vala"
		_tmp42_ = vala_data_type_get_nullable (type);
#line 1589 "valagirwriter.vala"
		_tmp43_ = _tmp42_;
#line 1589 "valagirwriter.vala"
		_tmp41_ = _tmp43_;
#line 10621 "valagirwriter.vala.c"
	} else {
#line 1589 "valagirwriter.vala"
		_tmp41_ = FALSE;
#line 10625 "valagirwriter.vala.c"
	}
#line 1589 "valagirwriter.vala"
	if (_tmp41_) {
#line 10629 "valagirwriter.vala.c"
		gboolean _tmp44_ = FALSE;
#line 1590 "valagirwriter.vala"
		if (g_strcmp0 (tag, "parameter") == 0) {
#line 10633 "valagirwriter.vala.c"
			gboolean _tmp45_ = FALSE;
#line 1591 "valagirwriter.vala"
			if (direction == VALA_PARAMETER_DIRECTION_OUT) {
#line 1591 "valagirwriter.vala"
				_tmp45_ = TRUE;
#line 10639 "valagirwriter.vala.c"
			} else {
#line 1591 "valagirwriter.vala"
				_tmp45_ = direction == VALA_PARAMETER_DIRECTION_REF;
#line 10643 "valagirwriter.vala.c"
			}
#line 1591 "valagirwriter.vala"
			_tmp44_ = _tmp45_;
#line 10647 "valagirwriter.vala.c"
		} else {
#line 1590 "valagirwriter.vala"
			_tmp44_ = FALSE;
#line 10651 "valagirwriter.vala.c"
		}
#line 1590 "valagirwriter.vala"
		if (_tmp44_) {
#line 10655 "valagirwriter.vala.c"
			GString* _tmp46_;
#line 1592 "valagirwriter.vala"
			_tmp46_ = self->priv->buffer;
#line 1592 "valagirwriter.vala"
			g_string_append_printf (_tmp46_, " optional=\"1\"");
#line 10661 "valagirwriter.vala.c"
		} else {
			GString* _tmp47_;
#line 1594 "valagirwriter.vala"
			_tmp47_ = self->priv->buffer;
#line 1594 "valagirwriter.vala"
			g_string_append_printf (_tmp47_, " nullable=\"1\"");
#line 10668 "valagirwriter.vala.c"
		}
	}
#line 1598 "valagirwriter.vala"
	_tmp49_ = delegate_type;
#line 1598 "valagirwriter.vala"
	if (_tmp49_ != NULL) {
#line 10675 "valagirwriter.vala.c"
		ValaDelegateType* _tmp50_;
		ValaDelegate* _tmp51_;
		ValaDelegate* _tmp52_;
		gboolean _tmp53_;
		gboolean _tmp54_;
#line 1598 "valagirwriter.vala"
		_tmp50_ = delegate_type;
#line 1598 "valagirwriter.vala"
		_tmp51_ = vala_delegate_type_get_delegate_symbol (_tmp50_);
#line 1598 "valagirwriter.vala"
		_tmp52_ = _tmp51_;
#line 1598 "valagirwriter.vala"
		_tmp53_ = vala_delegate_get_has_target (_tmp52_);
#line 1598 "valagirwriter.vala"
		_tmp54_ = _tmp53_;
#line 1598 "valagirwriter.vala"
		_tmp48_ = _tmp54_;
#line 10693 "valagirwriter.vala.c"
	} else {
#line 1598 "valagirwriter.vala"
		_tmp48_ = FALSE;
#line 10697 "valagirwriter.vala.c"
	}
#line 1598 "valagirwriter.vala"
	if (_tmp48_) {
#line 10701 "valagirwriter.vala.c"
		gint _tmp55_ = 0;
		gint closure_index = 0;
		GString* _tmp59_;
		ValaDelegateType* _tmp60_;
		gboolean _tmp61_;
		gboolean _tmp62_;
#line 1599 "valagirwriter.vala"
		if (g_strcmp0 (tag, "parameter") == 0) {
#line 1600 "valagirwriter.vala"
			_tmp55_ = (*index) + 1;
#line 10712 "valagirwriter.vala.c"
		} else {
			gint _tmp56_ = 0;
			gboolean _tmp57_;
			gboolean _tmp58_;
#line 1600 "valagirwriter.vala"
			_tmp57_ = vala_data_type_get_value_owned (type);
#line 1600 "valagirwriter.vala"
			_tmp58_ = _tmp57_;
#line 1600 "valagirwriter.vala"
			if (_tmp58_) {
#line 1600 "valagirwriter.vala"
				_tmp56_ = (*index) - 1;
#line 10725 "valagirwriter.vala.c"
			} else {
#line 1600 "valagirwriter.vala"
				_tmp56_ = *index;
#line 10729 "valagirwriter.vala.c"
			}
#line 1600 "valagirwriter.vala"
			_tmp55_ = _tmp56_;
#line 10733 "valagirwriter.vala.c"
		}
#line 1599 "valagirwriter.vala"
		closure_index = _tmp55_;
#line 1601 "valagirwriter.vala"
		_tmp59_ = self->priv->buffer;
#line 1601 "valagirwriter.vala"
		g_string_append_printf (_tmp59_, " closure=\"%i\"", closure_index);
#line 1602 "valagirwriter.vala"
		_tmp60_ = delegate_type;
#line 1602 "valagirwriter.vala"
		_tmp61_ = vala_delegate_type_get_is_called_once (_tmp60_);
#line 1602 "valagirwriter.vala"
		_tmp62_ = _tmp61_;
#line 1602 "valagirwriter.vala"
		if (_tmp62_) {
#line 10749 "valagirwriter.vala.c"
			GString* _tmp63_;
#line 1603 "valagirwriter.vala"
			_tmp63_ = self->priv->buffer;
#line 1603 "valagirwriter.vala"
			g_string_append (_tmp63_, " scope=\"async\"");
#line 10755 "valagirwriter.vala.c"
		} else {
			gboolean _tmp64_;
			gboolean _tmp65_;
#line 1604 "valagirwriter.vala"
			_tmp64_ = vala_data_type_get_value_owned (type);
#line 1604 "valagirwriter.vala"
			_tmp65_ = _tmp64_;
#line 1604 "valagirwriter.vala"
			if (_tmp65_) {
#line 10765 "valagirwriter.vala.c"
				GString* _tmp66_;
#line 1605 "valagirwriter.vala"
				_tmp66_ = self->priv->buffer;
#line 1605 "valagirwriter.vala"
				g_string_append_printf (_tmp66_, " scope=\"notified\" destroy=\"%i\"", closure_index + 1);
#line 10771 "valagirwriter.vala.c"
			} else {
				GString* _tmp67_;
#line 1607 "valagirwriter.vala"
				_tmp67_ = self->priv->buffer;
#line 1607 "valagirwriter.vala"
				g_string_append (_tmp67_, " scope=\"call\"");
#line 10778 "valagirwriter.vala.c"
			}
		}
	} else {
		ValaDelegateType* _tmp68_;
#line 1609 "valagirwriter.vala"
		_tmp68_ = delegate_type;
#line 1609 "valagirwriter.vala"
		if (_tmp68_ != NULL) {
#line 10787 "valagirwriter.vala.c"
			GString* _tmp69_;
#line 1610 "valagirwriter.vala"
			_tmp69_ = self->priv->buffer;
#line 1610 "valagirwriter.vala"
			g_string_append (_tmp69_, " scope=\"call\"");
#line 10793 "valagirwriter.vala.c"
		}
	}
#line 1613 "valagirwriter.vala"
	_tmp70_ = self->priv->buffer;
#line 1613 "valagirwriter.vala"
	g_string_append_printf (_tmp70_, ">\n");
#line 1614 "valagirwriter.vala"
	_tmp71_ = self->priv->indent;
#line 1614 "valagirwriter.vala"
	self->priv->indent = _tmp71_ + 1;
#line 1616 "valagirwriter.vala"
	vala_gir_writer_write_doc (self, comment);
#line 1618 "valagirwriter.vala"
	if (ellipsis) {
#line 10808 "valagirwriter.vala.c"
		GString* _tmp72_;
#line 1619 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1620 "valagirwriter.vala"
		_tmp72_ = self->priv->buffer;
#line 1620 "valagirwriter.vala"
		g_string_append (_tmp72_, "<varargs/>\n");
#line 10816 "valagirwriter.vala.c"
	} else {
#line 1621 "valagirwriter.vala"
		if (type != NULL) {
#line 10820 "valagirwriter.vala.c"
			gint length_param_index = 0;
#line 1622 "valagirwriter.vala"
			length_param_index = -1;
#line 1623 "valagirwriter.vala"
			if (has_array_length) {
#line 10826 "valagirwriter.vala.c"
				gint _tmp73_ = 0;
#line 1624 "valagirwriter.vala"
				if (g_strcmp0 (tag, "parameter") == 0) {
#line 1624 "valagirwriter.vala"
					_tmp73_ = (*index) + 1;
#line 10832 "valagirwriter.vala.c"
				} else {
#line 1624 "valagirwriter.vala"
					_tmp73_ = *index;
#line 10836 "valagirwriter.vala.c"
				}
#line 1624 "valagirwriter.vala"
				length_param_index = _tmp73_;
#line 10840 "valagirwriter.vala.c"
			}
#line 1626 "valagirwriter.vala"
			vala_gir_writer_write_type (self, type, length_param_index, direction);
#line 10844 "valagirwriter.vala.c"
		}
	}
#line 1629 "valagirwriter.vala"
	_tmp74_ = self->priv->indent;
#line 1629 "valagirwriter.vala"
	self->priv->indent = _tmp74_ - 1;
#line 1630 "valagirwriter.vala"
	vala_gir_writer_write_indent (self);
#line 1631 "valagirwriter.vala"
	_tmp75_ = self->priv->buffer;
#line 1631 "valagirwriter.vala"
	g_string_append_printf (_tmp75_, "</%s>\n", tag);
#line 1632 "valagirwriter.vala"
	_tmp76_ = *index;
#line 1632 "valagirwriter.vala"
	*index = _tmp76_ + 1;
#line 10861 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_ctype_attributes (ValaGIRWriter* self,
                                        ValaTypeSymbol* symbol,
                                        const gchar* suffix,
                                        gboolean symbol_prefix)
{
	GString* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 1636 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 1636 "valagirwriter.vala"
	_tmp1_ = vala_get_ccode_name ((ValaCodeNode*) symbol);
#line 1636 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 1636 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, " c:type=\"%s%s\"", _tmp2_, suffix);
#line 1636 "valagirwriter.vala"
	_g_free0 (_tmp2_);
#line 1637 "valagirwriter.vala"
	if (symbol_prefix) {
#line 10885 "valagirwriter.vala.c"
		GString* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
#line 1638 "valagirwriter.vala"
		_tmp3_ = self->priv->buffer;
#line 1638 "valagirwriter.vala"
		_tmp4_ = vala_get_ccode_lower_case_suffix ((ValaSymbol*) symbol);
#line 1638 "valagirwriter.vala"
		_tmp5_ = _tmp4_;
#line 1638 "valagirwriter.vala"
		g_string_append_printf (_tmp3_, " c:symbol-prefix=\"%s\"", _tmp5_);
#line 1638 "valagirwriter.vala"
		_g_free0 (_tmp5_);
#line 10899 "valagirwriter.vala.c"
	}
}

static void
vala_gir_writer_write_gtype_attributes (ValaGIRWriter* self,
                                        ValaTypeSymbol* symbol,
                                        gboolean symbol_prefix)
{
	GString* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	GString* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
#line 1643 "valagirwriter.vala"
	vala_gir_writer_write_ctype_attributes (self, symbol, "", symbol_prefix);
#line 1644 "valagirwriter.vala"
	_tmp0_ = self->priv->buffer;
#line 1644 "valagirwriter.vala"
	_tmp1_ = vala_get_ccode_name ((ValaCodeNode*) symbol);
#line 1644 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 1644 "valagirwriter.vala"
	g_string_append_printf (_tmp0_, " glib:type-name=\"%s\"", _tmp2_);
#line 1644 "valagirwriter.vala"
	_g_free0 (_tmp2_);
#line 1645 "valagirwriter.vala"
	_tmp3_ = self->priv->buffer;
#line 1645 "valagirwriter.vala"
	_tmp4_ = vala_get_ccode_lower_case_prefix ((ValaSymbol*) symbol);
#line 1645 "valagirwriter.vala"
	_tmp5_ = _tmp4_;
#line 1645 "valagirwriter.vala"
	g_string_append_printf (_tmp3_, " glib:get-type=\"%sget_type\"", _tmp5_);
#line 1645 "valagirwriter.vala"
	_g_free0 (_tmp5_);
#line 10936 "valagirwriter.vala.c"
}

static void
vala_gir_writer_write_type (ValaGIRWriter* self,
                            ValaDataType* type,
                            gint index,
                            ValaParameterDirection direction)
{
#line 1649 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_ARRAY_TYPE)) {
#line 10947 "valagirwriter.vala.c"
		ValaArrayType* array_type = NULL;
		ValaArrayType* _tmp0_;
		GString* _tmp1_;
		gboolean _tmp2_ = FALSE;
		ValaArrayType* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
		const gchar* _tmp18_ = NULL;
		GString* _tmp19_;
		ValaArrayType* _tmp20_;
		ValaDataType* _tmp21_;
		ValaDataType* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		GString* _tmp25_;
		gint _tmp26_;
		ValaArrayType* _tmp27_;
		ValaDataType* _tmp28_;
		ValaDataType* _tmp29_;
		gint _tmp30_;
		GString* _tmp31_;
#line 1650 "valagirwriter.vala"
		_tmp0_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_ARRAY_TYPE, ValaArrayType));
#line 1650 "valagirwriter.vala"
		array_type = _tmp0_;
#line 1652 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1653 "valagirwriter.vala"
		_tmp1_ = self->priv->buffer;
#line 1653 "valagirwriter.vala"
		g_string_append_printf (_tmp1_, "<array");
#line 1654 "valagirwriter.vala"
		_tmp3_ = array_type;
#line 1654 "valagirwriter.vala"
		_tmp4_ = vala_array_type_get_fixed_length (_tmp3_);
#line 1654 "valagirwriter.vala"
		_tmp5_ = _tmp4_;
#line 1654 "valagirwriter.vala"
		if (_tmp5_) {
#line 10987 "valagirwriter.vala.c"
			ValaArrayType* _tmp6_;
			ValaExpression* _tmp7_;
			ValaExpression* _tmp8_;
#line 1654 "valagirwriter.vala"
			_tmp6_ = array_type;
#line 1654 "valagirwriter.vala"
			_tmp7_ = vala_array_type_get_length (_tmp6_);
#line 1654 "valagirwriter.vala"
			_tmp8_ = _tmp7_;
#line 1654 "valagirwriter.vala"
			_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp8_, VALA_TYPE_INTEGER_LITERAL);
#line 10999 "valagirwriter.vala.c"
		} else {
#line 1654 "valagirwriter.vala"
			_tmp2_ = FALSE;
#line 11003 "valagirwriter.vala.c"
		}
#line 1654 "valagirwriter.vala"
		if (_tmp2_) {
#line 11007 "valagirwriter.vala.c"
			ValaIntegerLiteral* lit = NULL;
			ValaArrayType* _tmp9_;
			ValaExpression* _tmp10_;
			ValaExpression* _tmp11_;
			ValaIntegerLiteral* _tmp12_;
			GString* _tmp13_;
			ValaIntegerLiteral* _tmp14_;
			const gchar* _tmp15_;
			const gchar* _tmp16_;
#line 1655 "valagirwriter.vala"
			_tmp9_ = array_type;
#line 1655 "valagirwriter.vala"
			_tmp10_ = vala_array_type_get_length (_tmp9_);
#line 1655 "valagirwriter.vala"
			_tmp11_ = _tmp10_;
#line 1655 "valagirwriter.vala"
			_tmp12_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, VALA_TYPE_INTEGER_LITERAL, ValaIntegerLiteral));
#line 1655 "valagirwriter.vala"
			lit = _tmp12_;
#line 1656 "valagirwriter.vala"
			_tmp13_ = self->priv->buffer;
#line 1656 "valagirwriter.vala"
			_tmp14_ = lit;
#line 1656 "valagirwriter.vala"
			_tmp15_ = vala_integer_literal_get_value (_tmp14_);
#line 1656 "valagirwriter.vala"
			_tmp16_ = _tmp15_;
#line 1656 "valagirwriter.vala"
			g_string_append_printf (_tmp13_, " fixed-size=\"%i\"", atoi (_tmp16_));
#line 1654 "valagirwriter.vala"
			_vala_code_node_unref0 (lit);
#line 11039 "valagirwriter.vala.c"
		} else {
#line 1657 "valagirwriter.vala"
			if (index != -1) {
#line 11043 "valagirwriter.vala.c"
				GString* _tmp17_;
#line 1658 "valagirwriter.vala"
				_tmp17_ = self->priv->buffer;
#line 1658 "valagirwriter.vala"
				g_string_append_printf (_tmp17_, " length=\"%i\"", index);
#line 11049 "valagirwriter.vala.c"
			}
		}
#line 1660 "valagirwriter.vala"
		if (direction == VALA_PARAMETER_DIRECTION_IN) {
#line 1660 "valagirwriter.vala"
			_tmp18_ = "*";
#line 11056 "valagirwriter.vala.c"
		} else {
#line 1660 "valagirwriter.vala"
			_tmp18_ = "**";
#line 11060 "valagirwriter.vala.c"
		}
#line 1660 "valagirwriter.vala"
		_tmp19_ = self->priv->buffer;
#line 1660 "valagirwriter.vala"
		_tmp20_ = array_type;
#line 1660 "valagirwriter.vala"
		_tmp21_ = vala_array_type_get_element_type (_tmp20_);
#line 1660 "valagirwriter.vala"
		_tmp22_ = _tmp21_;
#line 1660 "valagirwriter.vala"
		_tmp23_ = vala_get_ccode_name ((ValaCodeNode*) _tmp22_);
#line 1660 "valagirwriter.vala"
		_tmp24_ = _tmp23_;
#line 1660 "valagirwriter.vala"
		g_string_append_printf (_tmp19_, " c:type=\"%s%s\"", _tmp24_, _tmp18_);
#line 1660 "valagirwriter.vala"
		_g_free0 (_tmp24_);
#line 1661 "valagirwriter.vala"
		_tmp25_ = self->priv->buffer;
#line 1661 "valagirwriter.vala"
		g_string_append_printf (_tmp25_, ">\n");
#line 1662 "valagirwriter.vala"
		_tmp26_ = self->priv->indent;
#line 1662 "valagirwriter.vala"
		self->priv->indent = _tmp26_ + 1;
#line 1664 "valagirwriter.vala"
		_tmp27_ = array_type;
#line 1664 "valagirwriter.vala"
		_tmp28_ = vala_array_type_get_element_type (_tmp27_);
#line 1664 "valagirwriter.vala"
		_tmp29_ = _tmp28_;
#line 1664 "valagirwriter.vala"
		vala_gir_writer_write_type (self, _tmp29_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1666 "valagirwriter.vala"
		_tmp30_ = self->priv->indent;
#line 1666 "valagirwriter.vala"
		self->priv->indent = _tmp30_ - 1;
#line 1667 "valagirwriter.vala"
		vala_gir_writer_write_indent (self);
#line 1668 "valagirwriter.vala"
		_tmp31_ = self->priv->buffer;
#line 1668 "valagirwriter.vala"
		g_string_append_printf (_tmp31_, "</array>\n");
#line 1649 "valagirwriter.vala"
		_vala_code_node_unref0 (array_type);
#line 11106 "valagirwriter.vala.c"
	} else {
#line 1669 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_VOID_TYPE)) {
#line 11110 "valagirwriter.vala.c"
			GString* _tmp32_;
#line 1670 "valagirwriter.vala"
			vala_gir_writer_write_indent (self);
#line 1671 "valagirwriter.vala"
			_tmp32_ = self->priv->buffer;
#line 1671 "valagirwriter.vala"
			g_string_append_printf (_tmp32_, "<type name=\"none\" c:type=\"void\"/>\n");
#line 11118 "valagirwriter.vala.c"
		} else {
#line 1672 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_POINTER_TYPE)) {
#line 11122 "valagirwriter.vala.c"
				const gchar* _tmp33_ = NULL;
				GString* _tmp34_;
				gchar* _tmp35_;
				gchar* _tmp36_;
#line 1673 "valagirwriter.vala"
				vala_gir_writer_write_indent (self);
#line 1674 "valagirwriter.vala"
				if (direction == VALA_PARAMETER_DIRECTION_IN) {
#line 1674 "valagirwriter.vala"
					_tmp33_ = "";
#line 11133 "valagirwriter.vala.c"
				} else {
#line 1674 "valagirwriter.vala"
					_tmp33_ = "*";
#line 11137 "valagirwriter.vala.c"
				}
#line 1674 "valagirwriter.vala"
				_tmp34_ = self->priv->buffer;
#line 1674 "valagirwriter.vala"
				_tmp35_ = vala_get_ccode_name ((ValaCodeNode*) type);
#line 1674 "valagirwriter.vala"
				_tmp36_ = _tmp35_;
#line 1674 "valagirwriter.vala"
				g_string_append_printf (_tmp34_, "<type name=\"gpointer\" c:type=\"%s%s\"/>\n", _tmp36_, _tmp33_);
#line 1674 "valagirwriter.vala"
				_g_free0 (_tmp36_);
#line 11149 "valagirwriter.vala.c"
			} else {
#line 1675 "valagirwriter.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_GENERIC_TYPE)) {
#line 11153 "valagirwriter.vala.c"
					GString* _tmp37_;
#line 1677 "valagirwriter.vala"
					vala_gir_writer_write_indent (self);
#line 1678 "valagirwriter.vala"
					_tmp37_ = self->priv->buffer;
#line 1678 "valagirwriter.vala"
					g_string_append (_tmp37_, "<type name=\"gpointer\" c:type=\"gpointer\"/>\n");
#line 11161 "valagirwriter.vala.c"
				} else {
#line 1679 "valagirwriter.vala"
					if (G_TYPE_CHECK_INSTANCE_TYPE (type, VALA_TYPE_DELEGATE_TYPE)) {
#line 11165 "valagirwriter.vala.c"
						ValaDelegateType* deleg_type = NULL;
						ValaDelegateType* _tmp38_;
						const gchar* _tmp39_ = NULL;
						GString* _tmp40_;
						ValaDelegateType* _tmp41_;
						ValaDelegate* _tmp42_;
						ValaDelegate* _tmp43_;
						gchar* _tmp44_;
						gchar* _tmp45_;
						gchar* _tmp46_;
						gchar* _tmp47_;
#line 1680 "valagirwriter.vala"
						_tmp38_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (type, VALA_TYPE_DELEGATE_TYPE, ValaDelegateType));
#line 1680 "valagirwriter.vala"
						deleg_type = _tmp38_;
#line 1681 "valagirwriter.vala"
						vala_gir_writer_write_indent (self);
#line 1682 "valagirwriter.vala"
						if (direction == VALA_PARAMETER_DIRECTION_IN) {
#line 1682 "valagirwriter.vala"
							_tmp39_ = "";
#line 11187 "valagirwriter.vala.c"
						} else {
#line 1682 "valagirwriter.vala"
							_tmp39_ = "*";
#line 11191 "valagirwriter.vala.c"
						}
#line 1682 "valagirwriter.vala"
						_tmp40_ = self->priv->buffer;
#line 1682 "valagirwriter.vala"
						_tmp41_ = deleg_type;
#line 1682 "valagirwriter.vala"
						_tmp42_ = vala_delegate_type_get_delegate_symbol (_tmp41_);
#line 1682 "valagirwriter.vala"
						_tmp43_ = _tmp42_;
#line 1682 "valagirwriter.vala"
						_tmp44_ = vala_gir_writer_gi_type_name (self, (ValaTypeSymbol*) _tmp43_);
#line 1682 "valagirwriter.vala"
						_tmp45_ = _tmp44_;
#line 1682 "valagirwriter.vala"
						_tmp46_ = vala_get_ccode_name ((ValaCodeNode*) type);
#line 1682 "valagirwriter.vala"
						_tmp47_ = _tmp46_;
#line 1682 "valagirwriter.vala"
						g_string_append_printf (_tmp40_, "<type name=\"%s\" c:type=\"%s%s\"/>\n", _tmp45_, _tmp47_, _tmp39_);
#line 1682 "valagirwriter.vala"
						_g_free0 (_tmp47_);
#line 1682 "valagirwriter.vala"
						_g_free0 (_tmp45_);
#line 1679 "valagirwriter.vala"
						_vala_code_node_unref0 (deleg_type);
#line 11217 "valagirwriter.vala.c"
					} else {
						ValaTypeSymbol* _tmp48_;
						ValaTypeSymbol* _tmp49_;
#line 1683 "valagirwriter.vala"
						_tmp48_ = vala_data_type_get_type_symbol (type);
#line 1683 "valagirwriter.vala"
						_tmp49_ = _tmp48_;
#line 1683 "valagirwriter.vala"
						if (_tmp49_ != NULL) {
#line 11227 "valagirwriter.vala.c"
							gchar* type_name = NULL;
							ValaTypeSymbol* _tmp50_;
							ValaTypeSymbol* _tmp51_;
							gchar* _tmp52_;
							gboolean is_array = FALSE;
							gboolean _tmp53_ = FALSE;
							const gchar* _tmp54_;
							const gchar* _tmp56_ = NULL;
							const gchar* _tmp57_ = NULL;
							GString* _tmp58_;
							ValaTypeSymbol* _tmp59_;
							ValaTypeSymbol* _tmp60_;
							gchar* _tmp61_;
							gchar* _tmp62_;
							gchar* _tmp63_;
							gchar* _tmp64_;
							ValaList* type_arguments = NULL;
							ValaList* _tmp65_;
							ValaList* _tmp66_;
							ValaList* _tmp67_;
							gint _tmp68_;
							gint _tmp69_;
#line 1684 "valagirwriter.vala"
							vala_gir_writer_write_indent (self);
#line 1685 "valagirwriter.vala"
							_tmp50_ = vala_data_type_get_type_symbol (type);
#line 1685 "valagirwriter.vala"
							_tmp51_ = _tmp50_;
#line 1685 "valagirwriter.vala"
							_tmp52_ = vala_gir_writer_gi_type_name (self, _tmp51_);
#line 1685 "valagirwriter.vala"
							type_name = _tmp52_;
#line 1686 "valagirwriter.vala"
							is_array = FALSE;
#line 1687 "valagirwriter.vala"
							_tmp54_ = type_name;
#line 1687 "valagirwriter.vala"
							if (g_strcmp0 (_tmp54_, "GLib.Array") == 0) {
#line 1687 "valagirwriter.vala"
								_tmp53_ = TRUE;
#line 11268 "valagirwriter.vala.c"
							} else {
								const gchar* _tmp55_;
#line 1687 "valagirwriter.vala"
								_tmp55_ = type_name;
#line 1687 "valagirwriter.vala"
								_tmp53_ = g_strcmp0 (_tmp55_, "GLib.PtrArray") == 0;
#line 11275 "valagirwriter.vala.c"
							}
#line 1687 "valagirwriter.vala"
							if (_tmp53_) {
#line 1688 "valagirwriter.vala"
								is_array = TRUE;
#line 11281 "valagirwriter.vala.c"
							}
#line 1690 "valagirwriter.vala"
							if (is_array) {
#line 1690 "valagirwriter.vala"
								_tmp56_ = "array";
#line 11287 "valagirwriter.vala.c"
							} else {
#line 1690 "valagirwriter.vala"
								_tmp56_ = "type";
#line 11291 "valagirwriter.vala.c"
							}
#line 1690 "valagirwriter.vala"
							if (direction == VALA_PARAMETER_DIRECTION_IN) {
#line 1690 "valagirwriter.vala"
								_tmp57_ = "";
#line 11297 "valagirwriter.vala.c"
							} else {
#line 1690 "valagirwriter.vala"
								_tmp57_ = "*";
#line 11301 "valagirwriter.vala.c"
							}
#line 1690 "valagirwriter.vala"
							_tmp58_ = self->priv->buffer;
#line 1690 "valagirwriter.vala"
							_tmp59_ = vala_data_type_get_type_symbol (type);
#line 1690 "valagirwriter.vala"
							_tmp60_ = _tmp59_;
#line 1690 "valagirwriter.vala"
							_tmp61_ = vala_gir_writer_gi_type_name (self, _tmp60_);
#line 1690 "valagirwriter.vala"
							_tmp62_ = _tmp61_;
#line 1690 "valagirwriter.vala"
							_tmp63_ = vala_get_ccode_name ((ValaCodeNode*) type);
#line 1690 "valagirwriter.vala"
							_tmp64_ = _tmp63_;
#line 1690 "valagirwriter.vala"
							g_string_append_printf (_tmp58_, "<%s name=\"%s\" c:type=\"%s%s\"", _tmp56_, _tmp62_, _tmp64_, _tmp57_);
#line 1690 "valagirwriter.vala"
							_g_free0 (_tmp64_);
#line 1690 "valagirwriter.vala"
							_g_free0 (_tmp62_);
#line 1692 "valagirwriter.vala"
							_tmp65_ = vala_data_type_get_type_arguments (type);
#line 1692 "valagirwriter.vala"
							_tmp66_ = _vala_iterable_ref0 (_tmp65_);
#line 1692 "valagirwriter.vala"
							type_arguments = _tmp66_;
#line 1693 "valagirwriter.vala"
							_tmp67_ = type_arguments;
#line 1693 "valagirwriter.vala"
							_tmp68_ = vala_collection_get_size ((ValaCollection*) _tmp67_);
#line 1693 "valagirwriter.vala"
							_tmp69_ = _tmp68_;
#line 1693 "valagirwriter.vala"
							if (_tmp69_ == 0) {
#line 11337 "valagirwriter.vala.c"
								GString* _tmp70_;
#line 1694 "valagirwriter.vala"
								_tmp70_ = self->priv->buffer;
#line 1694 "valagirwriter.vala"
								g_string_append_printf (_tmp70_, "/>\n");
#line 11343 "valagirwriter.vala.c"
							} else {
								GString* _tmp71_;
								gint _tmp72_;
								gint _tmp82_;
								const gchar* _tmp83_ = NULL;
								GString* _tmp84_;
#line 1696 "valagirwriter.vala"
								_tmp71_ = self->priv->buffer;
#line 1696 "valagirwriter.vala"
								g_string_append_printf (_tmp71_, ">\n");
#line 1697 "valagirwriter.vala"
								_tmp72_ = self->priv->indent;
#line 1697 "valagirwriter.vala"
								self->priv->indent = _tmp72_ + 1;
#line 11358 "valagirwriter.vala.c"
								{
									ValaList* _type_argument_list = NULL;
									ValaList* _tmp73_;
									gint _type_argument_size = 0;
									ValaList* _tmp74_;
									gint _tmp75_;
									gint _tmp76_;
									gint _type_argument_index = 0;
#line 1699 "valagirwriter.vala"
									_tmp73_ = type_arguments;
#line 1699 "valagirwriter.vala"
									_type_argument_list = _tmp73_;
#line 1699 "valagirwriter.vala"
									_tmp74_ = _type_argument_list;
#line 1699 "valagirwriter.vala"
									_tmp75_ = vala_collection_get_size ((ValaCollection*) _tmp74_);
#line 1699 "valagirwriter.vala"
									_tmp76_ = _tmp75_;
#line 1699 "valagirwriter.vala"
									_type_argument_size = _tmp76_;
#line 1699 "valagirwriter.vala"
									_type_argument_index = -1;
#line 1699 "valagirwriter.vala"
									while (TRUE) {
#line 11383 "valagirwriter.vala.c"
										gint _tmp77_;
										gint _tmp78_;
										ValaDataType* type_argument = NULL;
										ValaList* _tmp79_;
										gpointer _tmp80_;
										ValaDataType* _tmp81_;
#line 1699 "valagirwriter.vala"
										_type_argument_index = _type_argument_index + 1;
#line 1699 "valagirwriter.vala"
										_tmp77_ = _type_argument_index;
#line 1699 "valagirwriter.vala"
										_tmp78_ = _type_argument_size;
#line 1699 "valagirwriter.vala"
										if (!(_tmp77_ < _tmp78_)) {
#line 1699 "valagirwriter.vala"
											break;
#line 11400 "valagirwriter.vala.c"
										}
#line 1699 "valagirwriter.vala"
										_tmp79_ = _type_argument_list;
#line 1699 "valagirwriter.vala"
										_tmp80_ = vala_list_get (_tmp79_, _type_argument_index);
#line 1699 "valagirwriter.vala"
										type_argument = (ValaDataType*) _tmp80_;
#line 1700 "valagirwriter.vala"
										_tmp81_ = type_argument;
#line 1700 "valagirwriter.vala"
										vala_gir_writer_write_type (self, _tmp81_, -1, VALA_PARAMETER_DIRECTION_IN);
#line 1699 "valagirwriter.vala"
										_vala_code_node_unref0 (type_argument);
#line 11414 "valagirwriter.vala.c"
									}
								}
#line 1703 "valagirwriter.vala"
								_tmp82_ = self->priv->indent;
#line 1703 "valagirwriter.vala"
								self->priv->indent = _tmp82_ - 1;
#line 1704 "valagirwriter.vala"
								vala_gir_writer_write_indent (self);
#line 1705 "valagirwriter.vala"
								if (is_array) {
#line 1705 "valagirwriter.vala"
									_tmp83_ = "array";
#line 11427 "valagirwriter.vala.c"
								} else {
#line 1705 "valagirwriter.vala"
									_tmp83_ = "type";
#line 11431 "valagirwriter.vala.c"
								}
#line 1705 "valagirwriter.vala"
								_tmp84_ = self->priv->buffer;
#line 1705 "valagirwriter.vala"
								g_string_append_printf (_tmp84_, "</%s>\n", _tmp83_);
#line 11437 "valagirwriter.vala.c"
							}
#line 1683 "valagirwriter.vala"
							_vala_iterable_unref0 (type_arguments);
#line 1683 "valagirwriter.vala"
							_g_free0 (type_name);
#line 11443 "valagirwriter.vala.c"
						} else {
							GString* _tmp85_;
							gchar* _tmp86_;
							gchar* _tmp87_;
#line 1708 "valagirwriter.vala"
							vala_gir_writer_write_indent (self);
#line 1709 "valagirwriter.vala"
							_tmp85_ = self->priv->buffer;
#line 1709 "valagirwriter.vala"
							_tmp86_ = vala_code_node_to_string ((ValaCodeNode*) type);
#line 1709 "valagirwriter.vala"
							_tmp87_ = _tmp86_;
#line 1709 "valagirwriter.vala"
							g_string_append_printf (_tmp85_, "<type name=\"%s\"/>\n", _tmp87_);
#line 1709 "valagirwriter.vala"
							_g_free0 (_tmp87_);
#line 11460 "valagirwriter.vala.c"
						}
					}
				}
			}
		}
	}
}

static gboolean
string_contains (const gchar* self,
                 const gchar* needle)
{
	gchar* _tmp0_;
	gboolean result;
#line 1539 "glib-2.0.vapi"
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
#line 1539 "glib-2.0.vapi"
	result = _tmp0_ != NULL;
#line 1539 "glib-2.0.vapi"
	return result;
#line 11481 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_get_full_gir_name (ValaGIRWriter* self,
                                   ValaSymbol* sym)
{
	gchar* gir_fullname = NULL;
	gchar* _tmp0_;
	const gchar* _tmp1_;
	gchar* gir_name = NULL;
	gchar* _tmp2_;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp4_;
	const gchar* _tmp6_;
	ValaSymbol* _tmp10_;
	ValaSymbol* _tmp11_;
	const gchar* _tmp12_;
	const gchar* _tmp13_;
	gchar* parent_gir_name = NULL;
	ValaSymbol* _tmp17_;
	ValaSymbol* _tmp18_;
	gchar* _tmp19_;
	const gchar* _tmp20_;
	gchar* _tmp21_ = NULL;
	const gchar* _tmp22_;
	gchar* self_gir_name = NULL;
	gchar* _tmp27_;
	const gchar* _tmp28_;
	gchar* result;
#line 1714 "valagirwriter.vala"
	_tmp0_ = vala_code_node_get_attribute_string ((ValaCodeNode*) sym, "GIR", "fullname", NULL);
#line 1714 "valagirwriter.vala"
	gir_fullname = _tmp0_;
#line 1715 "valagirwriter.vala"
	_tmp1_ = gir_fullname;
#line 1715 "valagirwriter.vala"
	if (_tmp1_ != NULL) {
#line 1716 "valagirwriter.vala"
		result = gir_fullname;
#line 1716 "valagirwriter.vala"
		return result;
#line 11523 "valagirwriter.vala.c"
	}
#line 1719 "valagirwriter.vala"
	_tmp2_ = vala_code_node_get_attribute_string ((ValaCodeNode*) sym, "GIR", "name", NULL);
#line 1719 "valagirwriter.vala"
	gir_name = _tmp2_;
#line 1721 "valagirwriter.vala"
	_tmp4_ = gir_name;
#line 1721 "valagirwriter.vala"
	if (_tmp4_ == NULL) {
#line 1721 "valagirwriter.vala"
		_tmp3_ = G_TYPE_CHECK_INSTANCE_TYPE (sym, VALA_TYPE_NAMESPACE);
#line 11535 "valagirwriter.vala.c"
	} else {
#line 1721 "valagirwriter.vala"
		_tmp3_ = FALSE;
#line 11539 "valagirwriter.vala.c"
	}
#line 1721 "valagirwriter.vala"
	if (_tmp3_) {
#line 11543 "valagirwriter.vala.c"
		gchar* _tmp5_;
#line 1722 "valagirwriter.vala"
		_tmp5_ = vala_code_node_get_attribute_string ((ValaCodeNode*) sym, "CCode", "gir_namespace", NULL);
#line 1722 "valagirwriter.vala"
		_g_free0 (gir_name);
#line 1722 "valagirwriter.vala"
		gir_name = _tmp5_;
#line 11551 "valagirwriter.vala.c"
	}
#line 1724 "valagirwriter.vala"
	_tmp6_ = gir_name;
#line 1724 "valagirwriter.vala"
	if (_tmp6_ == NULL) {
#line 11557 "valagirwriter.vala.c"
		const gchar* _tmp7_;
		const gchar* _tmp8_;
		gchar* _tmp9_;
#line 1725 "valagirwriter.vala"
		_tmp7_ = vala_symbol_get_name (sym);
#line 1725 "valagirwriter.vala"
		_tmp8_ = _tmp7_;
#line 1725 "valagirwriter.vala"
		_tmp9_ = g_strdup (_tmp8_);
#line 1725 "valagirwriter.vala"
		_g_free0 (gir_name);
#line 1725 "valagirwriter.vala"
		gir_name = _tmp9_;
#line 11571 "valagirwriter.vala.c"
	}
#line 1728 "valagirwriter.vala"
	_tmp10_ = vala_symbol_get_parent_symbol (sym);
#line 1728 "valagirwriter.vala"
	_tmp11_ = _tmp10_;
#line 1728 "valagirwriter.vala"
	if (_tmp11_ == NULL) {
#line 1729 "valagirwriter.vala"
		result = gir_name;
#line 1729 "valagirwriter.vala"
		_g_free0 (gir_fullname);
#line 1729 "valagirwriter.vala"
		return result;
#line 11585 "valagirwriter.vala.c"
	}
#line 1732 "valagirwriter.vala"
	_tmp12_ = vala_symbol_get_name (sym);
#line 1732 "valagirwriter.vala"
	_tmp13_ = _tmp12_;
#line 1732 "valagirwriter.vala"
	if (_tmp13_ == NULL) {
#line 11593 "valagirwriter.vala.c"
		ValaSymbol* _tmp14_;
		ValaSymbol* _tmp15_;
		gchar* _tmp16_;
#line 1733 "valagirwriter.vala"
		_tmp14_ = vala_symbol_get_parent_symbol (sym);
#line 1733 "valagirwriter.vala"
		_tmp15_ = _tmp14_;
#line 1733 "valagirwriter.vala"
		_tmp16_ = vala_gir_writer_get_full_gir_name (self, _tmp15_);
#line 1733 "valagirwriter.vala"
		result = _tmp16_;
#line 1733 "valagirwriter.vala"
		_g_free0 (gir_name);
#line 1733 "valagirwriter.vala"
		_g_free0 (gir_fullname);
#line 1733 "valagirwriter.vala"
		return result;
#line 11611 "valagirwriter.vala.c"
	}
#line 1736 "valagirwriter.vala"
	_tmp17_ = vala_symbol_get_parent_symbol (sym);
#line 1736 "valagirwriter.vala"
	_tmp18_ = _tmp17_;
#line 1736 "valagirwriter.vala"
	_tmp19_ = vala_gir_writer_get_full_gir_name (self, _tmp18_);
#line 1736 "valagirwriter.vala"
	parent_gir_name = _tmp19_;
#line 1737 "valagirwriter.vala"
	_tmp20_ = parent_gir_name;
#line 1737 "valagirwriter.vala"
	if (_tmp20_ == NULL) {
#line 1738 "valagirwriter.vala"
		result = gir_name;
#line 1738 "valagirwriter.vala"
		_g_free0 (parent_gir_name);
#line 1738 "valagirwriter.vala"
		_g_free0 (gir_fullname);
#line 1738 "valagirwriter.vala"
		return result;
#line 11633 "valagirwriter.vala.c"
	}
#line 1741 "valagirwriter.vala"
	_tmp22_ = gir_name;
#line 1741 "valagirwriter.vala"
	if (g_str_has_prefix (_tmp22_, ".")) {
#line 11639 "valagirwriter.vala.c"
		const gchar* _tmp23_;
		gchar* _tmp24_;
#line 1741 "valagirwriter.vala"
		_tmp23_ = gir_name;
#line 1741 "valagirwriter.vala"
		_tmp24_ = string_substring (_tmp23_, (glong) 1, (glong) -1);
#line 1741 "valagirwriter.vala"
		_g_free0 (_tmp21_);
#line 1741 "valagirwriter.vala"
		_tmp21_ = _tmp24_;
#line 11650 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp25_;
		gchar* _tmp26_;
#line 1741 "valagirwriter.vala"
		_tmp25_ = gir_name;
#line 1741 "valagirwriter.vala"
		_tmp26_ = g_strdup (_tmp25_);
#line 1741 "valagirwriter.vala"
		_g_free0 (_tmp21_);
#line 1741 "valagirwriter.vala"
		_tmp21_ = _tmp26_;
#line 11662 "valagirwriter.vala.c"
	}
#line 1741 "valagirwriter.vala"
	_tmp27_ = g_strdup (_tmp21_);
#line 1741 "valagirwriter.vala"
	self_gir_name = _tmp27_;
#line 1742 "valagirwriter.vala"
	_tmp28_ = parent_gir_name;
#line 1742 "valagirwriter.vala"
	if (string_contains (_tmp28_, ".")) {
#line 11672 "valagirwriter.vala.c"
		const gchar* _tmp29_;
		const gchar* _tmp30_;
		gchar* _tmp31_;
#line 1743 "valagirwriter.vala"
		_tmp29_ = parent_gir_name;
#line 1743 "valagirwriter.vala"
		_tmp30_ = self_gir_name;
#line 1743 "valagirwriter.vala"
		_tmp31_ = g_strdup_printf ("%s%s", _tmp29_, _tmp30_);
#line 1743 "valagirwriter.vala"
		result = _tmp31_;
#line 1743 "valagirwriter.vala"
		_g_free0 (self_gir_name);
#line 1743 "valagirwriter.vala"
		_g_free0 (_tmp21_);
#line 1743 "valagirwriter.vala"
		_g_free0 (parent_gir_name);
#line 1743 "valagirwriter.vala"
		_g_free0 (gir_name);
#line 1743 "valagirwriter.vala"
		_g_free0 (gir_fullname);
#line 1743 "valagirwriter.vala"
		return result;
#line 11696 "valagirwriter.vala.c"
	} else {
		const gchar* _tmp32_;
		const gchar* _tmp33_;
		gchar* _tmp34_;
#line 1745 "valagirwriter.vala"
		_tmp32_ = parent_gir_name;
#line 1745 "valagirwriter.vala"
		_tmp33_ = self_gir_name;
#line 1745 "valagirwriter.vala"
		_tmp34_ = g_strdup_printf ("%s.%s", _tmp32_, _tmp33_);
#line 1745 "valagirwriter.vala"
		result = _tmp34_;
#line 1745 "valagirwriter.vala"
		_g_free0 (self_gir_name);
#line 1745 "valagirwriter.vala"
		_g_free0 (_tmp21_);
#line 1745 "valagirwriter.vala"
		_g_free0 (parent_gir_name);
#line 1745 "valagirwriter.vala"
		_g_free0 (gir_name);
#line 1745 "valagirwriter.vala"
		_g_free0 (gir_fullname);
#line 1745 "valagirwriter.vala"
		return result;
#line 11721 "valagirwriter.vala.c"
	}
}

static gchar*
vala_gir_writer_gi_type_name (ValaGIRWriter* self,
                              ValaTypeSymbol* type_symbol)
{
	ValaSymbol* parent = NULL;
	ValaSymbol* _tmp0_;
	ValaSymbol* _tmp1_;
	ValaSymbol* _tmp2_;
	ValaSymbol* _tmp3_;
	gchar* _tmp50_;
	gchar* result;
#line 1750 "valagirwriter.vala"
	_tmp0_ = vala_symbol_get_parent_symbol ((ValaSymbol*) type_symbol);
#line 1750 "valagirwriter.vala"
	_tmp1_ = _tmp0_;
#line 1750 "valagirwriter.vala"
	_tmp2_ = _vala_code_node_ref0 (_tmp1_);
#line 1750 "valagirwriter.vala"
	parent = _tmp2_;
#line 1751 "valagirwriter.vala"
	_tmp3_ = parent;
#line 1751 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, VALA_TYPE_NAMESPACE)) {
#line 11748 "valagirwriter.vala.c"
		ValaNamespace* ns = NULL;
		ValaSymbol* _tmp4_;
		ValaNamespace* _tmp5_;
		gchar* _tmp6_ = NULL;
		ValaNamespace* _tmp7_;
		gchar* _tmp8_;
		gchar* ns_gir_name = NULL;
		gchar* _tmp13_;
		const gchar* _tmp14_;
#line 1752 "valagirwriter.vala"
		_tmp4_ = parent;
#line 1752 "valagirwriter.vala"
		_tmp5_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, VALA_TYPE_NAMESPACE) ? ((ValaNamespace*) _tmp4_) : NULL);
#line 1752 "valagirwriter.vala"
		ns = _tmp5_;
#line 1753 "valagirwriter.vala"
		_tmp7_ = ns;
#line 1753 "valagirwriter.vala"
		_tmp8_ = vala_code_node_get_attribute_string ((ValaCodeNode*) _tmp7_, "GIR", "name", NULL);
#line 1753 "valagirwriter.vala"
		_tmp6_ = _tmp8_;
#line 1753 "valagirwriter.vala"
		if (_tmp6_ == NULL) {
#line 11772 "valagirwriter.vala.c"
			ValaNamespace* _tmp9_;
			const gchar* _tmp10_;
			const gchar* _tmp11_;
			gchar* _tmp12_;
#line 1753 "valagirwriter.vala"
			_tmp9_ = ns;
#line 1753 "valagirwriter.vala"
			_tmp10_ = vala_symbol_get_name ((ValaSymbol*) _tmp9_);
#line 1753 "valagirwriter.vala"
			_tmp11_ = _tmp10_;
#line 1753 "valagirwriter.vala"
			_tmp12_ = g_strdup (_tmp11_);
#line 1753 "valagirwriter.vala"
			_g_free0 (_tmp6_);
#line 1753 "valagirwriter.vala"
			_tmp6_ = _tmp12_;
#line 11789 "valagirwriter.vala.c"
		}
#line 1753 "valagirwriter.vala"
		_tmp13_ = _tmp6_;
#line 1753 "valagirwriter.vala"
		_tmp6_ = NULL;
#line 1753 "valagirwriter.vala"
		ns_gir_name = _tmp13_;
#line 1754 "valagirwriter.vala"
		_tmp14_ = ns_gir_name;
#line 1754 "valagirwriter.vala"
		if (_tmp14_ != NULL) {
#line 11801 "valagirwriter.vala.c"
			ValaSourceFile* source_file = NULL;
			ValaSourceReference* _tmp15_;
			ValaSourceReference* _tmp16_;
			ValaSourceFile* _tmp17_;
			ValaSourceFile* _tmp18_;
			ValaSourceFile* _tmp19_;
			const gchar* _tmp20_;
			const gchar* _tmp21_;
#line 1755 "valagirwriter.vala"
			_tmp15_ = vala_code_node_get_source_reference ((ValaCodeNode*) type_symbol);
#line 1755 "valagirwriter.vala"
			_tmp16_ = _tmp15_;
#line 1755 "valagirwriter.vala"
			_tmp17_ = vala_source_reference_get_file (_tmp16_);
#line 1755 "valagirwriter.vala"
			_tmp18_ = _tmp17_;
#line 1755 "valagirwriter.vala"
			source_file = _tmp18_;
#line 1756 "valagirwriter.vala"
			_tmp19_ = source_file;
#line 1756 "valagirwriter.vala"
			_tmp20_ = vala_source_file_get_gir_namespace (_tmp19_);
#line 1756 "valagirwriter.vala"
			_tmp21_ = _tmp20_;
#line 1756 "valagirwriter.vala"
			if (_tmp21_ != NULL) {
#line 11828 "valagirwriter.vala.c"
				ValaGIRWriterGIRNamespace external = {0};
				ValaSourceFile* _tmp22_;
				gboolean _tmp23_;
				gboolean _tmp24_;
				ValaArrayList* _tmp32_;
				ValaGIRWriterGIRNamespace _tmp33_;
				gchar* gir_fullname = NULL;
				gchar* _tmp36_;
				const gchar* _tmp37_;
				gchar* _tmp38_ = NULL;
				gchar* _tmp39_;
				gchar* type_name = NULL;
				gchar* _tmp43_;
				ValaGIRWriterGIRNamespace _tmp44_;
				const gchar* _tmp45_;
				const gchar* _tmp46_;
				gchar* _tmp47_;
#line 1758 "valagirwriter.vala"
				_tmp22_ = source_file;
#line 1758 "valagirwriter.vala"
				_tmp23_ = vala_source_file_get_gir_ambiguous (_tmp22_);
#line 1758 "valagirwriter.vala"
				_tmp24_ = _tmp23_;
#line 1758 "valagirwriter.vala"
				if (_tmp24_) {
#line 11854 "valagirwriter.vala.c"
					ValaGIRWriterGIRNamespace _tmp25_ = {0};
#line 1759 "valagirwriter.vala"
					vala_gir_writer_gir_namespace_for_symbol ((ValaSymbol*) type_symbol, &_tmp25_);
#line 1759 "valagirwriter.vala"
					vala_gir_writer_gir_namespace_destroy (&external);
#line 1759 "valagirwriter.vala"
					external = _tmp25_;
#line 11862 "valagirwriter.vala.c"
				} else {
					ValaSourceFile* _tmp26_;
					const gchar* _tmp27_;
					const gchar* _tmp28_;
					ValaSourceFile* _tmp29_;
					const gchar* _tmp30_;
					const gchar* _tmp31_;
#line 1761 "valagirwriter.vala"
					_tmp26_ = source_file;
#line 1761 "valagirwriter.vala"
					_tmp27_ = vala_source_file_get_gir_namespace (_tmp26_);
#line 1761 "valagirwriter.vala"
					_tmp28_ = _tmp27_;
#line 1761 "valagirwriter.vala"
					_tmp29_ = source_file;
#line 1761 "valagirwriter.vala"
					_tmp30_ = vala_source_file_get_gir_version (_tmp29_);
#line 1761 "valagirwriter.vala"
					_tmp31_ = _tmp30_;
#line 1761 "valagirwriter.vala"
					vala_gir_writer_gir_namespace_destroy (&external);
#line 1761 "valagirwriter.vala"
					vala_gir_writer_gir_namespace_init (&external, _tmp28_, _tmp31_);
#line 11886 "valagirwriter.vala.c"
				}
#line 1763 "valagirwriter.vala"
				_tmp32_ = self->priv->externals;
#line 1763 "valagirwriter.vala"
				_tmp33_ = external;
#line 1763 "valagirwriter.vala"
				if (!vala_collection_contains ((ValaCollection*) _tmp32_, &_tmp33_)) {
#line 11894 "valagirwriter.vala.c"
					ValaArrayList* _tmp34_;
					ValaGIRWriterGIRNamespace _tmp35_;
#line 1764 "valagirwriter.vala"
					_tmp34_ = self->priv->externals;
#line 1764 "valagirwriter.vala"
					_tmp35_ = external;
#line 1764 "valagirwriter.vala"
					vala_collection_add ((ValaCollection*) _tmp34_, &_tmp35_);
#line 11903 "valagirwriter.vala.c"
				}
#line 1766 "valagirwriter.vala"
				_tmp36_ = vala_code_node_get_attribute_string ((ValaCodeNode*) type_symbol, "GIR", "fullname", NULL);
#line 1766 "valagirwriter.vala"
				gir_fullname = _tmp36_;
#line 1767 "valagirwriter.vala"
				_tmp37_ = gir_fullname;
#line 1767 "valagirwriter.vala"
				if (_tmp37_ != NULL) {
#line 1768 "valagirwriter.vala"
					result = gir_fullname;
#line 1768 "valagirwriter.vala"
					vala_gir_writer_gir_namespace_destroy (&external);
#line 1768 "valagirwriter.vala"
					_g_free0 (ns_gir_name);
#line 1768 "valagirwriter.vala"
					_g_free0 (_tmp6_);
#line 1768 "valagirwriter.vala"
					_vala_code_node_unref0 (ns);
#line 1768 "valagirwriter.vala"
					_vala_code_node_unref0 (parent);
#line 1768 "valagirwriter.vala"
					return result;
#line 11927 "valagirwriter.vala.c"
				}
#line 1770 "valagirwriter.vala"
				_tmp39_ = vala_code_node_get_attribute_string ((ValaCodeNode*) type_symbol, "GIR", "name", NULL);
#line 1770 "valagirwriter.vala"
				_tmp38_ = _tmp39_;
#line 1770 "valagirwriter.vala"
				if (_tmp38_ == NULL) {
#line 11935 "valagirwriter.vala.c"
					const gchar* _tmp40_;
					const gchar* _tmp41_;
					gchar* _tmp42_;
#line 1770 "valagirwriter.vala"
					_tmp40_ = vala_symbol_get_name ((ValaSymbol*) type_symbol);
#line 1770 "valagirwriter.vala"
					_tmp41_ = _tmp40_;
#line 1770 "valagirwriter.vala"
					_tmp42_ = g_strdup (_tmp41_);
#line 1770 "valagirwriter.vala"
					_g_free0 (_tmp38_);
#line 1770 "valagirwriter.vala"
					_tmp38_ = _tmp42_;
#line 11949 "valagirwriter.vala.c"
				}
#line 1770 "valagirwriter.vala"
				_tmp43_ = _tmp38_;
#line 1770 "valagirwriter.vala"
				_tmp38_ = NULL;
#line 1770 "valagirwriter.vala"
				type_name = _tmp43_;
#line 1771 "valagirwriter.vala"
				_tmp44_ = external;
#line 1771 "valagirwriter.vala"
				_tmp45_ = _tmp44_.ns;
#line 1771 "valagirwriter.vala"
				_tmp46_ = type_name;
#line 1771 "valagirwriter.vala"
				_tmp47_ = g_strdup_printf ("%s.%s", _tmp45_, _tmp46_);
#line 1771 "valagirwriter.vala"
				result = _tmp47_;
#line 1771 "valagirwriter.vala"
				_g_free0 (type_name);
#line 1771 "valagirwriter.vala"
				_g_free0 (_tmp38_);
#line 1771 "valagirwriter.vala"
				_g_free0 (gir_fullname);
#line 1771 "valagirwriter.vala"
				vala_gir_writer_gir_namespace_destroy (&external);
#line 1771 "valagirwriter.vala"
				_g_free0 (ns_gir_name);
#line 1771 "valagirwriter.vala"
				_g_free0 (_tmp6_);
#line 1771 "valagirwriter.vala"
				_vala_code_node_unref0 (ns);
#line 1771 "valagirwriter.vala"
				_vala_code_node_unref0 (parent);
#line 1771 "valagirwriter.vala"
				return result;
#line 11985 "valagirwriter.vala.c"
			} else {
				ValaHashSet* _tmp48_;
				ValaNamespace* _tmp49_;
#line 1773 "valagirwriter.vala"
				_tmp48_ = self->priv->unannotated_namespaces;
#line 1773 "valagirwriter.vala"
				_tmp49_ = ns;
#line 1773 "valagirwriter.vala"
				vala_collection_add ((ValaCollection*) _tmp48_, _tmp49_);
#line 11995 "valagirwriter.vala.c"
			}
		}
#line 1751 "valagirwriter.vala"
		_g_free0 (ns_gir_name);
#line 1751 "valagirwriter.vala"
		_g_free0 (_tmp6_);
#line 1751 "valagirwriter.vala"
		_vala_code_node_unref0 (ns);
#line 12004 "valagirwriter.vala.c"
	}
#line 1778 "valagirwriter.vala"
	_tmp50_ = vala_gir_writer_get_full_gir_name (self, (ValaSymbol*) type_symbol);
#line 1778 "valagirwriter.vala"
	result = _tmp50_;
#line 1778 "valagirwriter.vala"
	_vala_code_node_unref0 (parent);
#line 1778 "valagirwriter.vala"
	return result;
#line 12014 "valagirwriter.vala.c"
}

static gchar*
vala_gir_writer_literal_expression_to_value_string (ValaGIRWriter* self,
                                                    ValaExpression* literal)
{
	gchar* result;
#line 1782 "valagirwriter.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_STRING_LITERAL)) {
#line 12024 "valagirwriter.vala.c"
		ValaStringLiteral* lit = NULL;
		ValaStringLiteral* _tmp0_;
		ValaStringLiteral* _tmp1_;
#line 1783 "valagirwriter.vala"
		_tmp0_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_STRING_LITERAL) ? ((ValaStringLiteral*) literal) : NULL);
#line 1783 "valagirwriter.vala"
		lit = _tmp0_;
#line 1784 "valagirwriter.vala"
		_tmp1_ = lit;
#line 1784 "valagirwriter.vala"
		if (_tmp1_ != NULL) {
#line 12036 "valagirwriter.vala.c"
			ValaStringLiteral* _tmp2_;
			gchar* _tmp3_;
			gchar* _tmp4_;
			gchar* _tmp5_;
			gchar* _tmp6_;
#line 1785 "valagirwriter.vala"
			_tmp2_ = lit;
#line 1785 "valagirwriter.vala"
			_tmp3_ = vala_string_literal_eval (_tmp2_);
#line 1785 "valagirwriter.vala"
			_tmp4_ = _tmp3_;
#line 1785 "valagirwriter.vala"
			_tmp5_ = g_markup_escape_text (_tmp4_, (gssize) -1);
#line 1785 "valagirwriter.vala"
			_tmp6_ = _tmp5_;
#line 1785 "valagirwriter.vala"
			_g_free0 (_tmp4_);
#line 1785 "valagirwriter.vala"
			result = _tmp6_;
#line 1785 "valagirwriter.vala"
			_vala_code_node_unref0 (lit);
#line 1785 "valagirwriter.vala"
			return result;
#line 12060 "valagirwriter.vala.c"
		}
#line 1782 "valagirwriter.vala"
		_vala_code_node_unref0 (lit);
#line 12064 "valagirwriter.vala.c"
	} else {
#line 1787 "valagirwriter.vala"
		if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_CHARACTER_LITERAL)) {
#line 12068 "valagirwriter.vala.c"
			gchar* _tmp7_;
#line 1788 "valagirwriter.vala"
			_tmp7_ = g_strdup_printf ("%c", (gint) ((gchar) vala_character_literal_get_char (G_TYPE_CHECK_INSTANCE_CAST (literal, VALA_TYPE_CHARACTER_LITERAL, ValaCharacterLiteral))));
#line 1788 "valagirwriter.vala"
			result = _tmp7_;
#line 1788 "valagirwriter.vala"
			return result;
#line 12076 "valagirwriter.vala.c"
		} else {
#line 1789 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_BOOLEAN_LITERAL)) {
#line 12080 "valagirwriter.vala.c"
				const gchar* _tmp8_ = NULL;
				gboolean _tmp9_;
				gboolean _tmp10_;
				gchar* _tmp11_;
#line 1790 "valagirwriter.vala"
				_tmp9_ = vala_boolean_literal_get_value (G_TYPE_CHECK_INSTANCE_CAST (literal, VALA_TYPE_BOOLEAN_LITERAL, ValaBooleanLiteral));
#line 1790 "valagirwriter.vala"
				_tmp10_ = _tmp9_;
#line 1790 "valagirwriter.vala"
				if (_tmp10_) {
#line 1790 "valagirwriter.vala"
					_tmp8_ = "true";
#line 12093 "valagirwriter.vala.c"
				} else {
#line 1790 "valagirwriter.vala"
					_tmp8_ = "false";
#line 12097 "valagirwriter.vala.c"
				}
#line 1790 "valagirwriter.vala"
				_tmp11_ = g_strdup (_tmp8_);
#line 1790 "valagirwriter.vala"
				result = _tmp11_;
#line 1790 "valagirwriter.vala"
				return result;
#line 12105 "valagirwriter.vala.c"
			} else {
#line 1791 "valagirwriter.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_REAL_LITERAL)) {
#line 12109 "valagirwriter.vala.c"
					const gchar* _tmp12_;
					const gchar* _tmp13_;
					gchar* _tmp14_;
#line 1792 "valagirwriter.vala"
					_tmp12_ = vala_real_literal_get_value (G_TYPE_CHECK_INSTANCE_CAST (literal, VALA_TYPE_REAL_LITERAL, ValaRealLiteral));
#line 1792 "valagirwriter.vala"
					_tmp13_ = _tmp12_;
#line 1792 "valagirwriter.vala"
					_tmp14_ = g_strdup (_tmp13_);
#line 1792 "valagirwriter.vala"
					result = _tmp14_;
#line 1792 "valagirwriter.vala"
					return result;
#line 12123 "valagirwriter.vala.c"
				} else {
#line 1793 "valagirwriter.vala"
					if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_INTEGER_LITERAL)) {
#line 12127 "valagirwriter.vala.c"
						const gchar* _tmp15_;
						const gchar* _tmp16_;
						gchar* _tmp17_;
#line 1794 "valagirwriter.vala"
						_tmp15_ = vala_integer_literal_get_value (G_TYPE_CHECK_INSTANCE_CAST (literal, VALA_TYPE_INTEGER_LITERAL, ValaIntegerLiteral));
#line 1794 "valagirwriter.vala"
						_tmp16_ = _tmp15_;
#line 1794 "valagirwriter.vala"
						_tmp17_ = g_strdup (_tmp16_);
#line 1794 "valagirwriter.vala"
						result = _tmp17_;
#line 1794 "valagirwriter.vala"
						return result;
#line 12141 "valagirwriter.vala.c"
					} else {
#line 1795 "valagirwriter.vala"
						if (G_TYPE_CHECK_INSTANCE_TYPE (literal, VALA_TYPE_UNARY_EXPRESSION)) {
#line 12145 "valagirwriter.vala.c"
							ValaUnaryExpression* unary = NULL;
							ValaUnaryExpression* _tmp18_;
							ValaUnaryExpression* _tmp19_;
							ValaUnaryOperator _tmp20_;
							ValaUnaryOperator _tmp21_;
#line 1796 "valagirwriter.vala"
							_tmp18_ = _vala_code_node_ref0 (G_TYPE_CHECK_INSTANCE_CAST (literal, VALA_TYPE_UNARY_EXPRESSION, ValaUnaryExpression));
#line 1796 "valagirwriter.vala"
							unary = _tmp18_;
#line 1797 "valagirwriter.vala"
							_tmp19_ = unary;
#line 1797 "valagirwriter.vala"
							_tmp20_ = vala_unary_expression_get_operator (_tmp19_);
#line 1797 "valagirwriter.vala"
							_tmp21_ = _tmp20_;
#line 1797 "valagirwriter.vala"
							if (_tmp21_ == VALA_UNARY_OPERATOR_MINUS) {
#line 12163 "valagirwriter.vala.c"
								ValaUnaryExpression* _tmp22_;
								ValaExpression* _tmp23_;
								ValaExpression* _tmp24_;
#line 1798 "valagirwriter.vala"
								_tmp22_ = unary;
#line 1798 "valagirwriter.vala"
								_tmp23_ = vala_unary_expression_get_inner (_tmp22_);
#line 1798 "valagirwriter.vala"
								_tmp24_ = _tmp23_;
#line 1798 "valagirwriter.vala"
								if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp24_, VALA_TYPE_REAL_LITERAL)) {
#line 12175 "valagirwriter.vala.c"
									ValaUnaryExpression* _tmp25_;
									ValaExpression* _tmp26_;
									ValaExpression* _tmp27_;
									const gchar* _tmp28_;
									const gchar* _tmp29_;
									gchar* _tmp30_;
#line 1799 "valagirwriter.vala"
									_tmp25_ = unary;
#line 1799 "valagirwriter.vala"
									_tmp26_ = vala_unary_expression_get_inner (_tmp25_);
#line 1799 "valagirwriter.vala"
									_tmp27_ = _tmp26_;
#line 1799 "valagirwriter.vala"
									_tmp28_ = vala_real_literal_get_value (G_TYPE_CHECK_INSTANCE_CAST (_tmp27_, VALA_TYPE_REAL_LITERAL, ValaRealLiteral));
#line 1799 "valagirwriter.vala"
									_tmp29_ = _tmp28_;
#line 1799 "valagirwriter.vala"
									_tmp30_ = g_strconcat ("-", _tmp29_, NULL);
#line 1799 "valagirwriter.vala"
									result = _tmp30_;
#line 1799 "valagirwriter.vala"
									_vala_code_node_unref0 (unary);
#line 1799 "valagirwriter.vala"
									return result;
#line 12200 "valagirwriter.vala.c"
								} else {
									ValaUnaryExpression* _tmp31_;
									ValaExpression* _tmp32_;
									ValaExpression* _tmp33_;
#line 1800 "valagirwriter.vala"
									_tmp31_ = unary;
#line 1800 "valagirwriter.vala"
									_tmp32_ = vala_unary_expression_get_inner (_tmp31_);
#line 1800 "valagirwriter.vala"
									_tmp33_ = _tmp32_;
#line 1800 "valagirwriter.vala"
									if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp33_, VALA_TYPE_INTEGER_LITERAL)) {
#line 12213 "valagirwriter.vala.c"
										ValaUnaryExpression* _tmp34_;
										ValaExpression* _tmp35_;
										ValaExpression* _tmp36_;
										const gchar* _tmp37_;
										const gchar* _tmp38_;
										gchar* _tmp39_;
#line 1801 "valagirwriter.vala"
										_tmp34_ = unary;
#line 1801 "valagirwriter.vala"
										_tmp35_ = vala_unary_expression_get_inner (_tmp34_);
#line 1801 "valagirwriter.vala"
										_tmp36_ = _tmp35_;
#line 1801 "valagirwriter.vala"
										_tmp37_ = vala_integer_literal_get_value (G_TYPE_CHECK_INSTANCE_CAST (_tmp36_, VALA_TYPE_INTEGER_LITERAL, ValaIntegerLiteral));
#line 1801 "valagirwriter.vala"
										_tmp38_ = _tmp37_;
#line 1801 "valagirwriter.vala"
										_tmp39_ = g_strconcat ("-", _tmp38_, NULL);
#line 1801 "valagirwriter.vala"
										result = _tmp39_;
#line 1801 "valagirwriter.vala"
										_vala_code_node_unref0 (unary);
#line 1801 "valagirwriter.vala"
										return result;
#line 12238 "valagirwriter.vala.c"
									}
								}
							}
#line 1795 "valagirwriter.vala"
							_vala_code_node_unref0 (unary);
#line 12244 "valagirwriter.vala.c"
						}
					}
				}
			}
		}
	}
#line 1805 "valagirwriter.vala"
	result = NULL;
#line 1805 "valagirwriter.vala"
	return result;
#line 12255 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_check_accessibility (ValaGIRWriter* self,
                                     ValaSymbol* sym)
{
	gboolean _tmp0_ = FALSE;
	ValaSymbolAccessibility _tmp1_;
	ValaSymbolAccessibility _tmp2_;
	ValaSymbolAccessibility _tmp5_;
	ValaSymbolAccessibility _tmp6_;
	gboolean result;
#line 1809 "valagirwriter.vala"
	_tmp1_ = vala_symbol_get_access (sym);
#line 1809 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 1809 "valagirwriter.vala"
	if (_tmp2_ == VALA_SYMBOL_ACCESSIBILITY_PUBLIC) {
#line 1809 "valagirwriter.vala"
		_tmp0_ = TRUE;
#line 12276 "valagirwriter.vala.c"
	} else {
		ValaSymbolAccessibility _tmp3_;
		ValaSymbolAccessibility _tmp4_;
#line 1810 "valagirwriter.vala"
		_tmp3_ = vala_symbol_get_access (sym);
#line 1810 "valagirwriter.vala"
		_tmp4_ = _tmp3_;
#line 1810 "valagirwriter.vala"
		_tmp0_ = _tmp4_ == VALA_SYMBOL_ACCESSIBILITY_PROTECTED;
#line 12286 "valagirwriter.vala.c"
	}
#line 1809 "valagirwriter.vala"
	if (_tmp0_) {
#line 1811 "valagirwriter.vala"
		result = TRUE;
#line 1811 "valagirwriter.vala"
		return result;
#line 12294 "valagirwriter.vala.c"
	}
#line 1815 "valagirwriter.vala"
	_tmp5_ = vala_symbol_get_access (sym);
#line 1815 "valagirwriter.vala"
	_tmp6_ = _tmp5_;
#line 1815 "valagirwriter.vala"
	if (_tmp6_ == VALA_SYMBOL_ACCESSIBILITY_INTERNAL) {
#line 12302 "valagirwriter.vala.c"
		ValaSymbol* parent = NULL;
		ValaSymbol* _tmp7_;
		ValaSymbol* _tmp8_;
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_ = FALSE;
		ValaSymbol* _tmp11_;
#line 1816 "valagirwriter.vala"
		_tmp7_ = vala_symbol_get_parent_symbol (sym);
#line 1816 "valagirwriter.vala"
		_tmp8_ = _tmp7_;
#line 1816 "valagirwriter.vala"
		parent = _tmp8_;
#line 1817 "valagirwriter.vala"
		_tmp11_ = parent;
#line 1817 "valagirwriter.vala"
		if (_tmp11_ != NULL) {
#line 12319 "valagirwriter.vala.c"
			gboolean _tmp12_ = FALSE;
			ValaSymbol* _tmp13_;
#line 1818 "valagirwriter.vala"
			_tmp13_ = parent;
#line 1818 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, VALA_TYPE_CLASS)) {
#line 1818 "valagirwriter.vala"
				_tmp12_ = TRUE;
#line 12328 "valagirwriter.vala.c"
			} else {
				ValaSymbol* _tmp14_;
#line 1818 "valagirwriter.vala"
				_tmp14_ = parent;
#line 1818 "valagirwriter.vala"
				_tmp12_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp14_, VALA_TYPE_INTERFACE);
#line 12335 "valagirwriter.vala.c"
			}
#line 1818 "valagirwriter.vala"
			_tmp10_ = _tmp12_;
#line 12339 "valagirwriter.vala.c"
		} else {
#line 1817 "valagirwriter.vala"
			_tmp10_ = FALSE;
#line 12343 "valagirwriter.vala.c"
		}
#line 1817 "valagirwriter.vala"
		if (_tmp10_) {
#line 12347 "valagirwriter.vala.c"
			gboolean _tmp15_ = FALSE;
			gboolean _tmp16_ = FALSE;
#line 1819 "valagirwriter.vala"
			if (G_TYPE_CHECK_INSTANCE_TYPE (sym, VALA_TYPE_FIELD)) {
#line 12352 "valagirwriter.vala.c"
				ValaMemberBinding _tmp17_;
				ValaMemberBinding _tmp18_;
#line 1819 "valagirwriter.vala"
				_tmp17_ = vala_field_get_binding (G_TYPE_CHECK_INSTANCE_CAST (sym, VALA_TYPE_FIELD, ValaField));
#line 1819 "valagirwriter.vala"
				_tmp18_ = _tmp17_;
#line 1819 "valagirwriter.vala"
				_tmp16_ = _tmp18_ == VALA_MEMBER_BINDING_INSTANCE;
#line 12361 "valagirwriter.vala.c"
			} else {
#line 1819 "valagirwriter.vala"
				_tmp16_ = FALSE;
#line 12365 "valagirwriter.vala.c"
			}
#line 1819 "valagirwriter.vala"
			if (_tmp16_) {
#line 1819 "valagirwriter.vala"
				_tmp15_ = TRUE;
#line 12371 "valagirwriter.vala.c"
			} else {
				gboolean _tmp19_ = FALSE;
				gboolean _tmp20_ = FALSE;
#line 1820 "valagirwriter.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (sym, VALA_TYPE_METHOD)) {
#line 12377 "valagirwriter.vala.c"
					ValaMemberBinding _tmp21_;
					ValaMemberBinding _tmp22_;
#line 1820 "valagirwriter.vala"
					_tmp21_ = vala_method_get_binding (G_TYPE_CHECK_INSTANCE_CAST (sym, VALA_TYPE_METHOD, ValaMethod));
#line 1820 "valagirwriter.vala"
					_tmp22_ = _tmp21_;
#line 1820 "valagirwriter.vala"
					_tmp20_ = _tmp22_ == VALA_MEMBER_BINDING_INSTANCE;
#line 12386 "valagirwriter.vala.c"
				} else {
#line 1820 "valagirwriter.vala"
					_tmp20_ = FALSE;
#line 12390 "valagirwriter.vala.c"
				}
#line 1820 "valagirwriter.vala"
				if (_tmp20_) {
#line 12394 "valagirwriter.vala.c"
					gboolean _tmp23_ = FALSE;
					gboolean _tmp24_;
					gboolean _tmp25_;
#line 1820 "valagirwriter.vala"
					_tmp24_ = vala_method_get_is_abstract (G_TYPE_CHECK_INSTANCE_CAST (sym, VALA_TYPE_METHOD, ValaMethod));
#line 1820 "valagirwriter.vala"
					_tmp25_ = _tmp24_;
#line 1820 "valagirwriter.vala"
					if (_tmp25_) {
#line 1820 "valagirwriter.vala"
						_tmp23_ = TRUE;
#line 12406 "valagirwriter.vala.c"
					} else {
						gboolean _tmp26_;
						gboolean _tmp27_;
#line 1820 "valagirwriter.vala"
						_tmp26_ = vala_method_get_is_virtual (G_TYPE_CHECK_INSTANCE_CAST (sym, VALA_TYPE_METHOD, ValaMethod));
#line 1820 "valagirwriter.vala"
						_tmp27_ = _tmp26_;
#line 1820 "valagirwriter.vala"
						_tmp23_ = _tmp27_;
#line 12416 "valagirwriter.vala.c"
					}
#line 1820 "valagirwriter.vala"
					_tmp19_ = _tmp23_;
#line 12420 "valagirwriter.vala.c"
				} else {
#line 1820 "valagirwriter.vala"
					_tmp19_ = FALSE;
#line 12424 "valagirwriter.vala.c"
				}
#line 1820 "valagirwriter.vala"
				_tmp15_ = _tmp19_;
#line 12428 "valagirwriter.vala.c"
			}
#line 1819 "valagirwriter.vala"
			_tmp9_ = _tmp15_;
#line 12432 "valagirwriter.vala.c"
		} else {
#line 1817 "valagirwriter.vala"
			_tmp9_ = FALSE;
#line 12436 "valagirwriter.vala.c"
		}
#line 1817 "valagirwriter.vala"
		if (_tmp9_) {
#line 1821 "valagirwriter.vala"
			result = TRUE;
#line 1821 "valagirwriter.vala"
			return result;
#line 12444 "valagirwriter.vala.c"
		}
	}
#line 1825 "valagirwriter.vala"
	result = FALSE;
#line 1825 "valagirwriter.vala"
	return result;
#line 12451 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_is_visibility (ValaGIRWriter* self,
                               ValaSymbol* sym)
{
	gboolean result;
#line 1829 "valagirwriter.vala"
	result = vala_code_node_get_attribute_bool ((ValaCodeNode*) sym, "GIR", "visible", TRUE);
#line 1829 "valagirwriter.vala"
	return result;
#line 12463 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_has_namespace (ValaGIRWriter* self,
                               ValaSymbol* sym)
{
	gboolean _tmp0_ = FALSE;
	ValaSymbol* _tmp1_;
	ValaSymbol* _tmp2_;
	ValaSourceReference* _tmp7_;
	ValaSourceReference* _tmp8_;
	const gchar* _tmp9_;
	const gchar* _tmp10_;
	gboolean result;
#line 1833 "valagirwriter.vala"
	_tmp1_ = vala_symbol_get_parent_symbol (sym);
#line 1833 "valagirwriter.vala"
	_tmp2_ = _tmp1_;
#line 1833 "valagirwriter.vala"
	if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, VALA_TYPE_NAMESPACE)) {
#line 1833 "valagirwriter.vala"
		_tmp0_ = TRUE;
#line 12486 "valagirwriter.vala.c"
	} else {
		ValaSymbol* _tmp3_;
		ValaSymbol* _tmp4_;
		const gchar* _tmp5_;
		const gchar* _tmp6_;
#line 1833 "valagirwriter.vala"
		_tmp3_ = vala_symbol_get_parent_symbol (sym);
#line 1833 "valagirwriter.vala"
		_tmp4_ = _tmp3_;
#line 1833 "valagirwriter.vala"
		_tmp5_ = vala_symbol_get_name (_tmp4_);
#line 1833 "valagirwriter.vala"
		_tmp6_ = _tmp5_;
#line 1833 "valagirwriter.vala"
		_tmp0_ = _tmp6_ != NULL;
#line 12502 "valagirwriter.vala.c"
	}
#line 1833 "valagirwriter.vala"
	if (_tmp0_) {
#line 1834 "valagirwriter.vala"
		result = TRUE;
#line 1834 "valagirwriter.vala"
		return result;
#line 12510 "valagirwriter.vala.c"
	}
#line 1837 "valagirwriter.vala"
	_tmp7_ = vala_code_node_get_source_reference ((ValaCodeNode*) sym);
#line 1837 "valagirwriter.vala"
	_tmp8_ = _tmp7_;
#line 1837 "valagirwriter.vala"
	_tmp9_ = vala_symbol_get_name (sym);
#line 1837 "valagirwriter.vala"
	_tmp10_ = _tmp9_;
#line 1837 "valagirwriter.vala"
	vala_report_warning (_tmp8_, "`%s' must be part of namespace to be included in GIR", _tmp10_);
#line 1838 "valagirwriter.vala"
	result = FALSE;
#line 1838 "valagirwriter.vala"
	return result;
#line 12526 "valagirwriter.vala.c"
}

ValaGIRWriter*
vala_gir_writer_construct (GType object_type)
{
	ValaGIRWriter* self = NULL;
#line 28 "valagirwriter.vala"
	self = (ValaGIRWriter*) vala_code_visitor_construct (object_type);
#line 28 "valagirwriter.vala"
	return self;
#line 12537 "valagirwriter.vala.c"
}

ValaGIRWriter*
vala_gir_writer_new (void)
{
#line 28 "valagirwriter.vala"
	return vala_gir_writer_construct (VALA_TYPE_GIR_WRITER);
#line 12545 "valagirwriter.vala.c"
}

static void
vala_gir_writer_gir_namespace_init (ValaGIRWriterGIRNamespace *self,
                                    const gchar* ns,
                                    const gchar* version)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
#line 119 "valagirwriter.vala"
	memset (self, 0, sizeof (ValaGIRWriterGIRNamespace));
#line 120 "valagirwriter.vala"
	_tmp0_ = g_strdup (ns);
#line 120 "valagirwriter.vala"
	_g_free0 ((*self).ns);
#line 120 "valagirwriter.vala"
	(*self).ns = _tmp0_;
#line 120 "valagirwriter.vala"
	_tmp1_ = g_strdup (version);
#line 120 "valagirwriter.vala"
	_g_free0 ((*self).version);
#line 120 "valagirwriter.vala"
	(*self).version = _tmp1_;
#line 12569 "valagirwriter.vala.c"
}

static gboolean
vala_gir_writer_gir_namespace_equal (ValaGIRWriterGIRNamespace *self,
                                     ValaGIRWriterGIRNamespace* g)
{
	gboolean _tmp0_ = FALSE;
	const gchar* _tmp1_;
	ValaGIRWriterGIRNamespace _tmp2_;
	const gchar* _tmp3_;
	gboolean result;
#line 125 "valagirwriter.vala"
	_tmp1_ = (*self).ns;
#line 125 "valagirwriter.vala"
	_tmp2_ = *g;
#line 125 "valagirwriter.vala"
	_tmp3_ = _tmp2_.ns;
#line 125 "valagirwriter.vala"
	if (g_strcmp0 (_tmp1_, _tmp3_) == 0) {
#line 12589 "valagirwriter.vala.c"
		const gchar* _tmp4_;
		ValaGIRWriterGIRNamespace _tmp5_;
		const gchar* _tmp6_;
#line 125 "valagirwriter.vala"
		_tmp4_ = (*self).version;
#line 125 "valagirwriter.vala"
		_tmp5_ = *g;
#line 125 "valagirwriter.vala"
		_tmp6_ = _tmp5_.version;
#line 125 "valagirwriter.vala"
		_tmp0_ = g_strcmp0 (_tmp4_, _tmp6_) == 0;
#line 12601 "valagirwriter.vala.c"
	} else {
#line 125 "valagirwriter.vala"
		_tmp0_ = FALSE;
#line 12605 "valagirwriter.vala.c"
	}
#line 125 "valagirwriter.vala"
	result = _tmp0_;
#line 125 "valagirwriter.vala"
	return result;
#line 12611 "valagirwriter.vala.c"
}

static void
vala_gir_writer_gir_namespace_for_symbol (ValaSymbol* sym,
                                          ValaGIRWriterGIRNamespace* result)
{
	gchar* gir_namespace = NULL;
	gchar* _tmp9_;
	gchar* gir_version = NULL;
	gchar* _tmp10_;
	ValaGIRWriterGIRNamespace _tmp11_ = {0};
#line 129 "valagirwriter.vala"
	while (TRUE) {
#line 12625 "valagirwriter.vala.c"
		gboolean _tmp0_ = FALSE;
		ValaSymbol* _tmp1_;
		ValaSymbol* _tmp2_;
		ValaSymbol* _tmp7_;
		ValaSymbol* _tmp8_;
#line 129 "valagirwriter.vala"
		_tmp1_ = vala_symbol_get_parent_symbol (sym);
#line 129 "valagirwriter.vala"
		_tmp2_ = _tmp1_;
#line 129 "valagirwriter.vala"
		if (_tmp2_ != NULL) {
#line 12637 "valagirwriter.vala.c"
			ValaSymbol* _tmp3_;
			ValaSymbol* _tmp4_;
			const gchar* _tmp5_;
			const gchar* _tmp6_;
#line 129 "valagirwriter.vala"
			_tmp3_ = vala_symbol_get_parent_symbol (sym);
#line 129 "valagirwriter.vala"
			_tmp4_ = _tmp3_;
#line 129 "valagirwriter.vala"
			_tmp5_ = vala_symbol_get_name (_tmp4_);
#line 129 "valagirwriter.vala"
			_tmp6_ = _tmp5_;
#line 129 "valagirwriter.vala"
			_tmp0_ = _tmp6_ != NULL;
#line 12652 "valagirwriter.vala.c"
		} else {
#line 129 "valagirwriter.vala"
			_tmp0_ = FALSE;
#line 12656 "valagirwriter.vala.c"
		}
#line 129 "valagirwriter.vala"
		if (!_tmp0_) {
#line 129 "valagirwriter.vala"
			break;
#line 12662 "valagirwriter.vala.c"
		}
#line 130 "valagirwriter.vala"
		_tmp7_ = vala_symbol_get_parent_symbol (sym);
#line 130 "valagirwriter.vala"
		_tmp8_ = _tmp7_;
#line 130 "valagirwriter.vala"
		sym = _tmp8_;
#line 12670 "valagirwriter.vala.c"
	}
#line 132 "valagirwriter.vala"
	_vala_assert (G_TYPE_CHECK_INSTANCE_TYPE (sym, VALA_TYPE_NAMESPACE), "sym is Namespace");
#line 133 "valagirwriter.vala"
	_tmp9_ = vala_code_node_get_attribute_string ((ValaCodeNode*) sym, "CCode", "gir_namespace", NULL);
#line 133 "valagirwriter.vala"
	gir_namespace = _tmp9_;
#line 134 "valagirwriter.vala"
	_tmp10_ = vala_code_node_get_attribute_string ((ValaCodeNode*) sym, "CCode", "gir_version", NULL);
#line 134 "valagirwriter.vala"
	gir_version = _tmp10_;
#line 135 "valagirwriter.vala"
	vala_gir_writer_gir_namespace_init (&_tmp11_, gir_namespace, gir_version);
#line 135 "valagirwriter.vala"
	*result = _tmp11_;
#line 135 "valagirwriter.vala"
	_g_free0 (gir_version);
#line 135 "valagirwriter.vala"
	_g_free0 (gir_namespace);
#line 135 "valagirwriter.vala"
	return;
#line 12692 "valagirwriter.vala.c"
}

static void
vala_gir_writer_gir_namespace_copy (const ValaGIRWriterGIRNamespace* self,
                                    ValaGIRWriterGIRNamespace* dest)
{
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
#line 118 "valagirwriter.vala"
	_tmp0_ = (*self).ns;
#line 118 "valagirwriter.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 118 "valagirwriter.vala"
	_g_free0 ((*dest).ns);
#line 118 "valagirwriter.vala"
	(*dest).ns = _tmp1_;
#line 118 "valagirwriter.vala"
	_tmp2_ = (*self).version;
#line 118 "valagirwriter.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 118 "valagirwriter.vala"
	_g_free0 ((*dest).version);
#line 118 "valagirwriter.vala"
	(*dest).version = _tmp3_;
#line 12719 "valagirwriter.vala.c"
}

static void
vala_gir_writer_gir_namespace_destroy (ValaGIRWriterGIRNamespace* self)
{
#line 122 "valagirwriter.vala"
	_g_free0 ((*self).ns);
#line 123 "valagirwriter.vala"
	_g_free0 ((*self).version);
#line 12729 "valagirwriter.vala.c"
}

static ValaGIRWriterGIRNamespace*
vala_gir_writer_gir_namespace_dup (const ValaGIRWriterGIRNamespace* self)
{
	ValaGIRWriterGIRNamespace* dup;
#line 118 "valagirwriter.vala"
	dup = g_new0 (ValaGIRWriterGIRNamespace, 1);
#line 118 "valagirwriter.vala"
	vala_gir_writer_gir_namespace_copy (self, dup);
#line 118 "valagirwriter.vala"
	return dup;
#line 12742 "valagirwriter.vala.c"
}

static void
vala_gir_writer_gir_namespace_free (ValaGIRWriterGIRNamespace* self)
{
#line 118 "valagirwriter.vala"
	vala_gir_writer_gir_namespace_destroy (self);
#line 118 "valagirwriter.vala"
	g_free (self);
#line 12752 "valagirwriter.vala.c"
}

static GType
vala_gir_writer_gir_namespace_get_type_once (void)
{
	GType vala_gir_writer_gir_namespace_type_id;
	vala_gir_writer_gir_namespace_type_id = g_boxed_type_register_static ("ValaGIRWriterGIRNamespace", (GBoxedCopyFunc) vala_gir_writer_gir_namespace_dup, (GBoxedFreeFunc) vala_gir_writer_gir_namespace_free);
	return vala_gir_writer_gir_namespace_type_id;
}

static GType
vala_gir_writer_gir_namespace_get_type (void)
{
	static volatile gsize vala_gir_writer_gir_namespace_type_id__once = 0;
	if (g_once_init_enter (&vala_gir_writer_gir_namespace_type_id__once)) {
		GType vala_gir_writer_gir_namespace_type_id;
		vala_gir_writer_gir_namespace_type_id = vala_gir_writer_gir_namespace_get_type_once ();
		g_once_init_leave (&vala_gir_writer_gir_namespace_type_id__once, vala_gir_writer_gir_namespace_type_id);
	}
	return vala_gir_writer_gir_namespace_type_id__once;
}

static void
vala_gir_writer_class_init (ValaGIRWriterClass * klass,
                            gpointer klass_data)
{
#line 28 "valagirwriter.vala"
	vala_gir_writer_parent_class = g_type_class_peek_parent (klass);
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->finalize = vala_gir_writer_finalize;
#line 28 "valagirwriter.vala"
	g_type_class_adjust_private_offset (klass, &ValaGIRWriter_private_offset);
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_interface_comment = (gchar* (*) (ValaGIRWriter*, ValaInterface*)) vala_gir_writer_real_get_interface_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_struct_comment = (gchar* (*) (ValaGIRWriter*, ValaStruct*)) vala_gir_writer_real_get_struct_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_enum_comment = (gchar* (*) (ValaGIRWriter*, ValaEnum*)) vala_gir_writer_real_get_enum_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_class_comment = (gchar* (*) (ValaGIRWriter*, ValaClass*)) vala_gir_writer_real_get_class_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_error_code_comment = (gchar* (*) (ValaGIRWriter*, ValaErrorCode*)) vala_gir_writer_real_get_error_code_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_enum_value_comment = (gchar* (*) (ValaGIRWriter*, ValaEnumValue*)) vala_gir_writer_real_get_enum_value_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_constant_comment = (gchar* (*) (ValaGIRWriter*, ValaConstant*)) vala_gir_writer_real_get_constant_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_error_domain_comment = (gchar* (*) (ValaGIRWriter*, ValaErrorDomain*)) vala_gir_writer_real_get_error_domain_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_field_comment = (gchar* (*) (ValaGIRWriter*, ValaField*)) vala_gir_writer_real_get_field_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_delegate_comment = (gchar* (*) (ValaGIRWriter*, ValaDelegate*)) vala_gir_writer_real_get_delegate_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_method_comment = (gchar* (*) (ValaGIRWriter*, ValaMethod*)) vala_gir_writer_real_get_method_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_property_comment = (gchar* (*) (ValaGIRWriter*, ValaProperty*)) vala_gir_writer_real_get_property_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_delegate_return_comment = (gchar* (*) (ValaGIRWriter*, ValaDelegate*)) vala_gir_writer_real_get_delegate_return_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_signal_return_comment = (gchar* (*) (ValaGIRWriter*, ValaSignal*)) vala_gir_writer_real_get_signal_return_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_method_return_comment = (gchar* (*) (ValaGIRWriter*, ValaMethod*)) vala_gir_writer_real_get_method_return_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_signal_comment = (gchar* (*) (ValaGIRWriter*, ValaSignal*)) vala_gir_writer_real_get_signal_comment;
#line 28 "valagirwriter.vala"
	((ValaGIRWriterClass *) klass)->get_parameter_comment = (gchar* (*) (ValaGIRWriter*, ValaParameter*)) vala_gir_writer_real_get_parameter_comment;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_source_file = (void (*) (ValaCodeVisitor*, ValaSourceFile*)) vala_gir_writer_real_visit_source_file;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_namespace = (void (*) (ValaCodeVisitor*, ValaNamespace*)) vala_gir_writer_real_visit_namespace;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_class = (void (*) (ValaCodeVisitor*, ValaClass*)) vala_gir_writer_real_visit_class;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_struct = (void (*) (ValaCodeVisitor*, ValaStruct*)) vala_gir_writer_real_visit_struct;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_interface = (void (*) (ValaCodeVisitor*, ValaInterface*)) vala_gir_writer_real_visit_interface;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_enum = (void (*) (ValaCodeVisitor*, ValaEnum*)) vala_gir_writer_real_visit_enum;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_enum_value = (void (*) (ValaCodeVisitor*, ValaEnumValue*)) vala_gir_writer_real_visit_enum_value;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_error_domain = (void (*) (ValaCodeVisitor*, ValaErrorDomain*)) vala_gir_writer_real_visit_error_domain;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_error_code = (void (*) (ValaCodeVisitor*, ValaErrorCode*)) vala_gir_writer_real_visit_error_code;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_constant = (void (*) (ValaCodeVisitor*, ValaConstant*)) vala_gir_writer_real_visit_constant;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_field = (void (*) (ValaCodeVisitor*, ValaField*)) vala_gir_writer_real_visit_field;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_delegate = (void (*) (ValaCodeVisitor*, ValaDelegate*)) vala_gir_writer_real_visit_delegate;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_method = (void (*) (ValaCodeVisitor*, ValaMethod*)) vala_gir_writer_real_visit_method;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_creation_method = (void (*) (ValaCodeVisitor*, ValaCreationMethod*)) vala_gir_writer_real_visit_creation_method;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_property = (void (*) (ValaCodeVisitor*, ValaProperty*)) vala_gir_writer_real_visit_property;
#line 28 "valagirwriter.vala"
	((ValaCodeVisitorClass *) klass)->visit_signal = (void (*) (ValaCodeVisitor*, ValaSignal*)) vala_gir_writer_real_visit_signal;
#line 12851 "valagirwriter.vala.c"
}

static void
vala_gir_writer_instance_init (ValaGIRWriter * self,
                               gpointer klass)
{
	GString* _tmp0_;
	GHashFunc _tmp1_;
	GEqualFunc _tmp2_;
	ValaHashSet* _tmp3_;
	GHashFunc _tmp4_;
	GEqualFunc _tmp5_;
	ValaHashSet* _tmp6_;
	GEqualFunc _tmp7_;
	ValaArrayList* _tmp8_;
	GEqualFunc _tmp9_;
	ValaArrayList* _tmp10_;
	ValaArrayList* _tmp11_;
#line 28 "valagirwriter.vala"
	self->priv = vala_gir_writer_get_instance_private (self);
#line 103 "valagirwriter.vala"
	_tmp0_ = g_string_new ("");
#line 103 "valagirwriter.vala"
	self->priv->buffer = _tmp0_;
#line 105 "valagirwriter.vala"
	_tmp1_ = g_direct_hash;
#line 105 "valagirwriter.vala"
	_tmp2_ = g_direct_equal;
#line 105 "valagirwriter.vala"
	_tmp3_ = vala_hash_set_new (VALA_TYPE_NAMESPACE, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, _tmp1_, _tmp2_);
#line 105 "valagirwriter.vala"
	self->priv->unannotated_namespaces = _tmp3_;
#line 106 "valagirwriter.vala"
	_tmp4_ = g_direct_hash;
#line 106 "valagirwriter.vala"
	_tmp5_ = g_direct_equal;
#line 106 "valagirwriter.vala"
	_tmp6_ = vala_hash_set_new (VALA_TYPE_NAMESPACE, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, _tmp4_, _tmp5_);
#line 106 "valagirwriter.vala"
	self->priv->our_namespaces = _tmp6_;
#line 107 "valagirwriter.vala"
	_tmp7_ = g_direct_equal;
#line 107 "valagirwriter.vala"
	_tmp8_ = vala_array_list_new (VALA_TYPE_SYMBOL, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, _tmp7_);
#line 107 "valagirwriter.vala"
	self->priv->hierarchy = _tmp8_;
#line 108 "valagirwriter.vala"
	_tmp9_ = g_direct_equal;
#line 108 "valagirwriter.vala"
	_tmp10_ = vala_array_list_new (VALA_TYPE_CODE_NODE, (GBoxedCopyFunc) vala_code_node_ref, (GDestroyNotify) vala_code_node_unref, _tmp9_);
#line 108 "valagirwriter.vala"
	self->priv->deferred = _tmp10_;
#line 139 "valagirwriter.vala"
	_tmp11_ = vala_array_list_new (VALA_GIR_WRITER_TYPE_GIR_NAMESPACE, (GBoxedCopyFunc) vala_gir_writer_gir_namespace_dup, (GDestroyNotify) vala_gir_writer_gir_namespace_free, (GEqualFunc) vala_gir_writer_gir_namespace_equal);
#line 139 "valagirwriter.vala"
	self->priv->externals = _tmp11_;
#line 12908 "valagirwriter.vala.c"
}

static void
vala_gir_writer_finalize (ValaCodeVisitor * obj)
{
	ValaGIRWriter * self;
#line 28 "valagirwriter.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VALA_TYPE_GIR_WRITER, ValaGIRWriter);
#line 29 "valagirwriter.vala"
	_vala_code_context_unref0 (self->priv->context);
#line 30 "valagirwriter.vala"
	_g_free0 (self->priv->directory);
#line 31 "valagirwriter.vala"
	_g_free0 (self->priv->gir_namespace);
#line 32 "valagirwriter.vala"
	_g_free0 (self->priv->gir_version);
#line 33 "valagirwriter.vala"
	_g_free0 (self->priv->gir_shared_library);
#line 103 "valagirwriter.vala"
	_g_string_free0 (self->priv->buffer);
#line 104 "valagirwriter.vala"
	_fclose0 (self->priv->stream);
#line 105 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->unannotated_namespaces);
#line 106 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->our_namespaces);
#line 107 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->hierarchy);
#line 108 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->deferred);
#line 112 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gobject_type);
#line 113 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->ginitiallyunowned_type);
#line 114 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtypeinterface_type);
#line 115 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtypeinstance_type);
#line 116 "valagirwriter.vala"
	_vala_code_node_unref0 (self->priv->gtype_type);
#line 139 "valagirwriter.vala"
	_vala_iterable_unref0 (self->priv->externals);
#line 28 "valagirwriter.vala"
	VALA_CODE_VISITOR_CLASS (vala_gir_writer_parent_class)->finalize (obj);
#line 12953 "valagirwriter.vala.c"
}

/**
 * Code visitor generating .gir file for the public interface.
 */
static GType
vala_gir_writer_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ValaGIRWriterClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_gir_writer_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaGIRWriter), 0, (GInstanceInitFunc) vala_gir_writer_instance_init, NULL };
	GType vala_gir_writer_type_id;
	vala_gir_writer_type_id = g_type_register_static (VALA_TYPE_CODE_VISITOR, "ValaGIRWriter", &g_define_type_info, 0);
	ValaGIRWriter_private_offset = g_type_add_instance_private (vala_gir_writer_type_id, sizeof (ValaGIRWriterPrivate));
	return vala_gir_writer_type_id;
}

GType
vala_gir_writer_get_type (void)
{
	static volatile gsize vala_gir_writer_type_id__once = 0;
	if (g_once_init_enter (&vala_gir_writer_type_id__once)) {
		GType vala_gir_writer_type_id;
		vala_gir_writer_type_id = vala_gir_writer_get_type_once ();
		g_once_init_leave (&vala_gir_writer_type_id__once, vala_gir_writer_type_id);
	}
	return vala_gir_writer_type_id__once;
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gssize i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gssize
_vala_array_length (gpointer array)
{
	gssize length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

static inline gpointer
_vala_memdup2 (gconstpointer mem,
               gsize byte_size)
{
	gpointer new_mem;
	if (mem && byte_size != 0) {
		new_mem = g_malloc (byte_size);
		memcpy (new_mem, mem, byte_size);
	} else {
		new_mem = NULL;
	}
	return new_mem;
}

