/* Resources.vala.c generated by valac, the Vala compiler
 * generated from Resources.vala, do not modify */

#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <glib/gstdio.h>
#include <gio/gio.h>
#include <gee.h>
#include <json-glib/json-glib.h>
#include <libsoup/soup.h>

#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define TYPE_RESOURCES_ITEM (resources_item_get_type ())
#define RESOURCES_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_RESOURCES_ITEM, ResourcesItem))
#define RESOURCES_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_RESOURCES_ITEM, ResourcesItemClass))
#define IS_RESOURCES_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_RESOURCES_ITEM))
#define IS_RESOURCES_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_RESOURCES_ITEM))
#define RESOURCES_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_RESOURCES_ITEM, ResourcesItemClass))

typedef struct _ResourcesItem ResourcesItem;
typedef struct _ResourcesItemClass ResourcesItemClass;
typedef struct _ResourcesItemPrivate ResourcesItemPrivate;
enum  {
	RESOURCES_ITEM_0_PROPERTY,
	RESOURCES_ITEM_NUM_PROPERTIES
};
static GParamSpec* resources_item_properties[RESOURCES_ITEM_NUM_PROPERTIES];
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_byte_array_unref0(var) ((var == NULL) ? NULL : (var = (g_byte_array_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define TYPE_RESOURCES (resources_get_type ())
#define RESOURCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_RESOURCES, Resources))
#define RESOURCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_RESOURCES, ResourcesClass))
#define IS_RESOURCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_RESOURCES))
#define IS_RESOURCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_RESOURCES))
#define RESOURCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_RESOURCES, ResourcesClass))

typedef struct _Resources Resources;
typedef struct _ResourcesClass ResourcesClass;
typedef struct _ResourcesPrivate ResourcesPrivate;
enum  {
	RESOURCES_0_PROPERTY,
	RESOURCES_NUM_PROPERTIES
};
static GParamSpec* resources_properties[RESOURCES_NUM_PROPERTIES];
#define __vala_JsonNode_free0(var) ((var == NULL) ? NULL : (var = (_vala_JsonNode_free (var), NULL)))
#define _json_object_unref0(var) ((var == NULL) ? NULL : (var = (json_object_unref (var), NULL)))
#define _json_array_unref0(var) ((var == NULL) ? NULL : (var = (json_array_unref (var), NULL)))
typedef struct _Block21Data Block21Data;
#define _g_bytes_unref0(var) ((var == NULL) ? NULL : (var = (g_bytes_unref (var), NULL)))

#define PROJECT_TYPE_PROJECT (project_project_get_type ())
#define PROJECT_PROJECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PROJECT_TYPE_PROJECT, ProjectProject))
#define PROJECT_PROJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PROJECT_TYPE_PROJECT, ProjectProjectClass))
#define PROJECT_IS_PROJECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PROJECT_TYPE_PROJECT))
#define PROJECT_IS_PROJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PROJECT_TYPE_PROJECT))
#define PROJECT_PROJECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PROJECT_TYPE_PROJECT, ProjectProjectClass))

typedef struct _ProjectProject ProjectProject;
typedef struct _ProjectProjectClass ProjectProjectClass;

#define PROJECT_TYPE_GTK (project_gtk_get_type ())
#define PROJECT_GTK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PROJECT_TYPE_GTK, ProjectGtk))
#define PROJECT_GTK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PROJECT_TYPE_GTK, ProjectGtkClass))
#define PROJECT_IS_GTK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PROJECT_TYPE_GTK))
#define PROJECT_IS_GTK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PROJECT_TYPE_GTK))
#define PROJECT_GTK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PROJECT_TYPE_GTK, ProjectGtkClass))

typedef struct _ProjectGtk ProjectGtk;
typedef struct _ProjectGtkClass ProjectGtkClass;

#define PALETE_TYPE_GIR_OBJECT (palete_gir_object_get_type ())
#define PALETE_GIR_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PALETE_TYPE_GIR_OBJECT, PaleteGirObject))
#define PALETE_GIR_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PALETE_TYPE_GIR_OBJECT, PaleteGirObjectClass))
#define PALETE_IS_GIR_OBJECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PALETE_TYPE_GIR_OBJECT))
#define PALETE_IS_GIR_OBJECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PALETE_TYPE_GIR_OBJECT))
#define PALETE_GIR_OBJECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PALETE_TYPE_GIR_OBJECT, PaleteGirObjectClass))

typedef struct _PaleteGirObject PaleteGirObject;
typedef struct _PaleteGirObjectClass PaleteGirObjectClass;

#define PALETE_TYPE_GIR (palete_gir_get_type ())
#define PALETE_GIR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PALETE_TYPE_GIR, PaleteGir))
#define PALETE_GIR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PALETE_TYPE_GIR, PaleteGirClass))
#define PALETE_IS_GIR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PALETE_TYPE_GIR))
#define PALETE_IS_GIR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PALETE_TYPE_GIR))
#define PALETE_GIR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PALETE_TYPE_GIR, PaleteGirClass))

typedef struct _PaleteGir PaleteGir;
typedef struct _PaleteGirClass PaleteGirClass;
typedef struct _ProjectProjectPrivate ProjectProjectPrivate;

#define PALETE_TYPE_PALETE (palete_palete_get_type ())
#define PALETE_PALETE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PALETE_TYPE_PALETE, PaletePalete))
#define PALETE_PALETE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PALETE_TYPE_PALETE, PaletePaleteClass))
#define PALETE_IS_PALETE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PALETE_TYPE_PALETE))
#define PALETE_IS_PALETE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PALETE_TYPE_PALETE))
#define PALETE_PALETE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PALETE_TYPE_PALETE, PaletePaleteClass))

typedef struct _PaletePalete PaletePalete;
typedef struct _PaletePaleteClass PaletePaleteClass;
typedef struct _ProjectGtkPrivate ProjectGtkPrivate;

#define PROJECT_TYPE_GTK_VALA_SETTINGS (project_gtk_vala_settings_get_type ())
#define PROJECT_GTK_VALA_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PROJECT_TYPE_GTK_VALA_SETTINGS, ProjectGtkValaSettings))
#define PROJECT_GTK_VALA_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PROJECT_TYPE_GTK_VALA_SETTINGS, ProjectGtkValaSettingsClass))
#define PROJECT_IS_GTK_VALA_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PROJECT_TYPE_GTK_VALA_SETTINGS))
#define PROJECT_IS_GTK_VALA_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PROJECT_TYPE_GTK_VALA_SETTINGS))
#define PROJECT_GTK_VALA_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PROJECT_TYPE_GTK_VALA_SETTINGS, ProjectGtkValaSettingsClass))

typedef struct _ProjectGtkValaSettings ProjectGtkValaSettings;
typedef struct _ProjectGtkValaSettingsClass ProjectGtkValaSettingsClass;

#define PROJECT_TYPE_ROO (project_roo_get_type ())
#define PROJECT_ROO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PROJECT_TYPE_ROO, ProjectRoo))
#define PROJECT_ROO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PROJECT_TYPE_ROO, ProjectRooClass))
#define PROJECT_IS_ROO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PROJECT_TYPE_ROO))
#define PROJECT_IS_ROO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PROJECT_TYPE_ROO))
#define PROJECT_ROO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PROJECT_TYPE_ROO, ProjectRooClass))

typedef struct _ProjectRoo ProjectRoo;
typedef struct _ProjectRooClass ProjectRooClass;

#define PALETE_TYPE_ROO (palete_roo_get_type ())
#define PALETE_ROO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PALETE_TYPE_ROO, PaleteRoo))
#define PALETE_ROO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PALETE_TYPE_ROO, PaleteRooClass))
#define PALETE_IS_ROO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PALETE_TYPE_ROO))
#define PALETE_IS_ROO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PALETE_TYPE_ROO))
#define PALETE_ROO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PALETE_TYPE_ROO, PaleteRooClass))

typedef struct _PaleteRoo PaleteRoo;
typedef struct _PaleteRooClass PaleteRooClass;
enum  {
	RESOURCES_UPDATE_PROGRESS_SIGNAL,
	RESOURCES_NUM_SIGNALS
};
static guint resources_signals[RESOURCES_NUM_SIGNALS] = {0};

struct _ResourcesItem {
	GObject parent_instance;
	ResourcesItemPrivate * priv;
	gchar* target;
	gchar* src;
	gchar* new_sha;
	gchar* cur_sha;
};

struct _ResourcesItemClass {
	GObjectClass parent_class;
};

struct _Resources {
	GObject parent_instance;
	ResourcesPrivate * priv;
};

struct _ResourcesClass {
	GObjectClass parent_class;
};

struct _ResourcesPrivate {
	GeeArrayList* fetch_files;
	gint fetch_pos;
};

struct _Block21Data {
	int _ref_count_;
	Resources* self;
	SoupSession* session;
	ResourcesItem* item;
};

struct _ProjectProject {
	GObject parent_instance;
	ProjectProjectPrivate * priv;
	gchar* path;
	gchar* xtype;
	PaletePalete* palete;
};

struct _ProjectProjectClass {
	GObjectClass parent_class;
	void (*loadJson) (ProjectProject* self, JsonObject* obj);
	void (*saveJson) (ProjectProject* self, JsonObject* obj);
	void (*initDatabase) (ProjectProject* self);
	void (*initialize) (ProjectProject* self);
};

struct _ProjectGtk {
	ProjectProject parent_instance;
	ProjectGtkPrivate * priv;
	GeeHashMap* gir_cache;
	gboolean gir_cache_loaded;
	GeeHashMap* dropList;
	GeeHashMap* child_list_cache;
	GeeHashMap* child_list_cache_props;
	gchar* compile_flags;
	GeeArrayList* packages;
	GeeArrayList* hidden;
	ProjectGtkValaSettings* active_cg;
	GeeHashMap* compilegroups;
};

struct _ProjectGtkClass {
	ProjectProjectClass parent_class;
};

static gpointer resources_item_parent_class = NULL;
static gint Resources_private_offset;
static gpointer resources_parent_class = NULL;
static Resources* resources_singleton_val;
static Resources* resources_singleton_val = NULL;
VALA_EXTERN GeeHashMap* palete_roo_classes_cache;

VALA_EXTERN GType resources_item_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ResourcesItem, g_object_unref)
VALA_EXTERN ResourcesItem* resources_item_new (const gchar* src,
                                   const gchar* target,
                                   const gchar* new_sha);
VALA_EXTERN ResourcesItem* resources_item_construct (GType object_type,
                                         const gchar* src,
                                         const gchar* target,
                                         const gchar* new_sha);
VALA_EXTERN void resources_item_update_cur_sha (ResourcesItem* self);
VALA_EXTERN gchar* builder_application_configDirectory (void);
static guint8* _vala_array_dup12 (guint8* self,
                           gssize length);
static void resources_item_finalize (GObject * obj);
static GType resources_item_get_type_once (void);
VALA_EXTERN GType resources_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Resources, g_object_unref)
VALA_EXTERN Resources* resources_singleton (void);
VALA_EXTERN Resources* resources_new (void);
VALA_EXTERN Resources* resources_construct (GType object_type);
VALA_EXTERN void resources_initFiles (Resources* self);
VALA_EXTERN void resources_fetchStart (Resources* self);
VALA_EXTERN void resources_fetchNext (Resources* self);
VALA_EXTERN void resources_fetchResourceFrom (Resources* self,
                                  ResourcesItem* item);
VALA_EXTERN void resources_checkResources (Resources* self);
VALA_EXTERN void resources_parseDirectory (Resources* self,
                               const gchar* json,
                               const gchar* target);
static JsonNode* _vala_JsonNode_copy (JsonNode* self);
static void _vala_JsonNode_free (JsonNode* self);
VALA_EXTERN gboolean resources_files_has_target (Resources* self,
                                     const gchar* target);
static Block21Data* block21_data_ref (Block21Data* _data21_);
static void block21_data_unref (void * _userdata_);
static void __lambda21_ (Block21Data* _data21_,
                  GObject* obj,
                  GAsyncResult* res);
VALA_EXTERN GType project_project_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ProjectProject, g_object_unref)
VALA_EXTERN GeeArrayList* project_project_allProjectsByName (void);
VALA_EXTERN GType project_gtk_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ProjectGtk, g_object_unref)
VALA_EXTERN GType palete_gir_object_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PaleteGirObject, g_object_unref)
VALA_EXTERN GType palete_gir_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PaleteGir, g_object_unref)
VALA_EXTERN GType palete_palete_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PaletePalete, g_object_unref)
VALA_EXTERN GType project_gtk_vala_settings_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ProjectGtkValaSettings, g_object_unref)
VALA_EXTERN GType project_roo_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ProjectRoo, g_object_unref)
VALA_EXTERN PaleteRoo* palete_roo_new (ProjectProject* project);
VALA_EXTERN PaleteRoo* palete_roo_construct (GType object_type,
                                 ProjectProject* project);
VALA_EXTERN GType palete_roo_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PaleteRoo, g_object_unref)
static void ___lambda21__gasync_ready_callback (GObject* source_object,
                                         GAsyncResult* res,
                                         gpointer self);
static void g_cclosure_user_marshal_VOID__UINT_UINT (GClosure * closure,
                                              GValue * return_value,
                                              guint n_param_values,
                                              const GValue * param_values,
                                              gpointer invocation_hint,
                                              gpointer marshal_data);
static void resources_finalize (GObject * obj);
static GType resources_get_type_once (void);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);
static gssize _vala_array_length (gpointer array);
static inline gpointer _vala_memdup2 (gconstpointer mem,
                        gsize byte_size);

ResourcesItem*
resources_item_construct (GType object_type,
                          const gchar* src,
                          const gchar* target,
                          const gchar* new_sha)
{
	ResourcesItem * self = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	const gchar* _tmp4_;
#line 22 "Resources.vala"
	self = (ResourcesItem*) g_object_new (object_type, NULL);
#line 24 "Resources.vala"
	_tmp0_ = g_strdup (target);
#line 24 "Resources.vala"
	_g_free0 (self->target);
#line 24 "Resources.vala"
	self->target = _tmp0_;
#line 25 "Resources.vala"
	_tmp1_ = g_strdup (src);
#line 25 "Resources.vala"
	_g_free0 (self->src);
#line 25 "Resources.vala"
	self->src = _tmp1_;
#line 26 "Resources.vala"
	_tmp2_ = g_strdup (new_sha);
#line 26 "Resources.vala"
	_g_free0 (self->new_sha);
#line 26 "Resources.vala"
	self->new_sha = _tmp2_;
#line 27 "Resources.vala"
	_tmp3_ = g_strdup ("");
#line 27 "Resources.vala"
	_g_free0 (self->cur_sha);
#line 27 "Resources.vala"
	self->cur_sha = _tmp3_;
#line 28 "Resources.vala"
	resources_item_update_cur_sha (self);
#line 29 "Resources.vala"
	_tmp4_ = self->cur_sha;
#line 29 "Resources.vala"
	g_print ("New ResourcesItem %s (%s) => (%s) %s\n", target, _tmp4_, new_sha, src);
#line 22 "Resources.vala"
	return self;
#line 354 "Resources.vala.c"
}

ResourcesItem*
resources_item_new (const gchar* src,
                    const gchar* target,
                    const gchar* new_sha)
{
#line 22 "Resources.vala"
	return resources_item_construct (TYPE_RESOURCES_ITEM, src, target, new_sha);
#line 364 "Resources.vala.c"
}

static gboolean
string_contains (const gchar* self,
                 const gchar* needle)
{
	gchar* _tmp0_;
	gboolean result;
#line 1539 "glib-2.0.vapi"
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
#line 1539 "glib-2.0.vapi"
	result = _tmp0_ != NULL;
#line 1539 "glib-2.0.vapi"
	return result;
#line 379 "Resources.vala.c"
}

static guint8*
string_get_data (const gchar* self,
                 gint* result_length1)
{
	guint8* result;
	guint8* res = NULL;
	gint res_length1;
	gint _res_size_;
	gint _tmp0_;
	gint _tmp1_;
	guint8* _tmp2_;
	gint _tmp2__length1;
#line 1564 "glib-2.0.vapi"
	res = (guint8*) self;
#line 1564 "glib-2.0.vapi"
	res_length1 = -1;
#line 1564 "glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1565 "glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1565 "glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1565 "glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1566 "glib-2.0.vapi"
	_tmp2_ = res;
#line 1566 "glib-2.0.vapi"
	_tmp2__length1 = res_length1;
#line 1566 "glib-2.0.vapi"
	if (result_length1) {
#line 1566 "glib-2.0.vapi"
		*result_length1 = _tmp2__length1;
#line 414 "Resources.vala.c"
	}
#line 1566 "glib-2.0.vapi"
	result = _tmp2_;
#line 1566 "glib-2.0.vapi"
	return result;
#line 420 "Resources.vala.c"
}

static guint8*
_vala_array_dup12 (guint8* self,
                   gssize length)
{
#line 51 "Resources.vala"
	if (length > 0) {
#line 51 "Resources.vala"
		return _vala_memdup2 (self, length * sizeof (guint8));
#line 431 "Resources.vala.c"
	}
#line 51 "Resources.vala"
	return NULL;
#line 435 "Resources.vala.c"
}

void
resources_item_update_cur_sha (ResourcesItem* self)
{
	const gchar* _tmp0_;
	gchar* tfn = NULL;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	const gchar* _tmp8_;
	guint8* data = NULL;
	gint data_length1 = 0;
	gint _data_size_ = 0;
	guint8* zero = NULL;
	guint8* _tmp9_;
	gint zero_length1;
	gint _zero_size_;
	GError* _inner_error0_ = NULL;
#line 33 "Resources.vala"
	_tmp0_ = self->target;
#line 33 "Resources.vala"
	if (string_contains (_tmp0_, "*")) {
#line 34 "Resources.vala"
		return;
#line 465 "Resources.vala.c"
	}
#line 36 "Resources.vala"
	_tmp1_ = builder_application_configDirectory ();
#line 36 "Resources.vala"
	_tmp2_ = _tmp1_;
#line 36 "Resources.vala"
	_tmp3_ = g_strconcat (_tmp2_, "/resources/", NULL);
#line 36 "Resources.vala"
	_tmp4_ = _tmp3_;
#line 36 "Resources.vala"
	_tmp5_ = self->target;
#line 36 "Resources.vala"
	_tmp6_ = g_strconcat (_tmp4_, _tmp5_, NULL);
#line 36 "Resources.vala"
	_tmp7_ = _tmp6_;
#line 36 "Resources.vala"
	_g_free0 (_tmp4_);
#line 36 "Resources.vala"
	_g_free0 (_tmp2_);
#line 36 "Resources.vala"
	tfn = _tmp7_;
#line 37 "Resources.vala"
	_tmp8_ = tfn;
#line 37 "Resources.vala"
	if (!g_file_test (_tmp8_, G_FILE_TEST_IS_REGULAR)) {
#line 38 "Resources.vala"
		_g_free0 (tfn);
#line 38 "Resources.vala"
		return;
#line 495 "Resources.vala.c"
	}
#line 41 "Resources.vala"
	_tmp9_ = g_new0 (guint8, 1);
#line 41 "Resources.vala"
	_tmp9_[0] = (guint8) 0;
#line 41 "Resources.vala"
	zero = _tmp9_;
#line 41 "Resources.vala"
	zero_length1 = 1;
#line 41 "Resources.vala"
	_zero_size_ = zero_length1;
#line 507 "Resources.vala.c"
	{
		const gchar* _tmp10_;
		guint8* _tmp11_ = NULL;
		gsize _tmp12_ = 0;
		GFile* file = NULL;
		const gchar* _tmp13_;
		GFile* _tmp14_;
		GFileInfo* info = NULL;
		GFile* _tmp15_;
		GFileInfo* _tmp16_;
		GByteArray* csdata = NULL;
		GFileInfo* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		guint8* _tmp22_;
		gint _tmp22__length1;
		gint _tmp23_ = 0;
		guint8* _tmp24_;
		gint _tmp24__length1;
		guint8* _tmp25_;
		gint _tmp25__length1;
		GByteArray* _tmp26_;
		GByteArray* _tmp27_;
		GByteArray* _tmp28_;
		guint8* _tmp29_;
		gint _tmp29__length1;
		GByteArray* _tmp30_;
		guint8* _tmp31_;
		gint _tmp31__length1;
		GByteArray* _tmp32_;
		guint8* _tmp33_;
		gint _tmp33__length1;
		gchar* _tmp34_;
#line 43 "Resources.vala"
		_tmp10_ = tfn;
#line 43 "Resources.vala"
		g_file_get_contents (_tmp10_, (gchar**) (&_tmp11_), &_tmp12_, &_inner_error0_);
#line 43 "Resources.vala"
		data = (g_free (data), NULL);
#line 43 "Resources.vala"
		data = _tmp11_;
#line 43 "Resources.vala"
		data_length1 = _tmp12_;
#line 43 "Resources.vala"
		_data_size_ = data_length1;
#line 43 "Resources.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 557 "Resources.vala.c"
			goto __catch0_g_error;
		}
#line 45 "Resources.vala"
		_tmp13_ = tfn;
#line 45 "Resources.vala"
		_tmp14_ = g_file_new_for_path (_tmp13_);
#line 45 "Resources.vala"
		file = _tmp14_;
#line 47 "Resources.vala"
		_tmp15_ = file;
#line 47 "Resources.vala"
		_tmp16_ = g_file_query_info (_tmp15_, "standard::*", G_FILE_QUERY_INFO_NONE, NULL, &_inner_error0_);
#line 47 "Resources.vala"
		info = _tmp16_;
#line 47 "Resources.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 47 "Resources.vala"
			_g_object_unref0 (file);
#line 576 "Resources.vala.c"
			goto __catch0_g_error;
		}
#line 51 "Resources.vala"
		_tmp17_ = info;
#line 51 "Resources.vala"
		_tmp18_ = g_strdup_printf ("%" G_GINT64_FORMAT, g_file_info_get_size (_tmp17_));
#line 51 "Resources.vala"
		_tmp19_ = _tmp18_;
#line 51 "Resources.vala"
		_tmp20_ = g_strdup_printf ("blob %s", _tmp19_);
#line 51 "Resources.vala"
		_tmp21_ = _tmp20_;
#line 51 "Resources.vala"
		_tmp22_ = string_get_data (_tmp21_, &_tmp23_);
#line 51 "Resources.vala"
		_tmp22__length1 = _tmp23_;
#line 51 "Resources.vala"
		_tmp24_ = _tmp22_;
#line 51 "Resources.vala"
		_tmp24__length1 = _tmp22__length1;
#line 51 "Resources.vala"
		_tmp25_ = (_tmp24_ != NULL) ? _vala_array_dup12 (_tmp24_, _tmp24__length1) : _tmp24_;
#line 51 "Resources.vala"
		_tmp25__length1 = _tmp24__length1;
#line 51 "Resources.vala"
		_tmp26_ = g_byte_array_new_take (_tmp25_, _tmp25__length1);
#line 51 "Resources.vala"
		_tmp27_ = _tmp26_;
#line 51 "Resources.vala"
		_g_free0 (_tmp21_);
#line 51 "Resources.vala"
		_g_free0 (_tmp19_);
#line 51 "Resources.vala"
		csdata = _tmp27_;
#line 52 "Resources.vala"
		_tmp28_ = csdata;
#line 52 "Resources.vala"
		_tmp29_ = zero;
#line 52 "Resources.vala"
		_tmp29__length1 = zero_length1;
#line 52 "Resources.vala"
		g_byte_array_append (_tmp28_, _tmp29_, (gint) _tmp29__length1);
#line 53 "Resources.vala"
		_tmp30_ = csdata;
#line 53 "Resources.vala"
		_tmp31_ = data;
#line 53 "Resources.vala"
		_tmp31__length1 = data_length1;
#line 53 "Resources.vala"
		g_byte_array_append (_tmp30_, _tmp31_, (gint) _tmp31__length1);
#line 56 "Resources.vala"
		_tmp32_ = csdata;
#line 56 "Resources.vala"
		_tmp33_ = _tmp32_->data;
#line 56 "Resources.vala"
		_tmp33__length1 = _tmp32_->len;
#line 56 "Resources.vala"
		_tmp34_ = g_compute_checksum_for_data (G_CHECKSUM_SHA1, _tmp33_, (gint) _tmp33__length1);
#line 56 "Resources.vala"
		_g_free0 (self->cur_sha);
#line 56 "Resources.vala"
		self->cur_sha = _tmp34_;
#line 42 "Resources.vala"
		_g_byte_array_unref0 (csdata);
#line 42 "Resources.vala"
		_g_object_unref0 (info);
#line 42 "Resources.vala"
		_g_object_unref0 (file);
#line 645 "Resources.vala.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp35_;
		const gchar* _tmp36_;
#line 42 "Resources.vala"
		e = _inner_error0_;
#line 42 "Resources.vala"
		_inner_error0_ = NULL;
#line 58 "Resources.vala"
		_tmp35_ = e;
#line 58 "Resources.vala"
		_tmp36_ = _tmp35_->message;
#line 58 "Resources.vala"
		g_debug ("Resources.vala:58: Failed to update SHA: %s", _tmp36_);
#line 42 "Resources.vala"
		_g_error_free0 (e);
#line 665 "Resources.vala.c"
	}
	__finally0:
#line 42 "Resources.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 42 "Resources.vala"
		zero = (g_free (zero), NULL);
#line 42 "Resources.vala"
		data = (g_free (data), NULL);
#line 42 "Resources.vala"
		_g_free0 (tfn);
#line 42 "Resources.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 42 "Resources.vala"
		g_clear_error (&_inner_error0_);
#line 42 "Resources.vala"
		return;
#line 682 "Resources.vala.c"
	}
#line 31 "Resources.vala"
	zero = (g_free (zero), NULL);
#line 31 "Resources.vala"
	data = (g_free (data), NULL);
#line 31 "Resources.vala"
	_g_free0 (tfn);
#line 690 "Resources.vala.c"
}

static void
resources_item_class_init (ResourcesItemClass * klass,
                           gpointer klass_data)
{
#line 17 "Resources.vala"
	resources_item_parent_class = g_type_class_peek_parent (klass);
#line 17 "Resources.vala"
	G_OBJECT_CLASS (klass)->finalize = resources_item_finalize;
#line 701 "Resources.vala.c"
}

static void
resources_item_instance_init (ResourcesItem * self,
                              gpointer klass)
{
}

static void
resources_item_finalize (GObject * obj)
{
	ResourcesItem * self;
#line 17 "Resources.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_RESOURCES_ITEM, ResourcesItem);
#line 18 "Resources.vala"
	_g_free0 (self->target);
#line 19 "Resources.vala"
	_g_free0 (self->src);
#line 20 "Resources.vala"
	_g_free0 (self->new_sha);
#line 21 "Resources.vala"
	_g_free0 (self->cur_sha);
#line 17 "Resources.vala"
	G_OBJECT_CLASS (resources_item_parent_class)->finalize (obj);
#line 726 "Resources.vala.c"
}

/**
 * Resources
 * 
 * Idea is to manage resourse used by the app.
 * 
 * The original code downloaded all the resources before it renders the main window
 * 
 * This is a bit annoying as although they do change quite a bit, it's not on every app start
 * 
 * So the Resource fetching behaviour should be a button on the File view page
 * That starts the refresh of the resources.
 * 
 * I'm not quite sure how we should flow this - if we do them all at once.. might be a bit of a server 
 * overload... so sequentially may be best...
*/
static GType
resources_item_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ResourcesItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) resources_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ResourcesItem), 0, (GInstanceInitFunc) resources_item_instance_init, NULL };
	GType resources_item_type_id;
	resources_item_type_id = g_type_register_static (G_TYPE_OBJECT, "ResourcesItem", &g_define_type_info, 0);
	return resources_item_type_id;
}

GType
resources_item_get_type (void)
{
	static volatile gsize resources_item_type_id__once = 0;
	if (g_once_init_enter (&resources_item_type_id__once)) {
		GType resources_item_type_id;
		resources_item_type_id = resources_item_get_type_once ();
		g_once_init_leave (&resources_item_type_id__once, resources_item_type_id);
	}
	return resources_item_type_id__once;
}

static inline gpointer
resources_get_instance_private (Resources* self)
{
	return G_STRUCT_MEMBER_P (self, Resources_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 81 "Resources.vala"
	return self ? g_object_ref (self) : NULL;
#line 776 "Resources.vala.c"
}

Resources*
resources_singleton (void)
{
	Resources* _tmp0_;
	Resources* _tmp3_;
	Resources* _tmp4_;
	Resources* result;
#line 77 "Resources.vala"
	_tmp0_ = resources_singleton_val;
#line 77 "Resources.vala"
	if (_tmp0_ == NULL) {
#line 790 "Resources.vala.c"
		Resources* _tmp1_;
		Resources* _tmp2_;
#line 78 "Resources.vala"
		_tmp1_ = resources_new ();
#line 78 "Resources.vala"
		_g_object_unref0 (resources_singleton_val);
#line 78 "Resources.vala"
		resources_singleton_val = _tmp1_;
#line 79 "Resources.vala"
		_tmp2_ = resources_singleton_val;
#line 79 "Resources.vala"
		g_object_ref ((GObject*) _tmp2_);
#line 803 "Resources.vala.c"
	}
#line 81 "Resources.vala"
	_tmp3_ = resources_singleton_val;
#line 81 "Resources.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 81 "Resources.vala"
	result = _tmp4_;
#line 81 "Resources.vala"
	return result;
#line 813 "Resources.vala.c"
}

Resources*
resources_construct (GType object_type)
{
	Resources * self = NULL;
#line 84 "Resources.vala"
	self = (Resources*) g_object_new (object_type, NULL);
#line 86 "Resources.vala"
	resources_initFiles (self);
#line 84 "Resources.vala"
	return self;
#line 826 "Resources.vala.c"
}

Resources*
resources_new (void)
{
#line 84 "Resources.vala"
	return resources_construct (TYPE_RESOURCES);
#line 834 "Resources.vala.c"
}

void
resources_initFiles (Resources* self)
{
	gchar** avail_files = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar** _tmp5_;
	gint avail_files_length1;
	gint _avail_files_size_;
	GeeArrayList* _tmp6_;
#line 92 "Resources.vala"
	_tmp0_ = g_strdup ("roodata.json");
#line 92 "Resources.vala"
	_tmp1_ = g_strdup ("flutter_tree.json");
#line 92 "Resources.vala"
	_tmp2_ = g_strdup ("*");
#line 92 "Resources.vala"
	_tmp3_ = g_strdup ("Editors/*.js");
#line 92 "Resources.vala"
	_tmp4_ = g_strdup ("vapi/*");
#line 92 "Resources.vala"
	_tmp5_ = g_new0 (gchar*, 5 + 1);
#line 92 "Resources.vala"
	_tmp5_[0] = _tmp0_;
#line 92 "Resources.vala"
	_tmp5_[1] = _tmp1_;
#line 92 "Resources.vala"
	_tmp5_[2] = _tmp2_;
#line 92 "Resources.vala"
	_tmp5_[3] = _tmp3_;
#line 92 "Resources.vala"
	_tmp5_[4] = _tmp4_;
#line 92 "Resources.vala"
	avail_files = _tmp5_;
#line 92 "Resources.vala"
	avail_files_length1 = 5;
#line 92 "Resources.vala"
	_avail_files_size_ = avail_files_length1;
#line 100 "Resources.vala"
	_tmp6_ = gee_array_list_new (TYPE_RESOURCES_ITEM, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 100 "Resources.vala"
	_g_object_unref0 (self->priv->fetch_files);
#line 100 "Resources.vala"
	self->priv->fetch_files = _tmp6_;
#line 884 "Resources.vala.c"
	{
		gint i = 0;
#line 101 "Resources.vala"
		i = 0;
#line 889 "Resources.vala.c"
		{
			gboolean _tmp7_ = FALSE;
#line 101 "Resources.vala"
			_tmp7_ = TRUE;
#line 101 "Resources.vala"
			while (TRUE) {
#line 896 "Resources.vala.c"
				gchar** _tmp9_;
				gint _tmp9__length1;
				gchar* target = NULL;
				gchar** _tmp10_;
				gint _tmp10__length1;
				const gchar* _tmp11_;
				gchar* _tmp12_;
				gchar* src = NULL;
				const gchar* _tmp13_;
				gchar* _tmp14_;
				const gchar* _tmp15_;
				const gchar* _tmp17_;
				const gchar* _tmp19_;
				GeeArrayList* _tmp29_;
				const gchar* _tmp30_;
				const gchar* _tmp31_;
				ResourcesItem* _tmp32_;
				ResourcesItem* _tmp33_;
#line 101 "Resources.vala"
				if (!_tmp7_) {
#line 917 "Resources.vala.c"
					gint _tmp8_;
#line 101 "Resources.vala"
					_tmp8_ = i;
#line 101 "Resources.vala"
					i = _tmp8_ + 1;
#line 923 "Resources.vala.c"
				}
#line 101 "Resources.vala"
				_tmp7_ = FALSE;
#line 101 "Resources.vala"
				_tmp9_ = avail_files;
#line 101 "Resources.vala"
				_tmp9__length1 = avail_files_length1;
#line 101 "Resources.vala"
				if (!(i < _tmp9__length1)) {
#line 101 "Resources.vala"
					break;
#line 935 "Resources.vala.c"
				}
#line 102 "Resources.vala"
				_tmp10_ = avail_files;
#line 102 "Resources.vala"
				_tmp10__length1 = avail_files_length1;
#line 102 "Resources.vala"
				_tmp11_ = _tmp10_[i];
#line 102 "Resources.vala"
				_tmp12_ = g_strdup (_tmp11_);
#line 102 "Resources.vala"
				target = _tmp12_;
#line 103 "Resources.vala"
				_tmp13_ = target;
#line 103 "Resources.vala"
				_tmp14_ = g_strconcat ("https://raw.githubusercontent.com/roojs/roobuilder/master/resources/", _tmp13_, NULL);
#line 103 "Resources.vala"
				src = _tmp14_;
#line 105 "Resources.vala"
				_tmp15_ = target;
#line 105 "Resources.vala"
				if (g_strcmp0 (_tmp15_, "roodata.json") == 0) {
#line 957 "Resources.vala.c"
					gchar* _tmp16_;
#line 106 "Resources.vala"
					_tmp16_ = g_strdup ("https://raw.githubusercontent.com/roojs/roojs1/master/docs/json/roodat" \
"a.json");
#line 106 "Resources.vala"
					_g_free0 (src);
#line 106 "Resources.vala"
					src = _tmp16_;
#line 965 "Resources.vala.c"
				}
#line 108 "Resources.vala"
				_tmp17_ = target;
#line 108 "Resources.vala"
				if (g_strcmp0 (_tmp17_, "flutter_tree.json") == 0) {
#line 971 "Resources.vala.c"
					gchar* _tmp18_;
#line 109 "Resources.vala"
					_tmp18_ = g_strdup ("https://raw.githubusercontent.com/roojs/flutter-docs-json/master/tree." \
"json");
#line 109 "Resources.vala"
					_g_free0 (src);
#line 109 "Resources.vala"
					src = _tmp18_;
#line 979 "Resources.vala.c"
				}
#line 112 "Resources.vala"
				_tmp19_ = target;
#line 112 "Resources.vala"
				if (string_contains (_tmp19_, "*")) {
#line 985 "Resources.vala.c"
					gchar** split = NULL;
					const gchar* _tmp20_;
					gchar** _tmp21_;
					gchar** _tmp22_;
					gint split_length1;
					gint _split_size_;
					gchar** _tmp23_;
					gint _tmp23__length1;
					const gchar* _tmp24_;
					gchar* _tmp25_;
					gchar** _tmp26_;
					gint _tmp26__length1;
					const gchar* _tmp27_;
#line 113 "Resources.vala"
					_tmp20_ = target;
#line 113 "Resources.vala"
					_tmp22_ = _tmp21_ = g_strsplit (_tmp20_, "*", 0);
#line 113 "Resources.vala"
					split = _tmp22_;
#line 113 "Resources.vala"
					split_length1 = _vala_array_length (_tmp21_);
#line 113 "Resources.vala"
					_split_size_ = split_length1;
#line 115 "Resources.vala"
					_tmp23_ = split;
#line 115 "Resources.vala"
					_tmp23__length1 = split_length1;
#line 115 "Resources.vala"
					_tmp24_ = _tmp23_[0];
#line 115 "Resources.vala"
					_tmp25_ = g_strconcat ("https://api.github.com/repos/roojs/roobuilder/contents/resources/", _tmp24_, NULL);
#line 115 "Resources.vala"
					_g_free0 (src);
#line 115 "Resources.vala"
					src = _tmp25_;
#line 116 "Resources.vala"
					_tmp26_ = split;
#line 116 "Resources.vala"
					_tmp26__length1 = split_length1;
#line 116 "Resources.vala"
					_tmp27_ = _tmp26_[0];
#line 116 "Resources.vala"
					if (g_strcmp0 (_tmp27_, "vapi/") == 0) {
#line 1029 "Resources.vala.c"
						gchar* _tmp28_;
#line 117 "Resources.vala"
						_tmp28_ = g_strdup ("https://api.github.com/repos/roojs/roobuilder/contents/src/vapi");
#line 117 "Resources.vala"
						_g_free0 (src);
#line 117 "Resources.vala"
						src = _tmp28_;
#line 1037 "Resources.vala.c"
					}
#line 112 "Resources.vala"
					split = (_vala_array_free (split, split_length1, (GDestroyNotify) g_free), NULL);
#line 1041 "Resources.vala.c"
				}
#line 123 "Resources.vala"
				_tmp29_ = self->priv->fetch_files;
#line 123 "Resources.vala"
				_tmp30_ = src;
#line 123 "Resources.vala"
				_tmp31_ = target;
#line 123 "Resources.vala"
				_tmp32_ = resources_item_new (_tmp30_, _tmp31_, "");
#line 123 "Resources.vala"
				_tmp33_ = _tmp32_;
#line 123 "Resources.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp29_, _tmp33_);
#line 123 "Resources.vala"
				_g_object_unref0 (_tmp33_);
#line 101 "Resources.vala"
				_g_free0 (src);
#line 101 "Resources.vala"
				_g_free0 (target);
#line 1061 "Resources.vala.c"
			}
		}
	}
#line 90 "Resources.vala"
	avail_files = (_vala_array_free (avail_files, avail_files_length1, (GDestroyNotify) g_free), NULL);
#line 1067 "Resources.vala.c"
}

void
resources_fetchStart (Resources* self)
{
#line 132 "Resources.vala"
	resources_initFiles (self);
#line 133 "Resources.vala"
	if (self->priv->fetch_pos > 0) {
#line 134 "Resources.vala"
		return;
#line 1079 "Resources.vala.c"
	}
#line 136 "Resources.vala"
	self->priv->fetch_pos = 0;
#line 137 "Resources.vala"
	resources_fetchNext (self);
#line 1085 "Resources.vala.c"
}

void
resources_fetchNext (Resources* self)
{
	gint cur = 0;
	gint _tmp0_;
	GeeArrayList* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	GeeArrayList* _tmp4_;
	gint _tmp5_;
	gint _tmp6_;
	GeeArrayList* _tmp7_;
	gpointer _tmp8_;
	ResourcesItem* _tmp9_;
#line 142 "Resources.vala"
	cur = self->priv->fetch_pos;
#line 143 "Resources.vala"
	_tmp0_ = self->priv->fetch_pos;
#line 143 "Resources.vala"
	self->priv->fetch_pos = _tmp0_ + 1;
#line 144 "Resources.vala"
	_tmp1_ = self->priv->fetch_files;
#line 144 "Resources.vala"
	_tmp2_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp1_);
#line 144 "Resources.vala"
	_tmp3_ = _tmp2_;
#line 144 "Resources.vala"
	g_signal_emit (self, resources_signals[RESOURCES_UPDATE_PROGRESS_SIGNAL], 0, (guint) self->priv->fetch_pos, (guint) _tmp3_);
#line 147 "Resources.vala"
	_tmp4_ = self->priv->fetch_files;
#line 147 "Resources.vala"
	_tmp5_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp4_);
#line 147 "Resources.vala"
	_tmp6_ = _tmp5_;
#line 147 "Resources.vala"
	if (self->priv->fetch_pos > _tmp6_) {
#line 148 "Resources.vala"
		g_signal_emit (self, resources_signals[RESOURCES_UPDATE_PROGRESS_SIGNAL], 0, (guint) 0, (guint) 0);
#line 149 "Resources.vala"
		self->priv->fetch_pos = 0;
#line 150 "Resources.vala"
		return;
#line 1130 "Resources.vala.c"
	}
#line 154 "Resources.vala"
	_tmp7_ = self->priv->fetch_files;
#line 154 "Resources.vala"
	_tmp8_ = gee_abstract_list_get ((GeeAbstractList*) _tmp7_, cur);
#line 154 "Resources.vala"
	_tmp9_ = (ResourcesItem*) _tmp8_;
#line 154 "Resources.vala"
	resources_fetchResourceFrom (self, _tmp9_);
#line 154 "Resources.vala"
	_g_object_unref0 (_tmp9_);
#line 1142 "Resources.vala.c"
}

/**
  *  called on start to check we have all the required files..
  */
void
resources_checkResources (Resources* self)
{
	gboolean needsload = FALSE;
	gchar** required = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar** _tmp7_;
	gint required_length1;
	gint _required_size_;
#line 163 "Resources.vala"
	needsload = FALSE;
#line 166 "Resources.vala"
	_tmp0_ = g_strdup ("bootstrap.builder.html");
#line 166 "Resources.vala"
	_tmp1_ = g_strdup ("bootstrap4.builder.html");
#line 166 "Resources.vala"
	_tmp2_ = g_strdup ("mailer.builder.html");
#line 166 "Resources.vala"
	_tmp3_ = g_strdup ("roo.builder.html");
#line 166 "Resources.vala"
	_tmp4_ = g_strdup ("roo.builder.js");
#line 166 "Resources.vala"
	_tmp5_ = g_strdup ("roodata.json");
#line 166 "Resources.vala"
	_tmp6_ = g_strdup ("Gir.overides");
#line 166 "Resources.vala"
	_tmp7_ = g_new0 (gchar*, 7 + 1);
#line 166 "Resources.vala"
	_tmp7_[0] = _tmp0_;
#line 166 "Resources.vala"
	_tmp7_[1] = _tmp1_;
#line 166 "Resources.vala"
	_tmp7_[2] = _tmp2_;
#line 166 "Resources.vala"
	_tmp7_[3] = _tmp3_;
#line 166 "Resources.vala"
	_tmp7_[4] = _tmp4_;
#line 166 "Resources.vala"
	_tmp7_[5] = _tmp5_;
#line 166 "Resources.vala"
	_tmp7_[6] = _tmp6_;
#line 166 "Resources.vala"
	required = _tmp7_;
#line 166 "Resources.vala"
	required_length1 = 7;
#line 166 "Resources.vala"
	_required_size_ = required_length1;
#line 1201 "Resources.vala.c"
	{
		gint i = 0;
#line 182 "Resources.vala"
		i = 0;
#line 1206 "Resources.vala.c"
		{
			gboolean _tmp8_ = FALSE;
#line 182 "Resources.vala"
			_tmp8_ = TRUE;
#line 182 "Resources.vala"
			while (TRUE) {
#line 1213 "Resources.vala.c"
				gchar** _tmp10_;
				gint _tmp10__length1;
				gchar* _tmp11_;
				gchar* _tmp12_;
				gchar* _tmp13_;
				gchar* _tmp14_;
				gchar** _tmp15_;
				gint _tmp15__length1;
				const gchar* _tmp16_;
				gchar* _tmp17_;
				gchar* _tmp18_;
				gboolean _tmp19_;
#line 182 "Resources.vala"
				if (!_tmp8_) {
#line 1228 "Resources.vala.c"
					gint _tmp9_;
#line 182 "Resources.vala"
					_tmp9_ = i;
#line 182 "Resources.vala"
					i = _tmp9_ + 1;
#line 1234 "Resources.vala.c"
				}
#line 182 "Resources.vala"
				_tmp8_ = FALSE;
#line 182 "Resources.vala"
				_tmp10_ = required;
#line 182 "Resources.vala"
				_tmp10__length1 = required_length1;
#line 182 "Resources.vala"
				if (!(i < _tmp10__length1)) {
#line 182 "Resources.vala"
					break;
#line 1246 "Resources.vala.c"
				}
#line 184 "Resources.vala"
				_tmp11_ = builder_application_configDirectory ();
#line 184 "Resources.vala"
				_tmp12_ = _tmp11_;
#line 184 "Resources.vala"
				_tmp13_ = g_strconcat (_tmp12_, "/resources/", NULL);
#line 184 "Resources.vala"
				_tmp14_ = _tmp13_;
#line 184 "Resources.vala"
				_tmp15_ = required;
#line 184 "Resources.vala"
				_tmp15__length1 = required_length1;
#line 184 "Resources.vala"
				_tmp16_ = _tmp15_[i];
#line 184 "Resources.vala"
				_tmp17_ = g_strconcat (_tmp14_, _tmp16_, NULL);
#line 184 "Resources.vala"
				_tmp18_ = _tmp17_;
#line 184 "Resources.vala"
				_tmp19_ = !g_file_test (_tmp18_, G_FILE_TEST_EXISTS);
#line 184 "Resources.vala"
				_g_free0 (_tmp18_);
#line 184 "Resources.vala"
				_g_free0 (_tmp14_);
#line 184 "Resources.vala"
				_g_free0 (_tmp12_);
#line 184 "Resources.vala"
				if (_tmp19_) {
#line 188 "Resources.vala"
					needsload = TRUE;
#line 1278 "Resources.vala.c"
				}
			}
		}
	}
#line 191 "Resources.vala"
	if (!needsload) {
#line 192 "Resources.vala"
		required = (_vala_array_free (required, required_length1, (GDestroyNotify) g_free), NULL);
#line 192 "Resources.vala"
		return;
#line 1289 "Resources.vala.c"
	}
#line 194 "Resources.vala"
	resources_fetchStart (self);
#line 161 "Resources.vala"
	required = (_vala_array_free (required, required_length1, (GDestroyNotify) g_free), NULL);
#line 1295 "Resources.vala.c"
}

static JsonNode*
_vala_JsonNode_copy (JsonNode* self)
{
#line 207 "Resources.vala"
	return g_boxed_copy (json_node_get_type (), self);
#line 1303 "Resources.vala.c"
}

static gpointer
__vala_JsonNode_copy0 (gpointer self)
{
#line 207 "Resources.vala"
	return self ? _vala_JsonNode_copy (self) : NULL;
#line 1311 "Resources.vala.c"
}

static void
_vala_JsonNode_free (JsonNode* self)
{
#line 209 "Resources.vala"
	g_boxed_free (json_node_get_type (), self);
#line 1319 "Resources.vala.c"
}

static gpointer
_json_array_ref0 (gpointer self)
{
#line 214 "Resources.vala"
	return self ? json_array_ref (self) : NULL;
#line 1327 "Resources.vala.c"
}

static gpointer
_json_object_ref0 (gpointer self)
{
#line 216 "Resources.vala"
	return self ? json_object_ref (self) : NULL;
#line 1335 "Resources.vala.c"
}

void
resources_parseDirectory (Resources* self,
                          const gchar* json,
                          const gchar* target)
{
	JsonParser* pa = NULL;
	JsonParser* _tmp0_;
	JsonNode* node = NULL;
	JsonParser* _tmp4_;
	JsonNode* _tmp5_;
	JsonNode* _tmp6_;
	JsonNode* _tmp7_;
	gchar** split = NULL;
	gchar** _tmp8_;
	gchar** _tmp9_;
	gint split_length1;
	gint _split_size_;
	JsonArray* ar = NULL;
	JsonNode* _tmp10_;
	JsonArray* _tmp11_;
	JsonArray* _tmp12_;
	GError* _inner_error0_ = NULL;
#line 199 "Resources.vala"
	g_debug ("Resources.vala:199: %s\n", json);
#line 200 "Resources.vala"
	_tmp0_ = json_parser_new ();
#line 200 "Resources.vala"
	pa = _tmp0_;
#line 1366 "Resources.vala.c"
	{
		JsonParser* _tmp1_;
#line 202 "Resources.vala"
		_tmp1_ = pa;
#line 202 "Resources.vala"
		json_parser_load_from_data (_tmp1_, json, (gssize) -1, &_inner_error0_);
#line 202 "Resources.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1375 "Resources.vala.c"
			goto __catch0_g_error;
		}
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp2_;
		const gchar* _tmp3_;
#line 201 "Resources.vala"
		e = _inner_error0_;
#line 201 "Resources.vala"
		_inner_error0_ = NULL;
#line 204 "Resources.vala"
		_tmp2_ = e;
#line 204 "Resources.vala"
		_tmp3_ = _tmp2_->message;
#line 204 "Resources.vala"
		g_debug ("Resources.vala:204: Faile dto load json file %s", _tmp3_);
#line 205 "Resources.vala"
		_g_error_free0 (e);
#line 205 "Resources.vala"
		_g_object_unref0 (pa);
#line 205 "Resources.vala"
		return;
#line 1401 "Resources.vala.c"
	}
	__finally0:
#line 201 "Resources.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 201 "Resources.vala"
		_g_object_unref0 (pa);
#line 201 "Resources.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 201 "Resources.vala"
		g_clear_error (&_inner_error0_);
#line 201 "Resources.vala"
		return;
#line 1414 "Resources.vala.c"
	}
#line 207 "Resources.vala"
	_tmp4_ = pa;
#line 207 "Resources.vala"
	_tmp5_ = json_parser_get_root (_tmp4_);
#line 207 "Resources.vala"
	_tmp6_ = __vala_JsonNode_copy0 (_tmp5_);
#line 207 "Resources.vala"
	node = _tmp6_;
#line 208 "Resources.vala"
	_tmp7_ = node;
#line 208 "Resources.vala"
	if (json_node_get_node_type (_tmp7_) != JSON_NODE_ARRAY) {
#line 209 "Resources.vala"
		__vala_JsonNode_free0 (node);
#line 209 "Resources.vala"
		_g_object_unref0 (pa);
#line 209 "Resources.vala"
		return;
#line 1434 "Resources.vala.c"
	}
#line 213 "Resources.vala"
	_tmp9_ = _tmp8_ = g_strsplit (target, "*", 0);
#line 213 "Resources.vala"
	split = _tmp9_;
#line 213 "Resources.vala"
	split_length1 = _vala_array_length (_tmp8_);
#line 213 "Resources.vala"
	_split_size_ = split_length1;
#line 214 "Resources.vala"
	_tmp10_ = node;
#line 214 "Resources.vala"
	_tmp11_ = json_node_get_array (_tmp10_);
#line 214 "Resources.vala"
	_tmp12_ = _json_array_ref0 (_tmp11_);
#line 214 "Resources.vala"
	ar = _tmp12_;
#line 1452 "Resources.vala.c"
	{
		gint i = 0;
#line 215 "Resources.vala"
		i = 0;
#line 1457 "Resources.vala.c"
		{
			gboolean _tmp13_ = FALSE;
#line 215 "Resources.vala"
			_tmp13_ = TRUE;
#line 215 "Resources.vala"
			while (TRUE) {
#line 1464 "Resources.vala.c"
				JsonArray* _tmp15_;
				JsonObject* ob = NULL;
				JsonArray* _tmp16_;
				JsonObject* _tmp17_;
				JsonObject* _tmp18_;
				gchar* n = NULL;
				JsonObject* _tmp19_;
				const gchar* _tmp20_;
				gchar* _tmp21_;
				JsonObject* _tmp22_;
				const gchar* _tmp23_;
				gboolean _tmp24_ = FALSE;
				gchar** _tmp25_;
				gint _tmp25__length1;
				gchar** _tmp29_;
				gint _tmp29__length1;
				const gchar* _tmp30_;
				const gchar* _tmp31_;
				gchar* _tmp32_;
				gchar* _tmp33_;
				gboolean _tmp34_;
				gchar* src = NULL;
				JsonObject* _tmp35_;
				const gchar* _tmp36_;
				gchar* _tmp37_;
				ResourcesItem* add = NULL;
				const gchar* _tmp38_;
				gchar** _tmp39_;
				gint _tmp39__length1;
				const gchar* _tmp40_;
				const gchar* _tmp41_;
				gchar* _tmp42_;
				gchar* _tmp43_;
				JsonObject* _tmp44_;
				const gchar* _tmp45_;
				ResourcesItem* _tmp46_;
				ResourcesItem* _tmp47_;
				GeeArrayList* _tmp48_;
				ResourcesItem* _tmp49_;
#line 215 "Resources.vala"
				if (!_tmp13_) {
#line 1506 "Resources.vala.c"
					gint _tmp14_;
#line 215 "Resources.vala"
					_tmp14_ = i;
#line 215 "Resources.vala"
					i = _tmp14_ + 1;
#line 1512 "Resources.vala.c"
				}
#line 215 "Resources.vala"
				_tmp13_ = FALSE;
#line 215 "Resources.vala"
				_tmp15_ = ar;
#line 215 "Resources.vala"
				if (!(((guint) i) < json_array_get_length (_tmp15_))) {
#line 215 "Resources.vala"
					break;
#line 1522 "Resources.vala.c"
				}
#line 216 "Resources.vala"
				_tmp16_ = ar;
#line 216 "Resources.vala"
				_tmp17_ = json_array_get_object_element (_tmp16_, (guint) i);
#line 216 "Resources.vala"
				_tmp18_ = _json_object_ref0 (_tmp17_);
#line 216 "Resources.vala"
				ob = _tmp18_;
#line 217 "Resources.vala"
				_tmp19_ = ob;
#line 217 "Resources.vala"
				_tmp20_ = json_object_get_string_member (_tmp19_, "name");
#line 217 "Resources.vala"
				_tmp21_ = g_strdup (_tmp20_);
#line 217 "Resources.vala"
				n = _tmp21_;
#line 218 "Resources.vala"
				_tmp22_ = ob;
#line 218 "Resources.vala"
				_tmp23_ = json_object_get_string_member (_tmp22_, "type");
#line 218 "Resources.vala"
				if (g_strcmp0 (_tmp23_, "dir") == 0) {
#line 219 "Resources.vala"
					_g_free0 (n);
#line 219 "Resources.vala"
					_json_object_unref0 (ob);
#line 219 "Resources.vala"
					continue;
#line 1552 "Resources.vala.c"
				}
#line 221 "Resources.vala"
				_tmp25_ = split;
#line 221 "Resources.vala"
				_tmp25__length1 = split_length1;
#line 221 "Resources.vala"
				if (_tmp25__length1 > 1) {
#line 1560 "Resources.vala.c"
					const gchar* _tmp26_;
					gchar** _tmp27_;
					gint _tmp27__length1;
					const gchar* _tmp28_;
#line 221 "Resources.vala"
					_tmp26_ = n;
#line 221 "Resources.vala"
					_tmp27_ = split;
#line 221 "Resources.vala"
					_tmp27__length1 = split_length1;
#line 221 "Resources.vala"
					_tmp28_ = _tmp27_[1];
#line 221 "Resources.vala"
					_tmp24_ = !g_str_has_suffix (_tmp26_, _tmp28_);
#line 1575 "Resources.vala.c"
				} else {
#line 221 "Resources.vala"
					_tmp24_ = FALSE;
#line 1579 "Resources.vala.c"
				}
#line 221 "Resources.vala"
				if (_tmp24_) {
#line 223 "Resources.vala"
					_g_free0 (n);
#line 223 "Resources.vala"
					_json_object_unref0 (ob);
#line 223 "Resources.vala"
					continue;
#line 1589 "Resources.vala.c"
				}
#line 225 "Resources.vala"
				_tmp29_ = split;
#line 225 "Resources.vala"
				_tmp29__length1 = split_length1;
#line 225 "Resources.vala"
				_tmp30_ = _tmp29_[0];
#line 225 "Resources.vala"
				_tmp31_ = n;
#line 225 "Resources.vala"
				_tmp32_ = g_strconcat (_tmp30_, _tmp31_, NULL);
#line 225 "Resources.vala"
				_tmp33_ = _tmp32_;
#line 225 "Resources.vala"
				_tmp34_ = resources_files_has_target (self, _tmp33_);
#line 225 "Resources.vala"
				_g_free0 (_tmp33_);
#line 225 "Resources.vala"
				if (_tmp34_) {
#line 226 "Resources.vala"
					_g_free0 (n);
#line 226 "Resources.vala"
					_json_object_unref0 (ob);
#line 226 "Resources.vala"
					continue;
#line 1615 "Resources.vala.c"
				}
#line 231 "Resources.vala"
				_tmp35_ = ob;
#line 231 "Resources.vala"
				_tmp36_ = json_object_get_string_member (_tmp35_, "download_url");
#line 231 "Resources.vala"
				_tmp37_ = g_strdup (_tmp36_);
#line 231 "Resources.vala"
				src = _tmp37_;
#line 233 "Resources.vala"
				_tmp38_ = src;
#line 233 "Resources.vala"
				_tmp39_ = split;
#line 233 "Resources.vala"
				_tmp39__length1 = split_length1;
#line 233 "Resources.vala"
				_tmp40_ = _tmp39_[0];
#line 233 "Resources.vala"
				_tmp41_ = n;
#line 233 "Resources.vala"
				_tmp42_ = g_strconcat (_tmp40_, _tmp41_, NULL);
#line 233 "Resources.vala"
				_tmp43_ = _tmp42_;
#line 233 "Resources.vala"
				_tmp44_ = ob;
#line 233 "Resources.vala"
				_tmp45_ = json_object_get_string_member (_tmp44_, "sha");
#line 233 "Resources.vala"
				_tmp46_ = resources_item_new (_tmp38_, _tmp43_, _tmp45_);
#line 233 "Resources.vala"
				_tmp47_ = _tmp46_;
#line 233 "Resources.vala"
				_g_free0 (_tmp43_);
#line 233 "Resources.vala"
				add = _tmp47_;
#line 235 "Resources.vala"
				_tmp48_ = self->priv->fetch_files;
#line 235 "Resources.vala"
				_tmp49_ = add;
#line 235 "Resources.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp48_, _tmp49_);
#line 215 "Resources.vala"
				_g_object_unref0 (add);
#line 215 "Resources.vala"
				_g_free0 (src);
#line 215 "Resources.vala"
				_g_free0 (n);
#line 215 "Resources.vala"
				_json_object_unref0 (ob);
#line 1665 "Resources.vala.c"
			}
		}
	}
#line 197 "Resources.vala"
	_json_array_unref0 (ar);
#line 197 "Resources.vala"
	split = (_vala_array_free (split, split_length1, (GDestroyNotify) g_free), NULL);
#line 197 "Resources.vala"
	__vala_JsonNode_free0 (node);
#line 197 "Resources.vala"
	_g_object_unref0 (pa);
#line 1677 "Resources.vala.c"
}

gboolean
resources_files_has_target (Resources* self,
                            const gchar* target)
{
	gboolean result;
	{
		gint i = 0;
#line 241 "Resources.vala"
		i = 0;
#line 1689 "Resources.vala.c"
		{
			gboolean _tmp0_ = FALSE;
#line 241 "Resources.vala"
			_tmp0_ = TRUE;
#line 241 "Resources.vala"
			while (TRUE) {
#line 1696 "Resources.vala.c"
				GeeArrayList* _tmp2_;
				gint _tmp3_;
				gint _tmp4_;
				GeeArrayList* _tmp5_;
				gpointer _tmp6_;
				ResourcesItem* _tmp7_;
				const gchar* _tmp8_;
				gboolean _tmp9_;
#line 241 "Resources.vala"
				if (!_tmp0_) {
#line 1707 "Resources.vala.c"
					gint _tmp1_;
#line 241 "Resources.vala"
					_tmp1_ = i;
#line 241 "Resources.vala"
					i = _tmp1_ + 1;
#line 1713 "Resources.vala.c"
				}
#line 241 "Resources.vala"
				_tmp0_ = FALSE;
#line 241 "Resources.vala"
				_tmp2_ = self->priv->fetch_files;
#line 241 "Resources.vala"
				_tmp3_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp2_);
#line 241 "Resources.vala"
				_tmp4_ = _tmp3_;
#line 241 "Resources.vala"
				if (!(i < _tmp4_)) {
#line 241 "Resources.vala"
					break;
#line 1727 "Resources.vala.c"
				}
#line 242 "Resources.vala"
				_tmp5_ = self->priv->fetch_files;
#line 242 "Resources.vala"
				_tmp6_ = gee_abstract_list_get ((GeeAbstractList*) _tmp5_, i);
#line 242 "Resources.vala"
				_tmp7_ = (ResourcesItem*) _tmp6_;
#line 242 "Resources.vala"
				_tmp8_ = _tmp7_->target;
#line 242 "Resources.vala"
				_tmp9_ = g_strcmp0 (_tmp8_, target) == 0;
#line 242 "Resources.vala"
				_g_object_unref0 (_tmp7_);
#line 242 "Resources.vala"
				if (_tmp9_) {
#line 243 "Resources.vala"
					result = TRUE;
#line 243 "Resources.vala"
					return result;
#line 1747 "Resources.vala.c"
				}
			}
		}
	}
#line 246 "Resources.vala"
	result = FALSE;
#line 246 "Resources.vala"
	return result;
#line 1756 "Resources.vala.c"
}

static Block21Data*
block21_data_ref (Block21Data* _data21_)
{
#line 253 "Resources.vala"
	g_atomic_int_inc (&_data21_->_ref_count_);
#line 253 "Resources.vala"
	return _data21_;
#line 1766 "Resources.vala.c"
}

static void
block21_data_unref (void * _userdata_)
{
	Block21Data* _data21_;
	_data21_ = (Block21Data*) _userdata_;
#line 253 "Resources.vala"
	if (g_atomic_int_dec_and_test (&_data21_->_ref_count_)) {
#line 1776 "Resources.vala.c"
		Resources* self;
#line 253 "Resources.vala"
		self = _data21_->self;
#line 253 "Resources.vala"
		_g_object_unref0 (_data21_->session);
#line 253 "Resources.vala"
		_g_object_unref0 (_data21_->item);
#line 253 "Resources.vala"
		_g_object_unref0 (self);
#line 253 "Resources.vala"
		g_slice_free (Block21Data, _data21_);
#line 1788 "Resources.vala.c"
	}
}

static void
__lambda21_ (Block21Data* _data21_,
             GObject* obj,
             GAsyncResult* res)
{
	Resources* self;
	GBytes* bytes = NULL;
	SoupSession* _tmp0_;
	GBytes* _tmp1_;
	const gchar* _tmp2_;
	gchar* tfn = NULL;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	const gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	const gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gboolean _tmp16_;
	const gchar* _tmp28_;
	const gchar* _tmp29_;
	GQuark _tmp31_ = 0U;
#line 300 "Resources.vala"
	static GQuark _tmp30_label0 = 0;
#line 300 "Resources.vala"
	static GQuark _tmp30_label1 = 0;
#line 1821 "Resources.vala.c"
	GError* _inner_error0_ = NULL;
#line 265 "Resources.vala"
	self = _data21_->self;
#line 266 "Resources.vala"
	_tmp0_ = _data21_->session;
#line 266 "Resources.vala"
	_tmp1_ = soup_session_send_and_read_finish (_tmp0_, res, &_inner_error0_);
#line 266 "Resources.vala"
	bytes = _tmp1_;
#line 266 "Resources.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 266 "Resources.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 266 "Resources.vala"
		g_clear_error (&_inner_error0_);
#line 266 "Resources.vala"
		return;
#line 1839 "Resources.vala.c"
	}
#line 269 "Resources.vala"
	_tmp2_ = _data21_->item->target;
#line 269 "Resources.vala"
	if (string_contains (_tmp2_, "*")) {
#line 1845 "Resources.vala.c"
		gsize _tmp3_ = 0;
		guint8* _tmp4_;
		const gchar* _tmp5_;
#line 272 "Resources.vala"
		_tmp4_ = g_bytes_get_data (bytes, &_tmp3_);
#line 272 "Resources.vala"
		_tmp5_ = _data21_->item->target;
#line 272 "Resources.vala"
		resources_parseDirectory (self, (const gchar*) _tmp4_, _tmp5_);
#line 273 "Resources.vala"
		resources_fetchNext (self);
#line 274 "Resources.vala"
		_g_bytes_unref0 (bytes);
#line 274 "Resources.vala"
		return;
#line 1861 "Resources.vala.c"
	}
#line 278 "Resources.vala"
	_tmp6_ = builder_application_configDirectory ();
#line 278 "Resources.vala"
	_tmp7_ = _tmp6_;
#line 278 "Resources.vala"
	_tmp8_ = g_strconcat (_tmp7_, "/resources/", NULL);
#line 278 "Resources.vala"
	_tmp9_ = _tmp8_;
#line 278 "Resources.vala"
	_tmp10_ = _data21_->item->target;
#line 278 "Resources.vala"
	_tmp11_ = g_strconcat (_tmp9_, _tmp10_, NULL);
#line 278 "Resources.vala"
	_tmp12_ = _tmp11_;
#line 278 "Resources.vala"
	_g_free0 (_tmp9_);
#line 278 "Resources.vala"
	_g_free0 (_tmp7_);
#line 278 "Resources.vala"
	tfn = _tmp12_;
#line 282 "Resources.vala"
	_tmp13_ = tfn;
#line 282 "Resources.vala"
	_tmp14_ = g_path_get_dirname (_tmp13_);
#line 282 "Resources.vala"
	_tmp15_ = _tmp14_;
#line 282 "Resources.vala"
	_tmp16_ = !g_file_test (_tmp15_, G_FILE_TEST_IS_DIR);
#line 282 "Resources.vala"
	_g_free0 (_tmp15_);
#line 282 "Resources.vala"
	if (_tmp16_) {
#line 1895 "Resources.vala.c"
		GFile* f = NULL;
		const gchar* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
		GFile* _tmp20_;
		GFile* _tmp21_;
#line 283 "Resources.vala"
		_tmp17_ = tfn;
#line 283 "Resources.vala"
		_tmp18_ = g_path_get_dirname (_tmp17_);
#line 283 "Resources.vala"
		_tmp19_ = _tmp18_;
#line 283 "Resources.vala"
		_tmp20_ = g_file_new_for_path (_tmp19_);
#line 283 "Resources.vala"
		_tmp21_ = _tmp20_;
#line 283 "Resources.vala"
		_g_free0 (_tmp19_);
#line 283 "Resources.vala"
		f = _tmp21_;
#line 1916 "Resources.vala.c"
		{
			GFile* _tmp22_;
#line 285 "Resources.vala"
			_tmp22_ = f;
#line 285 "Resources.vala"
			g_file_make_directory_with_parents (_tmp22_, NULL, &_inner_error0_);
#line 285 "Resources.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1925 "Resources.vala.c"
				goto __catch0_g_error;
			}
		}
		goto __finally0;
		__catch0_g_error:
		{
			GError* e = NULL;
			const gchar* _tmp23_;
#line 284 "Resources.vala"
			e = _inner_error0_;
#line 284 "Resources.vala"
			_inner_error0_ = NULL;
#line 287 "Resources.vala"
			_tmp23_ = e->message;
#line 287 "Resources.vala"
			g_error ("Resources.vala:287: Problem creating directory %s", _tmp23_);
#line 284 "Resources.vala"
			_g_error_free0 (e);
#line 1944 "Resources.vala.c"
		}
		__finally0:
#line 284 "Resources.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 284 "Resources.vala"
			_g_object_unref0 (f);
#line 284 "Resources.vala"
			_g_free0 (tfn);
#line 284 "Resources.vala"
			_g_bytes_unref0 (bytes);
#line 284 "Resources.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 284 "Resources.vala"
			g_clear_error (&_inner_error0_);
#line 284 "Resources.vala"
			return;
#line 1961 "Resources.vala.c"
		}
#line 282 "Resources.vala"
		_g_object_unref0 (f);
#line 1965 "Resources.vala.c"
	}
	{
		const gchar* _tmp24_;
		gsize _tmp25_ = 0;
		guint8* _tmp26_;
#line 296 "Resources.vala"
		_tmp24_ = tfn;
#line 296 "Resources.vala"
		_tmp26_ = g_bytes_get_data (bytes, &_tmp25_);
#line 296 "Resources.vala"
		g_file_set_contents (_tmp24_, (const gchar*) _tmp26_, (gssize) -1, &_inner_error0_);
#line 296 "Resources.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1979 "Resources.vala.c"
			goto __catch1_g_error;
		}
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* e = NULL;
		const gchar* _tmp27_;
#line 295 "Resources.vala"
		e = _inner_error0_;
#line 295 "Resources.vala"
		_inner_error0_ = NULL;
#line 298 "Resources.vala"
		_tmp27_ = e->message;
#line 298 "Resources.vala"
		g_error ("Resources.vala:298: Problem writing data %s", _tmp27_);
#line 295 "Resources.vala"
		_g_error_free0 (e);
#line 1998 "Resources.vala.c"
	}
	__finally1:
#line 295 "Resources.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 295 "Resources.vala"
		_g_free0 (tfn);
#line 295 "Resources.vala"
		_g_bytes_unref0 (bytes);
#line 295 "Resources.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 295 "Resources.vala"
		g_clear_error (&_inner_error0_);
#line 295 "Resources.vala"
		return;
#line 2013 "Resources.vala.c"
	}
#line 300 "Resources.vala"
	_tmp28_ = _data21_->item->target;
#line 300 "Resources.vala"
	_tmp29_ = _tmp28_;
#line 300 "Resources.vala"
	_tmp31_ = (NULL == _tmp29_) ? 0 : g_quark_from_string (_tmp29_);
#line 300 "Resources.vala"
	if (_tmp31_ == ((0 != _tmp30_label0) ? _tmp30_label0 : (_tmp30_label0 = g_quark_from_static_string ("Gir.overides")))) {
#line 300 "Resources.vala"
		switch (0) {
#line 2025 "Resources.vala.c"
			default:
			{
				{
					GeeArrayList* _p_list = NULL;
					GeeArrayList* _tmp32_;
					gint _p_size = 0;
					GeeArrayList* _tmp33_;
					gint _tmp34_;
					gint _tmp35_;
					gint _p_index = 0;
#line 303 "Resources.vala"
					_tmp32_ = project_project_allProjectsByName ();
#line 303 "Resources.vala"
					_p_list = _tmp32_;
#line 303 "Resources.vala"
					_tmp33_ = _p_list;
#line 303 "Resources.vala"
					_tmp34_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp33_);
#line 303 "Resources.vala"
					_tmp35_ = _tmp34_;
#line 303 "Resources.vala"
					_p_size = _tmp35_;
#line 303 "Resources.vala"
					_p_index = -1;
#line 303 "Resources.vala"
					while (TRUE) {
#line 2052 "Resources.vala.c"
						gint _tmp36_;
						gint _tmp37_;
						ProjectProject* p = NULL;
						GeeArrayList* _tmp38_;
						gpointer _tmp39_;
						ProjectProject* _tmp40_;
#line 303 "Resources.vala"
						_p_index = _p_index + 1;
#line 303 "Resources.vala"
						_tmp36_ = _p_index;
#line 303 "Resources.vala"
						_tmp37_ = _p_size;
#line 303 "Resources.vala"
						if (!(_tmp36_ < _tmp37_)) {
#line 303 "Resources.vala"
							break;
#line 2069 "Resources.vala.c"
						}
#line 303 "Resources.vala"
						_tmp38_ = _p_list;
#line 303 "Resources.vala"
						_tmp39_ = gee_abstract_list_get ((GeeAbstractList*) _tmp38_, _p_index);
#line 303 "Resources.vala"
						p = (ProjectProject*) _tmp39_;
#line 304 "Resources.vala"
						_tmp40_ = p;
#line 304 "Resources.vala"
						if (PROJECT_IS_GTK (_tmp40_)) {
#line 2081 "Resources.vala.c"
							ProjectProject* _tmp41_;
							GeeHashMap* _tmp42_;
#line 305 "Resources.vala"
							_tmp41_ = p;
#line 305 "Resources.vala"
							_tmp42_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, PALETE_TYPE_GIR, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 305 "Resources.vala"
							_g_object_unref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp41_, PROJECT_TYPE_GTK, ProjectGtk)->gir_cache);
#line 305 "Resources.vala"
							G_TYPE_CHECK_INSTANCE_CAST (_tmp41_, PROJECT_TYPE_GTK, ProjectGtk)->gir_cache = _tmp42_;
#line 2092 "Resources.vala.c"
						}
#line 303 "Resources.vala"
						_g_object_unref0 (p);
#line 2096 "Resources.vala.c"
					}
#line 303 "Resources.vala"
					_g_object_unref0 (_p_list);
#line 2100 "Resources.vala.c"
				}
#line 309 "Resources.vala"
				break;
#line 2104 "Resources.vala.c"
			}
		}
	} else if (_tmp31_ == ((0 != _tmp30_label1) ? _tmp30_label1 : (_tmp30_label1 = g_quark_from_static_string ("roodata.json")))) {
#line 300 "Resources.vala"
		switch (0) {
#line 2110 "Resources.vala.c"
			default:
			{
#line 313 "Resources.vala"
				_g_object_unref0 (palete_roo_classes_cache);
#line 313 "Resources.vala"
				palete_roo_classes_cache = NULL;
#line 2117 "Resources.vala.c"
				{
					GeeArrayList* _p_list = NULL;
					GeeArrayList* _tmp43_;
					gint _p_size = 0;
					GeeArrayList* _tmp44_;
					gint _tmp45_;
					gint _tmp46_;
					gint _p_index = 0;
#line 314 "Resources.vala"
					_tmp43_ = project_project_allProjectsByName ();
#line 314 "Resources.vala"
					_p_list = _tmp43_;
#line 314 "Resources.vala"
					_tmp44_ = _p_list;
#line 314 "Resources.vala"
					_tmp45_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp44_);
#line 314 "Resources.vala"
					_tmp46_ = _tmp45_;
#line 314 "Resources.vala"
					_p_size = _tmp46_;
#line 314 "Resources.vala"
					_p_index = -1;
#line 314 "Resources.vala"
					while (TRUE) {
#line 2142 "Resources.vala.c"
						gint _tmp47_;
						gint _tmp48_;
						ProjectProject* p = NULL;
						GeeArrayList* _tmp49_;
						gpointer _tmp50_;
						ProjectProject* _tmp51_;
#line 314 "Resources.vala"
						_p_index = _p_index + 1;
#line 314 "Resources.vala"
						_tmp47_ = _p_index;
#line 314 "Resources.vala"
						_tmp48_ = _p_size;
#line 314 "Resources.vala"
						if (!(_tmp47_ < _tmp48_)) {
#line 314 "Resources.vala"
							break;
#line 2159 "Resources.vala.c"
						}
#line 314 "Resources.vala"
						_tmp49_ = _p_list;
#line 314 "Resources.vala"
						_tmp50_ = gee_abstract_list_get ((GeeAbstractList*) _tmp49_, _p_index);
#line 314 "Resources.vala"
						p = (ProjectProject*) _tmp50_;
#line 315 "Resources.vala"
						_tmp51_ = p;
#line 315 "Resources.vala"
						if (PROJECT_IS_ROO (_tmp51_)) {
#line 2171 "Resources.vala.c"
							ProjectProject* _tmp52_;
							ProjectProject* _tmp53_;
							PaleteRoo* _tmp54_;
#line 316 "Resources.vala"
							_tmp52_ = p;
#line 316 "Resources.vala"
							_tmp53_ = p;
#line 316 "Resources.vala"
							_tmp54_ = palete_roo_new (_tmp53_);
#line 316 "Resources.vala"
							_g_object_unref0 (_tmp52_->palete);
#line 316 "Resources.vala"
							_tmp52_->palete = (PaletePalete*) _tmp54_;
#line 2185 "Resources.vala.c"
						}
#line 314 "Resources.vala"
						_g_object_unref0 (p);
#line 2189 "Resources.vala.c"
					}
#line 314 "Resources.vala"
					_g_object_unref0 (_p_list);
#line 2193 "Resources.vala.c"
				}
#line 320 "Resources.vala"
				break;
#line 2197 "Resources.vala.c"
			}
		}
	} else {
#line 300 "Resources.vala"
		switch (0) {
#line 2203 "Resources.vala.c"
			default:
			{
#line 323 "Resources.vala"
				break;
#line 2208 "Resources.vala.c"
			}
		}
	}
#line 331 "Resources.vala"
	resources_fetchNext (self);
#line 265 "Resources.vala"
	_g_free0 (tfn);
#line 265 "Resources.vala"
	_g_bytes_unref0 (bytes);
#line 2218 "Resources.vala.c"
}

static void
___lambda21__gasync_ready_callback (GObject* source_object,
                                    GAsyncResult* res,
                                    gpointer self)
{
#line 265 "Resources.vala"
	__lambda21_ (self, source_object, res);
#line 265 "Resources.vala"
	block21_data_unref (self);
#line 2230 "Resources.vala.c"
}

void
resources_fetchResourceFrom (Resources* self,
                             ResourcesItem* item)
{
	Block21Data* _data21_;
	ResourcesItem* _tmp0_;
	gboolean _tmp1_ = FALSE;
	const gchar* _tmp2_;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	SoupSession* _tmp7_;
	SoupSession* _tmp8_;
	SoupMessage* message = NULL;
	const gchar* _tmp9_;
	SoupMessage* _tmp10_;
	SoupSession* _tmp11_;
	SoupMessage* _tmp12_;
#line 253 "Resources.vala"
	_data21_ = g_slice_new0 (Block21Data);
#line 253 "Resources.vala"
	_data21_->_ref_count_ = 1;
#line 253 "Resources.vala"
	_data21_->self = g_object_ref (self);
#line 253 "Resources.vala"
	_tmp0_ = _g_object_ref0 (item);
#line 253 "Resources.vala"
	_g_object_unref0 (_data21_->item);
#line 253 "Resources.vala"
	_data21_->item = _tmp0_;
#line 255 "Resources.vala"
	_tmp2_ = _data21_->item->new_sha;
#line 255 "Resources.vala"
	if (g_strcmp0 (_tmp2_, "") != 0) {
#line 2266 "Resources.vala.c"
		const gchar* _tmp3_;
		const gchar* _tmp4_;
#line 255 "Resources.vala"
		_tmp3_ = _data21_->item->new_sha;
#line 255 "Resources.vala"
		_tmp4_ = _data21_->item->cur_sha;
#line 255 "Resources.vala"
		_tmp1_ = g_strcmp0 (_tmp3_, _tmp4_) == 0;
#line 2275 "Resources.vala.c"
	} else {
#line 255 "Resources.vala"
		_tmp1_ = FALSE;
#line 2279 "Resources.vala.c"
	}
#line 255 "Resources.vala"
	if (_tmp1_) {
#line 256 "Resources.vala"
		resources_fetchNext (self);
#line 257 "Resources.vala"
		block21_data_unref (_data21_);
#line 257 "Resources.vala"
		_data21_ = NULL;
#line 257 "Resources.vala"
		return;
#line 2291 "Resources.vala.c"
	}
#line 261 "Resources.vala"
	_tmp5_ = _data21_->item->src;
#line 261 "Resources.vala"
	_tmp6_ = _data21_->item->target;
#line 261 "Resources.vala"
	g_print ("downloading %s \nto : %s\n", _tmp5_, _tmp6_);
#line 262 "Resources.vala"
	_tmp7_ = soup_session_new ();
#line 262 "Resources.vala"
	_data21_->session = _tmp7_;
#line 263 "Resources.vala"
	_tmp8_ = _data21_->session;
#line 263 "Resources.vala"
	soup_session_set_user_agent (_tmp8_, "App Builder ");
#line 264 "Resources.vala"
	_tmp9_ = _data21_->item->src;
#line 264 "Resources.vala"
	_tmp10_ = soup_message_new ("GET", _tmp9_);
#line 264 "Resources.vala"
	message = _tmp10_;
#line 265 "Resources.vala"
	_tmp11_ = _data21_->session;
#line 265 "Resources.vala"
	_tmp12_ = message;
#line 265 "Resources.vala"
	soup_session_send_and_read_async (_tmp11_, _tmp12_, 0, NULL, ___lambda21__gasync_ready_callback, block21_data_ref (_data21_));
#line 253 "Resources.vala"
	_g_object_unref0 (message);
#line 253 "Resources.vala"
	block21_data_unref (_data21_);
#line 253 "Resources.vala"
	_data21_ = NULL;
#line 2325 "Resources.vala.c"
}

static void
g_cclosure_user_marshal_VOID__UINT_UINT (GClosure * closure,
                                         GValue * return_value,
                                         guint n_param_values,
                                         const GValue * param_values,
                                         gpointer invocation_hint,
                                         gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__UINT_UINT) (gpointer data1, guint arg_1, guint arg_2, gpointer data2);
	register GMarshalFunc_VOID__UINT_UINT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 65 "Resources.vala"
	g_return_if_fail (n_param_values == 3);
#line 65 "Resources.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 65 "Resources.vala"
		data1 = closure->data;
#line 65 "Resources.vala"
		data2 = param_values->data[0].v_pointer;
#line 2350 "Resources.vala.c"
	} else {
#line 65 "Resources.vala"
		data1 = param_values->data[0].v_pointer;
#line 65 "Resources.vala"
		data2 = closure->data;
#line 2356 "Resources.vala.c"
	}
#line 65 "Resources.vala"
	callback = (GMarshalFunc_VOID__UINT_UINT) (marshal_data ? marshal_data : cc->callback);
#line 65 "Resources.vala"
	callback (data1, g_value_get_uint (param_values + 1), g_value_get_uint (param_values + 2), data2);
#line 2362 "Resources.vala.c"
}

static void
resources_class_init (ResourcesClass * klass,
                      gpointer klass_data)
{
#line 65 "Resources.vala"
	resources_parent_class = g_type_class_peek_parent (klass);
#line 65 "Resources.vala"
	g_type_class_adjust_private_offset (klass, &Resources_private_offset);
#line 65 "Resources.vala"
	G_OBJECT_CLASS (klass)->finalize = resources_finalize;
#line 65 "Resources.vala"
	resources_signals[RESOURCES_UPDATE_PROGRESS_SIGNAL] = g_signal_new ("update-progress", TYPE_RESOURCES, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__UINT_UINT, G_TYPE_NONE, 2, G_TYPE_UINT, G_TYPE_UINT);
#line 2377 "Resources.vala.c"
}

static void
resources_instance_init (Resources * self,
                         gpointer klass)
{
#line 65 "Resources.vala"
	self->priv = resources_get_instance_private (self);
#line 129 "Resources.vala"
	self->priv->fetch_pos = 0;
#line 2388 "Resources.vala.c"
}

static void
resources_finalize (GObject * obj)
{
	Resources * self;
#line 65 "Resources.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_RESOURCES, Resources);
#line 73 "Resources.vala"
	_g_object_unref0 (self->priv->fetch_files);
#line 65 "Resources.vala"
	G_OBJECT_CLASS (resources_parent_class)->finalize (obj);
#line 2401 "Resources.vala.c"
}

static GType
resources_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ResourcesClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) resources_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Resources), 0, (GInstanceInitFunc) resources_instance_init, NULL };
	GType resources_type_id;
	resources_type_id = g_type_register_static (G_TYPE_OBJECT, "Resources", &g_define_type_info, 0);
	Resources_private_offset = g_type_add_instance_private (resources_type_id, sizeof (ResourcesPrivate));
	return resources_type_id;
}

GType
resources_get_type (void)
{
	static volatile gsize resources_type_id__once = 0;
	if (g_once_init_enter (&resources_type_id__once)) {
		GType resources_type_id;
		resources_type_id = resources_get_type_once ();
		g_once_init_leave (&resources_type_id__once, resources_type_id);
	}
	return resources_type_id__once;
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gssize i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gssize
_vala_array_length (gpointer array)
{
	gssize length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

static inline gpointer
_vala_memdup2 (gconstpointer mem,
               gsize byte_size)
{
	gpointer new_mem;
	if (mem && byte_size != 0) {
		new_mem = g_malloc (byte_size);
		memcpy (new_mem, mem, byte_size);
	} else {
		new_mem = NULL;
	}
	return new_mem;
}

